(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3785],{90988:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/systems",function(){return t(37831)}])},1496:function(n,e,t){"use strict";t.d(e,{Z:function(){return m}});var r=t(85034),i=t(70169),s=t(24246),o=t(83265),a=t(88038),c=t.n(a),u=t(86677),l=(t(27378),t(67447)),d=t(63076),f=t(93677),h=function(){var n=(0,u.useRouter)();return(0,s.jsx)(o.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,s.jsxs)(o.xuv,{children:[(0,s.jsxs)(o.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,s.jsx)(o.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,s.jsx)(o.zxk,{size:"sm",variant:"outline",onClick:function(){n.push(f.fz)},children:"Configure"})]}),(0,s.jsxs)(o.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},m=function(n){var e=n.children,t=n.title,a=n.padded,f=void 0===a||a,m=n.mainProps,x=(0,l.hz)(),v=(0,u.useRouter)(),g="/privacy-requests"===v.pathname||"/datastore-connection"===v.pathname,p=!(x.flags.privacyRequestsConfiguration&&g),j=(0,d.JE)(void 0,{skip:p}).data,y=(0,d.PW)(void 0,{skip:p}).data,b=x.flags.privacyRequestsConfiguration&&(!j||!y)&&g;return(0,s.jsxs)(o.kCb,{"data-testid":t,direction:"column",h:"100vh",children:[(0,s.jsxs)(c(),{children:[(0,s.jsxs)("title",{children:["Fides Admin UI - ",t]}),(0,s.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsxs)(o.kCb,(0,i.Z)((0,r.Z)({as:"main",direction:"column",py:f?6:0,px:f?10:0,h:f?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto"},m),{children:[b?(0,s.jsx)(h,{}):null,e]}))]})}},87594:function(n,e,t){"use strict";t.d(e,{Z:function(){return h}});var r=t(85034),i=t(70169),s=t(31373),o=t(24246),a=t(83265),c=t(98784),u=t(27378),l=t(79894),d=t.n(l),f=function(n){var e=n.breadcrumbs;return(0,o.jsx)(a.aGc,{separator:"->",fontSize:"2xl",fontWeight:"semibold","data-testid":"breadcrumbs",children:e.map((function(n,t){var r=t+1===e.length,i=!!n.link||!!n.onClick;return(0,o.jsx)(a.gN6,{color:r||n.isOpaque?"black":"gray.500",children:i?(0,o.jsx)(a.Atw,{as:d(),href:n.link,isCurrentPage:r,children:n.title}):(0,o.jsx)(a.Atw,{_hover:{textDecoration:"none",cursor:"default"},isCurrentPage:r,children:n.title})},n.title)}))})},h=function(n){var e=n.breadcrumbs,t=n.isSticky,l=void 0===t||t,d=n.children,h=(0,s.Z)(n,["breadcrumbs","isSticky","children"]);return(0,o.jsxs)(a.xuv,(0,i.Z)((0,r.Z)({bgColor:"white",paddingY:5},l?{position:"sticky",top:0,left:0,zIndex:10}:{},h),{children:[(0,c.isArray)(e)&&(0,o.jsx)(a.xuv,{marginBottom:d?4:0,children:(0,o.jsx)(f,{breadcrumbs:e})}),(0,u.isValidElement)(e)&&e,d]}))}},33745:function(n,e,t){"use strict";t.d(e,{Tg:function(){return o}});var r=t(24246),i=t(10503),s=t(23536),o=function(n){return(0,i.C)(s.uu).filter((function(e){return n.includes(e)})).length>0};e.ZP=function(n){var e=n.scopes,t=n.children;return o(e)?(0,r.jsx)(r.Fragment,{children:t}):null}},47346:function(n,e,t){"use strict";var r=t(85034),i=t(31373),s=t(24246),o=t(83265);e.Z=function(n){var e=n.search,t=n.onChange,a=n.withIcon,c=n.onClear,u=n.placeholder,l=(0,i.Z)(n,["search","onChange","withIcon","onClear","placeholder"]);return(0,s.jsxs)(o.BZy,{size:"sm",minWidth:"308px",children:[a?(0,s.jsx)(o.Z8_,{pointerEvents:"none",children:(0,s.jsx)(o.PTu,{color:"gray.300",w:"17px",h:"17px"})}):null,(0,s.jsx)(o.IIB,(0,r.Z)({autoComplete:"off",type:"search",minWidth:200,size:"sm",borderRadius:"md",value:e,name:"search",onChange:function(n){return t(n.target.value)},placeholder:u||""},l)),c?(0,s.jsx)(o.xHT,{children:(0,s.jsx)(o.zxk,{borderLeftRadius:0,height:"95%",right:"14px",flexShrink:0,fontWeight:"light",size:"sm",onClick:c,children:"Clear"})}):null]})}},32556:function(n,e,t){"use strict";t.d(e,{D4:function(){return i.D4},MM:function(){return h},Ot:function(){return c},c6:function(){return l},cj:function(){return x},e$:function(){return o},fn:function(){return a},iC:function(){return m},nU:function(){return f},tB:function(){return u}});var r=t(17599),i=t(32764),s="An unexpected error occurred. Please try again.",o=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;if((0,i.Bw)(n)){if((0,i.hE)(n.data))return n.data.detail;if((0,i.cz)(n.data)){var t,r=null===(t=n.data.detail)||void 0===t?void 0:t[0];return"".concat(null===r||void 0===r?void 0:r.msg,": ").concat(null===r||void 0===r?void 0:r.loc)}if(409===n.status&&(0,i.Dy)(n.data))return"".concat(n.data.detail.error," (").concat(n.data.detail.fides_key,")");if(404===n.status&&(0,i.XD)(n.data))return"".concat(n.data.detail.error," (").concat(n.data.detail.fides_key,")")}return e};function a(n){return"object"===typeof n&&null!=n&&"status"in n}function c(n){return"object"===typeof n&&null!=n&&"data"in n&&"string"===typeof n.data.detail}function u(n){return"object"===typeof n&&null!=n&&"data"in n&&Array.isArray(n.data.detail)}var l,d,f=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{status:500,message:s};if((0,i.oK)(n))return{status:n.originalStatus,message:n.data};if((0,i.Bw)(n)){var t=n.status;return{status:t,message:o(n,e.message)}}return e},h=function(n){return Object.entries(n).map((function(n){return{value:n[1],label:n[1]}}))};!function(n){n.GVL="gvl",n.AC="gacp",n.COMPASS="compass"}(l||(l={}));var m=(d={},(0,r.Z)(d,l.GVL,{label:"GVL",fullName:"Global Vendor List"}),(0,r.Z)(d,l.AC,{label:"AC",fullName:"Google Additional Consent List"}),(0,r.Z)(d,l.COMPASS,{label:"",fullName:""}),d),x=function(n){var e=n.split(".")[0];return e===l.AC?l.AC:e===l.GVL?l.GVL:l.COMPASS}},49730:function(n,e,t){"use strict";var r=t(85034),i=t(70169),s=t(24246),o=t(83265);e.Z=function(n){var e=n.isOpen,t=n.onClose,a=n.onConfirm,c=n.onCancel,u=n.title,l=n.message,d=n.cancelButtonText,f=n.cancelButtonThemingProps,h=n.continueButtonText,m=n.continueButtonThemingProps,x=n.isLoading,v=n.returnFocusOnClose,g=n.isCentered,p=n.testId,j=void 0===p?"confirmation-modal":p,y=n.icon;return(0,s.jsxs)(o.u_l,{isOpen:e,onClose:t,size:"lg",returnFocusOnClose:null===v||void 0===v||v,isCentered:g,children:[(0,s.jsx)(o.ZAr,{}),(0,s.jsxs)(o.hzk,{textAlign:"center",p:6,"data-testid":j,children:[y?(0,s.jsx)(o.M5Y,{mb:2,children:y}):null,u?(0,s.jsx)(o.xBx,{fontWeight:"medium",pb:0,children:u}):null,l?(0,s.jsx)(o.fef,{children:l}):null,(0,s.jsx)(o.mzw,{children:(0,s.jsxs)(o.MIq,{columns:2,width:"100%",children:[(0,s.jsx)(o.zxk,(0,i.Z)((0,r.Z)({variant:"outline",mr:3,onClick:function(){c&&c(),t()},"data-testid":"cancel-btn",isDisabled:x},f),{children:d||"Cancel"})),(0,s.jsx)(o.zxk,(0,i.Z)((0,r.Z)({colorScheme:"primary",onClick:a,"data-testid":"continue-btn",isLoading:x},m),{children:h||"Continue"}))]})})]})]})}},61186:function(n,e,t){"use strict";t.d(e,{MA:function(){return c},Vo:function(){return l},t5:function(){return u}});var r=t(85034),i=t(24246),s=t(83265),o=function(n){var e=n.children;return(0,i.jsxs)(s.xvT,{"data-testid":"toast-success-msg",children:[(0,i.jsx)("strong",{children:"Success:"})," ",e]})},a=function(n){var e=n.children;return(0,i.jsxs)(s.xvT,{"data-testid":"toast-error-msg",children:[(0,i.jsx)("strong",{children:"Error:"})," ",e]})},c={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},u=function(n){var e=(0,i.jsx)(o,{children:n});return(0,r.Z)({},c,{description:e})},l=function(n){var e=(0,i.jsx)(a,{children:n});return(0,r.Z)({},c,{description:e,status:"error"})}},42330:function(n,e,t){"use strict";t.d(e,{R:function(){return _},Z:function(){return Z}});var r=t(24246),i=t(83265),s=t(27378),o=t(33571),a=t.n(o),c=function(n){var e=n.columns,t=n.items,s=n.renderItem,o=(0,i.yo_)(t,e);return(0,r.jsx)(i.xuv,{children:o.map((function(n,t,o){var c=o.length;return(0,r.jsx)(i.xuv,{className:a()["grid-row"],borderBottomWidth:c>1&&t===c-1&&n.length===e?"0.5px":void 0,children:(0,r.jsx)(i.MIq,{columns:e,children:n.map((function(n){return(0,r.jsx)(i.xuv,{className:a()["grid-item"],children:s(n)},JSON.stringify(n))}))})},JSON.stringify(n))}))})},u=t(47346),l=t(23842),d=t(52050),f=t(85556),h=t(79894),m=t.n(h),x=t(86677),v=t(10503),g=t(49730),p=t(93677),j=t(33745),y=t(12262),b=t(32556),C=t(61186),w=t(44982),k=function(n){var e=n.system,t=(0,i.qY0)(),s=t.isOpen,o=t.onOpen,a=t.onClose,c=(0,i.pmc)(),u=(0,v.T)(),h=(0,x.useRouter)(),k=(0,d.Z)((0,w.DW)(),1)[0],_=function(){var n=(0,l.Z)((function(){var n;return(0,f.__generator)(this,(function(t){switch(t.label){case 0:return[4,k(e.fides_key)];case 1:return n=t.sent(),(0,b.D4)(n)?c((0,C.Vo)((0,b.e$)(n.error))):c((0,C.t5)("Successfully deleted system")),a(),[2]}}))}));return function(){return n.apply(this,arguments)}}(),Z=""===e.name||null==e.name?e.fides_key:e.name;return(0,r.jsxs)(i.xuv,{display:"flex","data-testid":"system-".concat(e.fides_key),children:[(0,r.jsx)(m(),{href:"".concat(p.So,"/configure/").concat(e.fides_key),passHref:!0,children:(0,r.jsxs)(i.xuv,{flexGrow:1,p:4,"data-testid":"system-box",_hover:{cursor:"pointer"},children:[(0,r.jsx)(i.X6q,{as:"h2",fontSize:"16px",mb:2,children:Z}),(0,r.jsx)(i.xuv,{color:"gray.600",fontSize:"14px",children:(0,r.jsx)(i.xvT,{children:e.description})})]})}),(0,r.jsxs)(i.v2r,{children:[(0,r.jsx)(i.j2t,{as:i.hU,icon:(0,r.jsx)(i.nXP,{}),"aria-label":"more actions",variant:"unstyled",size:"sm","data-testid":"more-btn",m:1}),(0,r.jsxs)(i.qyq,{children:[(0,r.jsx)(i.sNh,{onClick:function(){u((0,w.db)(e)),h.push("".concat(p.So,"/configure/").concat(e.fides_key))},"data-testid":"edit-btn",children:"Edit"}),(0,r.jsx)(j.ZP,{scopes:[y.Sh.SYSTEM_DELETE],children:(0,r.jsx)(i.sNh,{onClick:o,"data-testid":"delete-btn",children:"Delete"})})]})]}),(0,r.jsx)(g.Z,{isOpen:s,onClose:a,onConfirm:_,title:"Delete ".concat(Z),message:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.xvT,{children:["You are about to permanently delete the system"," ",(0,r.jsx)(i.xvT,{color:"complimentary.500",as:"span",fontWeight:"bold",children:Z}),"."]}),(0,r.jsx)(i.xvT,{children:"Are you sure you would like to continue?"})]})})]})},_=function(n,e){var t,r;return(null===(t=n.name)||void 0===t?void 0:t.toLocaleLowerCase().includes(e.toLocaleLowerCase()))||(null===(r=n.description)||void 0===r?void 0:r.toLocaleLowerCase().includes(e.toLocaleLowerCase()))},Z=function(n){var e=n.systems,t=(0,s.useState)(""),o=t[0],a=t[1],l=(0,s.useMemo)((function(){return e?e.filter((function(n){return _(n,o)})):[]}),[e,o]);return e&&e.length?(0,r.jsxs)(i.xuv,{"data-testid":"system-management",children:[(0,r.jsx)(i.xuv,{mb:4,"data-testid":"system-filters",children:(0,r.jsx)(u.Z,{search:o,onChange:a,maxWidth:"30vw",placeholder:"Search system name or description","data-testid":"system-search",withIcon:!0})}),(0,r.jsx)(c,{columns:3,items:l,renderItem:function(n){return(0,r.jsx)(k,{system:n})}})]}):(0,r.jsx)("div",{"data-testid":"empty-state",children:"No systems registered."})}},37831:function(n,e,t){"use strict";t.r(e);var r=t(24246),i=t(83265),s=(t(27378),t(1496)),o=t(87594),a=t(12062),c=t(42330);e.default=function(){var n=function(){var n=(0,a.K3)(),e=n.data;return{isLoading:n.isLoading,systems:e}}(),e=n.isLoading,t=n.systems;return(0,r.jsxs)(s.Z,{title:"Systems",mainProps:{paddingTop:0},children:[(0,r.jsx)(o.Z,{breadcrumbs:[{title:"Systems & vendors"}]}),e?(0,r.jsx)(i.$jN,{}):(0,r.jsx)(c.Z,{systems:t})]})}},32764:function(n,e,t){"use strict";t.d(e,{Bw:function(){return o},D4:function(){return i},Dy:function(){return c},XD:function(){return u},cz:function(){return l},hE:function(){return a},oK:function(){return s}});var r=t(76649),i=function(n){return"error"in n},s=function(n){return(0,r.Ln)({status:"string"},n)&&"PARSING_ERROR"===n.status},o=function(n){return(0,r.Ln)({status:"number",data:{}},n)},a=function(n){return(0,r.Ln)({detail:"string"},n)},c=function(n){return(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},n)},u=function(n){return(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},n)},l=function(n){return(0,r.Ln)({detail:[{loc:["string","number"],msg:"string",type:"string"}]},n)}},33571:function(n){n.exports={"grid-row":"BorderGrid_grid-row__gzSVf","grid-item":"BorderGrid_grid-item__7gUTW"}},76649:function(n,e,t){"use strict";t.d(e,{Ln:function(){return r},uX:function(){return o}});const r=(n,e)=>s(n,e),i=Symbol("SOME"),s=(n,e)=>{if("string"==typeof n)return n===typeof e;if(Array.isArray(n))return i in n?n.some((n=>s(n,e))):!!Array.isArray(e)&&(0===n.length||e.every((e=>n.some((n=>s(n,e))))));if("object"!=typeof e||null===e)return!1;const t=e;return Object.entries(n).every((([n,e])=>s(e,t[n])))},o=n=>e=>r(n,e);class a{static narrow(n){return new a((e=>r(n,e)))}constructor(n){this.NF=void 0,this.NF=n}satisfied(n){return this.NF(n)}build(n){return n}and(n){const e=this.NF,t=n instanceof a?n.NF:n instanceof Function?n:e=>r(n,e);return new a((n=>e(n)&&t(n)))}}new a((n=>!0))}},function(n){n.O(0,[8033,9774,2888,179],(function(){return e=90988,n(n.s=e);var e}));var e=n.O();_N_E=e}]);