(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[4332],{12248:(r,e,n)=>{"use strict";n.d(e,{Gp:()=>b,lY:()=>g,F4:()=>O,rt:()=>P,d8:()=>j,C0:()=>S,oJ:()=>w,VO:()=>h,E4:()=>x,We:()=>E,F:()=>k,w7:()=>T,u7:()=>D,$R:()=>C,gX:()=>I,Jw:()=>A,I1:()=>R,MC:()=>_,CH:()=>U,YB:()=>M,zU:()=>V,T$:()=>z,d:()=>F,S2:()=>L,DO:()=>N,kG:()=>B,Xe:()=>Y,K4:()=>G,xG:()=>J,tU:()=>$,NM:()=>W,S$:()=>H,Nc:()=>X,ES:()=>Z,Kg:()=>q});var t=n(22222),o=n(227361),i=n.n(o),u=n(957557),l=n.n(u),c=n(478718),a=n.n(c),s=n(800827),f=n(658422),d=n(688182);function v(r){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},v(r)}function p(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.push.apply(n,t)}return n}function m(r){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){y(r,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))}))}return r}function y(r,e,n){return(e=function(r){var e=function(r,e){if("object"!=v(r)||!r)return r;var n=r[Symbol.toPrimitive];if(void 0!==n){var t=n.call(r,"string");if("object"!=v(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==v(e)?e:e+""}(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}var b=function(r){return r.contextcreator&&r.contextcreator.newContext},g=(0,t.P1)(b,(function(r){return r&&r.mapConfig})),O=function(r){return r.contextcreator&&r.contextcreator.stepId},P=function(r){return r.contextcreator&&r.contextcreator.resource},j=function(r){return r.contextcreator&&r.contextcreator.mapViewerLoaded},S=function(r){return r.contextcreator&&r.contextcreator.showReloadConfirm},w=function(r){return r.contextcreator&&r.contextcreator.showDialog},h=function(r){return r.contextcreator&&r.contextcreator.loading},x=function(r){return r.contextcreator&&r.contextcreator.loadFlags},E=function(r){return r.contextcreator&&r.contextcreator.isValidContextName},k=function(r){return r.contextcreator&&r.contextcreator.contextNameChecked},T=function(r){return r.contextcreator&&r.contextcreator.plugins},D=function(r){return r.contextcreator&&r.contextcreator.initialEnabledPlugins},C=function(r){return r.contextcreator&&r.contextcreator.editedPlugin},I=function(r){return r.contextcreator&&r.contextcreator.editedCfg},A=function(r){return r.contextcreator&&r.contextcreator.parsedCfg},R=function(r){return r.contextcreator&&r.contextcreator.cfgError},_=function(r){return i()(r,"contextcreator.validationStatus",!0)},U=function(r){return r.contextcreator&&r.contextcreator.parsedTemplate},M=function(r){return r.contextcreator&&r.contextcreator.fileDropStatus},V=function(r){var e;return null===(e=r.contextcreator)||void 0===e?void 0:e.templates},z=function(r){return r.contextcreator&&r.contextcreator.editedTemplate},K=function(r){return r.contextcreator&&r.contextcreator.filterText},F=(0,t.P1)(K,(function(r){return i()(r,"availablePlugins")})),L=(0,t.P1)(K,(function(r){return i()(r,"enabledPlugins")})),N=(0,t.P1)(K,(function(r){return i()(r,"availableTemplates")})),B=(0,t.P1)(K,(function(r){return i()(r,"enabledTemplates")})),Y=function(r){return i()(r,"contextcreator.showBackToPageConfirmation",!1)},G=function(r){var e;return null===(e=r.contextcreator)||void 0===e?void 0:e.tutorials},J=function(r){return function(e){var n,t;return(null===(n=e.contextcreator)||void 0===n||null===(t=n.wasTutorialShown)||void 0===t?void 0:t[r])||!1}},$=function(r){var e;return null===(e=r.contextcreator)||void 0===e?void 0:e.tutorialStep},W=function(r){return i()(r,"contextcreator.selectedTheme")},H=function(r){return i()(r,"contextcreator.customVariablesEnabled",!1)},X=function(r){var e;return"new"===(null===(e=r.contextcreator)||void 0===e?void 0:e.contextId)},Z=function(r){return i()(r,"contextcreator.prefetchedData",{})},q=function(r){var e,n=(0,s.Od)(r);e=null!=n&&n.center?n?(0,f.e_)(r):{}:g(r)||{};var t=T(r),o=b(r),i=P(r),u=V(r),c=(0,d.r)(t).filter((function(r){return r.enabled})).map((function(r){return"MapTemplates"===r.name?m(m({},r),{},{pluginConfig:m(m({},r.pluginConfig),{},{cfg:m(m({},r.pluginConfig.cfg||{}),{},{allowedTemplates:u.filter((function(r){return r.enabled})).map((function(r){return a()(r,"id")}))})})}):r})),v=(0,d.Z)(c.filter((function(r){return!r.isUserPlugin}))),p=(0,d.Z)(c.filter((function(r){return r.isUserPlugin}))),y=W(r),O=H(r),j=m(m({},o),{},{mapConfig:e,theme:y,customVariablesEnabled:O,plugins:{desktop:v},userPlugins:p});return i&&i.id?m(m({},l()(i,"name","description")),{},{data:j,metadata:{name:i&&i.name,description:i.description}}):{category:"CONTEXT",data:j,metadata:{name:i&&i.name}}}},688182:(r,e,n)=>{"use strict";n.d(e,{Z:()=>f,r:()=>d});var t=n(957557),o=n.n(t),i=n(385564),u=n.n(i);function l(r){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},l(r)}function c(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.push.apply(n,t)}return n}function a(r){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){s(r,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))}))}return r}function s(r,e,n){return(e=function(r){var e=function(r,e){if("object"!=l(r)||!r)return r;var n=r[Symbol.toPrimitive];if(void 0!==n){var t=n.call(r,"string");if("object"!=l(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==l(e)?e:e+""}(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}var f=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(r){return a(a({},r.pluginConfig),r.isUserPlugin?{active:r.active}:{})}))},d=function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u()(e.map((function(e){return[o()(e,"children")].concat(e.enabled?r(e.children):[])})))}},482100:(r,e,n)=>{"use strict";n.d(e,{ez:()=>Z,il:()=>X,cF:()=>tr,OV:()=>dr,iV:()=>rr,Il:()=>ir,sY:()=>ur,hs:()=>sr,sF:()=>fr,oS:()=>er,yK:()=>Q,uu:()=>G,YR:()=>ar,fg:()=>N,Yj:()=>Y,HG:()=>B,UU:()=>J,l_:()=>or,L4:()=>H,V$:()=>q,km:()=>W,Bs:()=>$});var t=n(800827),o=n(658422),i=n(675110);function u(r){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},u(r)}var l=["map"];function c(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.push.apply(n,t)}return n}function a(r){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){s(r,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))}))}return r}function s(r,e,n){return(e=function(r){var e=function(r,e){if("object"!=u(r)||!r)return r;var n=r[Symbol.toPrimitive];if(void 0!==n){var t=n.call(r,"string");if("object"!=u(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==u(e)?e:e+""}(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}var f=n(552259),d=n(866113),v=n(367306),p=n(401757),m=n(535721),y=n(452992),b=n(957557),g=n.n(b),O=n(701469),P=n.n(O),j=n(513218),S=n.n(j),w=n(618446),h=n.n(w),x=n(478718),E=n.n(x),k=n(441609),T=n.n(k),D=n(227361),C=n.n(D),I=n(12248);function A(r){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},A(r)}var R=["mapConfig"],_=["data"],U=["maps"];function M(r){return function(r){if(Array.isArray(r))return V(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,e){if(r){if("string"==typeof r)return V(r,e);var n={}.toString.call(r).slice(8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Array.from(r):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(r,e):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(r,e){(null==e||e>r.length)&&(e=r.length);for(var n=0,t=Array(e);n<e;n++)t[n]=r[n];return t}function z(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.push.apply(n,t)}return n}function K(r){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z(Object(n),!0).forEach((function(e){F(r,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))}))}return r}function F(r,e,n){return(e=function(r){var e=function(r,e){if("object"!=A(r)||!r)return r;var n=r[Symbol.toPrimitive];if(void 0!==n){var t=n.call(r,"string");if("object"!=A(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==A(e)?e:e+""}(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function L(r,e){if(null==r)return{};var n,t,o=function(r,e){if(null==r)return{};var n={};for(var t in r)if({}.hasOwnProperty.call(r,t)){if(e.indexOf(t)>=0)continue;n[t]=r[t]}return n}(r,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(t=0;t<i.length;t++)n=i[t],e.indexOf(n)>=0||{}.propertyIsEnumerable.call(r,n)&&(o[n]=r[n])}return o}var N=function(r){var e,n,t,o=null==r||null===(e=r.gnresource)||void 0===e?void 0:e.id,i=null==r||null===(n=r.gnresource)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.pk;return o||i},B=function(r){var e,n;return(null==r||null===(e=r.gnresource)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.perms)||[]},Y=function(r){var e,n;return(null==r||null===(e=r.gnresource)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.title)||!1},G=function(r){var e,n;return(null==r||null===(e=r.gnresource)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.abstract)||!1},J=function(r){var e,n;return(null==r||null===(e=r.gnresource)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.thumbnail_url)||!1},$=function(r){var e,n;return(null==r||null===(e=r.gnresource)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.updatingThumbnail)||!1},W=function(r){var e,n;return(null==r||null===(e=r.gnresource)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.thumbnailChanged)||!1},H=function(r){var e;return(null==r||null===(e=r.gnresource)||void 0===e?void 0:e.type)||!1},X=function(r){var e,n,t,o,i=null==r||null===(e=r.gnresource)||void 0===e||null===(n=e.permissions)||void 0===n?void 0:n.canEdit,u=(null==r||null===(t=r.gnresource)||void 0===t||null===(o=t.data)||void 0===o?void 0:o.perms)||[];return i||u.includes("change_resourcebase")},Z=function(r){var e,n,t;return null==r||null===(e=r.security)||void 0===e||null===(n=e.user)||void 0===n||null===(t=n.perms)||void 0===t?void 0:t.includes("add_resource")},q=function(r){var e;return!(null==r||null===(e=r.gnresource)||void 0===e||!e.isNew)},Q=function(r){var e;return null==r||null===(e=r.gnresource)||void 0===e?void 0:e.data},rr=function(r){var e;return(null==r||null===(e=r.gnresource)||void 0===e?void 0:e.compactPermissions)||{}},er=function(r){var e,n,t,o=null==r||null===(e=r.gnresource)||void 0===e?void 0:e.compactPermissions,i=null==r||null===(n=r.gnresource)||void 0===n?void 0:n.isCompactPermissionsChanged,u=null==r||null===(t=r.gnresource)||void 0===t?void 0:t.geoLimits;return{compactPermissions:(i||(null==u?void 0:u.length)>0)&&o?o:null,geoLimits:(null==u?void 0:u.length)>0?u:null}},nr=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return r&&(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).some((function(e){return r.info.groups.some((function(r){return r===e.name}))&&"manage"===e.permissions}))||!1},tr=function(r){return B(r).includes("change_resourcebase_permissions")},or=function(r){var e;return null==r||null===(e=r.gnresource)||void 0===e?void 0:e.selectedLayerPermissions},ir=function(r,e){var n;switch(e||(null==r||null===(n=r.gnresource)||void 0===n?void 0:n.type)){case m.P6.MAP:return(0,t.Od)(r)?function(r){var e=(0,i.l2)(r),n=(0,o.e_)(r),t=n.map;return a(a({},function(r,e){if(null==r)return{};var n,t,o=function(r,e){if(null==r)return{};var n={};for(var t in r)if({}.hasOwnProperty.call(r,t)){if(e.indexOf(t)>=0)continue;n[t]=r[t]}return n}(r,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(t=0;t<i.length;t++)n=i[t],e.indexOf(n)>=0||{}.propertyIsEnumerable.call(r,n)&&(o[n]=r[n])}return o}(n,l)),{},{map:a(a({},t),{},{layers:((null==t?void 0:t.layers)||[]).map((function(r){var n=e.find((function(e){return e.id===r.id}));if(n){var t=n.availableStyles;return a(a({},r),{},{availableStyles:t})}return r}))})})}(r):null;case m.P6.GEOSTORY:return(0,d.Kg)(r);case m.P6.DASHBOARD:return(0,p.md)(r);case m.P6.VIEWER:var u=((0,I.Kg)(r)||{}).data||{};return u.mapConfig,L(u,R)||{};default:return null}},ur=function(r,e){var n,t=e||(null==r||null===(n=r.gnresource)||void 0===n?void 0:n.type);return[m.P6.DATASET,m.P6.MAP].includes(t)?null:function(r){var e,n;return(null==r||null===(e=r.gnresource)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.extent)||{}}(r)};function lr(r,e){return P()(r)?r.map((function(r){return lr(r,e)})):S()(r)?Object.keys(g()(r,e)).reduce((function(n,t){return K(K({},n),{},F({},t,lr(r[t],e)))}),{}):r}function cr(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.crs===e.crs&&Math.abs(r.x-e.x)<1e-12&&Math.abs(r.y-e.y)<1e-12}var ar=function(r){var e,n,t;if(function(r){var e,n,t,o="new"===(null==r||null===(e=r.gnresource)||void 0===e||null===(n=e.params)||void 0===n?void 0:n.pk),i=(null==r||null===(t=r.gnresource)||void 0===t?void 0:t.type)===m.P6.VIEWER;return o&&i}(r))return!0;var o=function(r){var e,n=rr(r),t=n.users||[],o=n.groups||[],i=n.organizations||[],u=null==r||null===(e=r.security)||void 0===e?void 0:e.user,l=(u&&t.find((function(r){return r.id===u.pk}))||{}).permissions;return["owner","manage"].includes(l)||nr(u,o)||nr(u,i)}(r),i=(0,y.s2)(r),u=(0,y.SJ)(r);if(!o||i||u)return null;var l=null==r||null===(e=r.gnresource)||void 0===e?void 0:e.type,c=["title","abstract","data","extent"],a=E()((null==r||null===(n=r.gnresource)||void 0===n?void 0:n.initialResource)||{},c),s=a.data,d=void 0===s?{}:s,v=L(a,_),p=er(r),b=p.compactPermissions,O=p.geoLimits,P=JSON.parse(JSON.stringify(ir(r)||{})),j=g()(null==r||null===(t=r.gnresource)||void 0===t?void 0:t.data,["thumbnail_url","thumbnailChanged","updatingThumbnail"])||{},S=E()(j,c),w=!function(r){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=null==r||null===(e=r.gnresource)||void 0===e?void 0:e.type;if(T()(n)||T()(t))return!0;switch(o){case m.P6.MAP:return(0,f.yq)(lr(n,["extraParams","getFeatureInfo","store","capability","extendedParams","availableStyles","center","zoom","bbox"]),lr(t,["extraParams","getFeatureInfo","store","capability","extendedParams","availableStyles","center","zoom","bbox"]));case m.P6.GEOSTORY:return h()(lr(n,["fontFamilies"]),lr(t,["fontFamilies"]));case m.P6.DASHBOARD:var i=(null==n?void 0:n.widgets)||[],u=i.every((function(r){return"map"!==r.widgetType||!!r.maps})),l=!!((null==t?void 0:t.widgets)||[]).find((function(r){if("map"===r.widgetType){var e,n=i.find((function(e){return e.id===r.id})),t=M(r.maps),o=u?t.every((function(r){var e,t=(null==n||null===(e=n.maps)||void 0===e?void 0:e.find((function(e){return e.mapId===r.mapId})))||{};return cr(null==t?void 0:t.center,null==r?void 0:r.center)})):cr(null==n||null===(e=n.map)||void 0===e?void 0:e.center,t[0].center);return!n||!o}return!1})),c=u?t:K(K({},t),{},{widgets:t.widgets.map((function(r){if(r.maps){var e=r.maps;delete r.maps,r.map=e[0]}return r}))}),a=["bbox","size","center","layouts"],s=u?a:["bbox","size","center","layouts","mapId","dependenciesMap","selectedMapId"];return h()(lr(n,a),lr(c,s))&&!l;case m.P6.VIEWER:return h()(lr(n,["mapConfig"]),lr(t,["mapConfig"]));default:return!0}}(r,d,P),x=!(T()(S)||T()(v)||h()(S,v));return b||O||w||x?{compactPermissions:b,geoLimits:O,resource:x?j:void 0,data:w?P:void 0,resourceType:l,pk:j.pk}:null},sr=function(r){return C()((0,d.Kg)(r),"resources",[]).filter((function(r){var e;return"geonode"===(null==r||null===(e=r.data)||void 0===e?void 0:e.sourceId)})).reduce((function(r,e){return["image","video"].includes(e.type)&&e.id?K(K({},r),{},{documents:[].concat(M(r.documents),[e.id])}):"map"===e.type&&e.id?K(K({},r),{},{maps:[].concat(M(r.maps),[e.id])}):r}),{maps:[],documents:[]})},fr=function(r){return C()((0,v.hS)(r),"widgets",[]).reduce((function(r,e){var n,t,o,i,u=e.maps,l=L(e,U);return u&&"map"===l.widgetType?K(K({},r),{},{maps:[].concat(M(r.maps),M(u.filter((function(r){var e;return!(null==r||null===(e=r.extraParams)||void 0===e||!e.pk)})).map((function(r){return r.extraParams.pk}))))}):"map"===l.widgetType&&null!==(n=l.map)&&void 0!==n&&null!==(t=n.extraParams)&&void 0!==t&&t.pk?K(K({},r),{},{maps:[].concat(M(r.maps),[null===(o=l.map)||void 0===o||null===(i=o.extraParams)||void 0===i?void 0:i.pk])}):r}),{maps:[]})},dr=function(r){var e,n;return null!==(e=null==r||null===(n=r.gnresource)||void 0===n?void 0:n.defaultViewerPlugins)&&void 0!==e?e:[]}},452992:(r,e,n)=>{"use strict";n.d(e,{jp:()=>d,WB:()=>v,zL:()=>p,aZ:()=>m,IX:()=>y,SJ:()=>b,s2:()=>g});var t=n(482100),o=n(12530),i=n(653488);function u(r){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},u(r)}function l(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.push.apply(n,t)}return n}function c(r){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){a(r,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))}))}return r}function a(r,e,n){return(e=function(r){var e=function(r,e){if("object"!=u(r)||!r)return r;var n=r[Symbol.toPrimitive];if(void 0!==n){var t=n.call(r,"string");if("object"!=u(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==u(e)?e:e+""}(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function s(r){return function(r){if(Array.isArray(r))return f(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,e){if(r){if("string"==typeof r)return f(r,e);var n={}.toString.call(r).slice(8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Array.from(r):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(r,e):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(r,e){(null==e||e>r.length)&&(e=r.length);for(var n=0,t=Array(e);n<e;n++)t[n]=r[n];return t}var d=function(r,e){var n,t;return((null==r||null===(n=r.resourceservice)||void 0===n||null===(t=n.processes)||void 0===t?void 0:t.find((function(r){var n,t;return(null==r||null===(n=r.resource)||void 0===n?void 0:n.pk)===(null==e||null===(t=e.resource)||void 0===t?void 0:t.pk)&&(null==r?void 0:r.processType)===(null==e?void 0:e.processType)})))||{}).completed},v=function(r){var e,n,o=(0,t.yK)(r);return!!(null==r||null===(e=r.resourceservice)||void 0===e||null===(n=e.downloads)||void 0===n?void 0:n.find((function(r){return(null==r?void 0:r.pk)===(null==o?void 0:o.pk)})))},p=function(r){var e,n=(0,i.BP)(r),t=(null==r||null===(e=r.resourceservice)||void 0===e?void 0:e.downloads)||[];return null==n?void 0:n.reduce((function(r,e){return t.find((function(r){return r.pk===e.pk}))?[].concat(s(r),[c({},e)]):s(r)}),[])},m=function(r){var e,n=(0,i.n)(r),t=(null==r||null===(e=r.resourceservice)||void 0===e?void 0:e.downloads)||[];return null==n?void 0:n.reduce((function(r,e){return t.find((function(r){return r.pk===e.pk}))?[].concat(s(r),[c({},e)]):s(r)}),[])},y=function(r){var e,n,i=(0,t.yK)(r),u=i&&(null==r||null===(e=r.resourceservice)||void 0===e||null===(n=e.processes)||void 0===n?void 0:n.find((function(r){var e;return(null==r||null===(e=r.resource)||void 0===e?void 0:e.pk)===(null==i?void 0:i.pk)&&(null==r?void 0:r.processType)===o.zj.PERMISSIONS_RESOURCE})));return!(!u||null!=u&&u.completed)},b=function(r){var e,n,i=(0,t.yK)(r),u=i&&(null==r||null===(e=r.resourceservice)||void 0===e||null===(n=e.processes)||void 0===n?void 0:n.find((function(r){var e;return(null==r||null===(e=r.resource)||void 0===e?void 0:e.pk)===(null==i?void 0:i.pk)&&(null==r?void 0:r.processType)===o.zj.COPY_RESOURCE})));return!(!u||null!=u&&u.completed)},g=function(r){var e,n,i=(0,t.yK)(r),u=i&&(null==r||null===(e=r.resourceservice)||void 0===e||null===(n=e.processes)||void 0===n?void 0:n.find((function(r){var e;return(null==r||null===(e=r.resource)||void 0===e?void 0:e.pk)===(null==i?void 0:i.pk)&&(null==r?void 0:r.processType)===o.zj.DELETE_RESOURCE})));return!(!u||null!=u&&u.completed)}},653488:(r,e,n)=>{"use strict";n.d(e,{BP:()=>c,n:()=>a,m0:()=>s,ak:()=>f});var t=n(535721);function o(r){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},o(r)}function i(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.push.apply(n,t)}return n}function u(r){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){l(r,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))}))}return r}function l(r,e,n){return(e=function(r){var e=function(r,e){if("object"!=o(r)||!r)return r;var n=r[Symbol.toPrimitive];if(void 0!==n){var t=n.call(r,"string");if("object"!=o(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==o(e)?e:e+""}(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}var c=function(r){var e,n,o=(null==r||null===(e=r.gnsearch)||void 0===e?void 0:e.resources)||[],i=(null==r||null===(n=r.resourceservice)||void 0===n?void 0:n.processes)||[],l=o.map((function(r){var e=i.filter((function(e){var n;return(null==e||null===(n=e.resource)||void 0===n?void 0:n.pk)===(null==r?void 0:r.pk)}));return e.length>0?u(u({},r),{},{processes:e}):r}));return(0,t.AU)(l)},a=function(r){var e,n,o,i=(null==r||null===(e=r.gnsearch)||void 0===e||null===(n=e.featuredResources)||void 0===n?void 0:n.resources)||[],l=(null==r||null===(o=r.resourceservice)||void 0===o?void 0:o.processes)||[],c=i.map((function(r){var e=l.filter((function(e){var n;return(null==e||null===(n=e.resource)||void 0===n?void 0:n.pk)===(null==r?void 0:r.pk)}));return e.length>0?u(u({},r),{},{processes:e}):r}));return(0,t.AU)(c)},s=function(r){var e,n=c(r).filter((function(r){return r["@temporary"]})).length;return((null==r||null===(e=r.gnsearch)||void 0===e?void 0:e.total)||0)+n},f=function(r){var e;return null==r||null===(e=r.gnsearch)||void 0===e?void 0:e.facetItems}}}]);