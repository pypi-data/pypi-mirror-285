import{b as A,h as i,o as f,c as w,w as o,a as t,f as y,j as _,t as g,_ as C,X as L,R}from"./index-B6sfQZUh.js";import{l as b}from"./logs-DHDXPZZr.js";import{d as I,V as N}from"./index-BqGCfcoz.js";import{V as h,a as S}from"./VToolbar-i9pq53Nj.js";import{V as D}from"./VSpacer-BMAkDs-u.js";import{V as F}from"./VTextField-xrmh1FWy.js";import{V as $}from"./VChip-CRYOXnOA.js";import{c as z}from"./VCard-CKOt35J8.js";import"./VDataTable-gjt2Fg5z.js";import"./VImg-AVVNtsoJ.js";import"./tag-wMOM-gqO.js";import"./dimensions-CKYnSDDa.js";import"./VSelect-B9nLCGKh.js";import"./VField-Bhyg59H4.js";import"./forwardRefs-DWGaNmQL.js";import"./VList-BoxPhnZ6.js";import"./ssrBoot-CPdEBhNq.js";import"./createSimpleFunctional-BdzT111U.js";import"./VAvatar-xee8L3pJ.js";import"./dialog-transition-InZxhk0f.js";import"./VMenu-uuonQ6o9.js";import"./VOverlay-GMQTQL34.js";import"./lazy-YEt_kfmk.js";import"./filter-CcSZdtpY.js";/* empty css              */const E={__name:"AuditTrailList",setup(V){const{$gettext:a}=A(),s=i(!1),p=i([]),m=i(""),c=i(0),v=[{title:a("Date"),key:"date_created"},{title:a("Level"),key:"level"},{title:a("Logger"),key:"logger"},{title:a("Message"),key:"message"}];function T(r){return r==="INFO"?"primary":r==="WARNING"?"orange":r==="CRITICAL"||r==="ERROR"?"red":""}function n({page:r,itemsPerPage:l,sortBy:e,search:x}){let u;e.length&&(u=(e[0].order==="desc"?"-":"")+e[0].key);const k={ordering:u,page:r,page_size:l,search:x};s.value=!0,b.getAuditTrail(k).then(d=>{p.value=d.data.results,c.value=d.data.count,s.value=!1})}return n=I(n,500),(r,l)=>(f(),w(z,{class:"mt-6"},{default:o(()=>[t(N,{headers:v,items:p.value,search:m.value,class:"elevation-0","items-length":c.value,"onUpdate:options":n},{top:o(()=>[t(h,{flat:"",color:"white"},{default:o(()=>[t(D),t(F,{modelValue:m.value,"onUpdate:modelValue":l[0]||(l[0]=e=>m.value=e),"prepend-inner-icon":"mdi-magnify",placeholder:y(a)("Search"),variant:"outlined","hide-details":""},null,8,["modelValue","placeholder"])]),_:1})]),"item.level":o(({item:e})=>[t($,{color:T(e.level),"text-color":"white",size:"small"},{default:o(()=>[_(g(e.level),1)]),_:2},1032,["color"])]),_:2},1032,["items","search","items-length"])]),_:1}))}},G={__name:"AuditTrailView",setup(V){return(a,s)=>(f(),L(R,null,[t(h,{flat:""},{default:o(()=>[t(S,null,{default:o(()=>[_(g(a.$gettext("Audit trail")),1)]),_:1})]),_:1}),t(E)],64))}},pe=C(G,[["__scopeId","data-v-5d9f29af"]]);export{pe as default};
