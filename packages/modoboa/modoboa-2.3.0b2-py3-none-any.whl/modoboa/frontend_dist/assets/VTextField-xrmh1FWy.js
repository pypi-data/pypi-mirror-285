import{H as R,K as O,z as i,a as l,s as X,x as oe,ak as E,bl as de,aG as ee,O as te,h as N,y as K,aD as ce,f as ve,bm as fe,C as me,d as ge,E as L,B as z,S as W,a7 as Q,aJ as Y,aq as ye,J as he,M as xe,L as Ve,am as be,Q as H,ap as Ce,R as J,bn as ke,an as Se}from"./index-B6sfQZUh.js";import{r as ae,Z as ne,M as le,s as Ie,E as Pe,F as Me,I as _e}from"./VImg-AVVNtsoJ.js";import{m as j,u as p}from"./tag-wMOM-gqO.js";import{b as we,c as Be,g as De,m as Fe,u as Ae,f as Re,V as Te}from"./VField-Bhyg59H4.js";import{m as $e,u as ze}from"./dimensions-CKYnSDDa.js";import{f as Ee}from"./forwardRefs-DWGaNmQL.js";const Ne=R({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...j(),...ae({transition:{component:ne}})},"VCounter"),Oe=O()({name:"VCounter",functional:!0,props:Ne(),setup(e,v){let{slots:f}=v;const n=i(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return p(()=>l(le,{transition:e.transition},{default:()=>[X(l("div",{class:["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class],style:e.style},[f.default?f.default({counter:n.value,max:e.max,value:e.value}):n.value]),[[oe,e.active]])]})),{}}}),pe=R({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...j(),...ae({transition:{component:ne,leaveAbsolute:!0,group:!0}})},"VMessages"),Ue=O()({name:"VMessages",props:pe(),setup(e,v){let{slots:f}=v;const n=i(()=>E(e.messages)),{textColorClasses:u,textColorStyles:t}=Ie(i(()=>e.color));return p(()=>l(le,{transition:e.transition,tag:"div",class:["v-messages",u.value,e.class],style:[t.value,e.style],role:"alert","aria-live":"polite"},{default:()=>[e.active&&n.value.map((r,h)=>l("div",{class:"v-messages__message",key:`${h}-${n.value}`},[f.message?f.message({message:r}):r]))]})),{}}}),He=R({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...we()},"validation");function Je(e){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:de(),f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ee();const n=te(e,"modelValue"),u=i(()=>e.validationValue===void 0?n.value:e.validationValue),t=Be(),r=N([]),h=K(!0),_=i(()=>!!(E(n.value===""?null:n.value).length||E(u.value===""?null:u.value).length)),k=i(()=>!!(e.disabled??(t==null?void 0:t.isDisabled.value))),w=i(()=>!!(e.readonly??(t==null?void 0:t.isReadonly.value))),x=i(()=>{var s;return(s=e.errorMessages)!=null&&s.length?E(e.errorMessages).concat(r.value).slice(0,Math.max(0,+e.maxErrors)):r.value}),V=i(()=>{let s=(e.validateOn??(t==null?void 0:t.validateOn.value))||"input";s==="lazy"&&(s="input lazy");const a=new Set((s==null?void 0:s.split(" "))??[]);return{blur:a.has("blur")||a.has("input"),input:a.has("input"),submit:a.has("submit"),lazy:a.has("lazy")}}),m=i(()=>{var s;return e.error||(s=e.errorMessages)!=null&&s.length?!1:e.rules.length?h.value?r.value.length||V.value.lazy?null:!0:!r.value.length:!0}),C=K(!1),b=i(()=>({[`${v}--error`]:m.value===!1,[`${v}--dirty`]:_.value,[`${v}--disabled`]:k.value,[`${v}--readonly`]:w.value})),B=ce("validation"),g=i(()=>e.name??ve(f));fe(()=>{t==null||t.register({id:g.value,vm:B,validate:y,reset:S,resetValidation:I})}),me(()=>{t==null||t.unregister(g.value)}),ge(async()=>{V.value.lazy||await y(!0),t==null||t.update(g.value,m.value,x.value)}),L(()=>V.value.input,()=>{z(u,()=>{if(u.value!=null)y();else if(e.focused){const s=z(()=>e.focused,a=>{a||y(),s()})}})}),L(()=>V.value.blur,()=>{z(()=>e.focused,s=>{s||y()})}),z([m,x],()=>{t==null||t.update(g.value,m.value,x.value)});async function S(){n.value=null,await W(),await I()}async function I(){h.value=!0,V.value.lazy?r.value=[]:await y(!0)}async function y(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const a=[];C.value=!0;for(const d of e.rules){if(a.length>=+(e.maxErrors??1))break;const o=await(typeof d=="function"?d:()=>d)(u.value);if(o!==!0){if(o!==!1&&typeof o!="string"){console.warn(`${o} is not a valid value. Rule functions must return boolean true or a string.`);continue}a.push(o||"")}}return r.value=a,C.value=!1,h.value=s,r.value}return{errorMessages:x,isDirty:_,isDisabled:k,isReadonly:w,isPristine:h,isValid:m,isValidating:C,reset:S,resetValidation:I,validate:y,validationClasses:b}}const se=R({id:String,appendIcon:Q,centerAffix:Boolean,prependIcon:Q,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":Y(),"onClick:append":Y(),...j(),...Pe(),...ye($e(),["maxWidth","minWidth","width"]),...he(),...He()},"VInput"),Z=O()({name:"VInput",props:{...se()},emits:{"update:modelValue":e=>!0},setup(e,v){let{attrs:f,slots:n,emit:u}=v;const{densityClasses:t}=Me(e),{dimensionStyles:r}=ze(e),{themeClasses:h}=xe(e),{rtlClasses:_}=Ve(),{InputIcon:k}=De(e),w=ee(),x=i(()=>e.id||`input-${w}`),V=i(()=>`${x.value}-messages`),{errorMessages:m,isDirty:C,isDisabled:b,isReadonly:B,isPristine:g,isValid:S,isValidating:I,reset:y,resetValidation:s,validate:a,validationClasses:d}=Je(e,"v-input",x),c=i(()=>({id:x,messagesId:V,isDirty:C,isDisabled:b,isReadonly:B,isPristine:g,isValid:S,isValidating:I,reset:y,resetValidation:s,validate:a})),o=i(()=>{var D;return(D=e.errorMessages)!=null&&D.length||!g.value&&m.value.length?m.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return p(()=>{var M,F,A,$;const D=!!(n.prepend||e.prependIcon),U=!!(n.append||e.appendIcon),T=o.value.length>0,P=!e.hideDetails||e.hideDetails==="auto"&&(T||!!n.details);return l("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--hide-spin-buttons":e.hideSpinButtons},t.value,h.value,_.value,d.value,e.class],style:[r.value,e.style]},[D&&l("div",{key:"prepend",class:"v-input__prepend"},[(M=n.prepend)==null?void 0:M.call(n,c.value),e.prependIcon&&l(k,{key:"prepend-icon",name:"prepend"},null)]),n.default&&l("div",{class:"v-input__control"},[(F=n.default)==null?void 0:F.call(n,c.value)]),U&&l("div",{key:"append",class:"v-input__append"},[e.appendIcon&&l(k,{key:"append-icon",name:"append"},null),(A=n.append)==null?void 0:A.call(n,c.value)]),P&&l("div",{class:"v-input__details"},[l(Ue,{id:V.value,active:T,messages:o.value},{message:n.message}),($=n.details)==null?void 0:$.call(n,c.value)])])}),{reset:y,resetValidation:s,validate:a,isValid:S,errorMessages:m}}}),We=["color","file","time","date","datetime-local","week","month"],je=R({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...se(),...Fe()},"VTextField"),Ze=O()({name:"VTextField",directives:{Intersect:_e},inheritAttrs:!1,props:je(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,v){let{attrs:f,emit:n,slots:u}=v;const t=te(e,"modelValue"),{isFocused:r,focus:h,blur:_}=Ae(e),k=i(()=>typeof e.counterValue=="function"?e.counterValue(t.value):typeof e.counterValue=="number"?e.counterValue:(t.value??"").toString().length),w=i(()=>{if(f.maxlength)return f.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),x=i(()=>["plain","underlined"].includes(e.variant));function V(a,d){var c,o;!e.autofocus||!a||(o=(c=d[0].target)==null?void 0:c.focus)==null||o.call(c)}const m=N(),C=N(),b=N(),B=i(()=>We.includes(e.type)||e.persistentPlaceholder||r.value||e.active);function g(){var a;b.value!==document.activeElement&&((a=b.value)==null||a.focus()),r.value||h()}function S(a){n("mousedown:control",a),a.target!==b.value&&(g(),a.preventDefault())}function I(a){g(),n("click:control",a)}function y(a){a.stopPropagation(),g(),W(()=>{t.value=null,Se(e["onClick:clear"],a)})}function s(a){var c;const d=a.target;if(t.value=d.value,(c=e.modelModifiers)!=null&&c.trim&&["text","search","password","tel","url"].includes(e.type)){const o=[d.selectionStart,d.selectionEnd];W(()=>{d.selectionStart=o[0],d.selectionEnd=o[1]})}}return p(()=>{const a=!!(u.counter||e.counter!==!1&&e.counter!=null),d=!!(a||u.details),[c,o]=be(f),{modelValue:D,...U}=Z.filterProps(e),T=Re(e);return l(Z,H({ref:m,modelValue:t.value,"onUpdate:modelValue":P=>t.value=P,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":x.value},e.class],style:e.style},c,U,{focused:r.value}),{...u,default:P=>{let{id:M,isDisabled:F,isDirty:A,isReadonly:$,isValid:ie}=P;return l(Te,H({ref:C,onMousedown:S,onClick:I,"onClick:clear":y,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},T,{id:M.value,active:B.value||A.value,dirty:A.value||e.dirty,disabled:F.value,focused:r.value,centerAffix:e.centerAffix,error:ie.value===!1}),{...u,default:ue=>{let{props:{class:q,...re}}=ue;const G=X(l("input",H({ref:b,value:t.value,onInput:s,autofocus:e.autofocus,readonly:$.value,disabled:F.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:g,onBlur:_},re,o),null),[[Ce("intersect"),{handler:V},null,{once:!0}]]);return l(J,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[l("span",{class:"v-text-field__prefix__text"},[e.prefix])]),u.default?l("div",{class:q,"data-no-activator":""},[u.default(),G]):ke(G,{class:q}),e.suffix&&l("span",{class:"v-text-field__suffix"},[l("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:d?P=>{var M;return l(J,null,[(M=u.details)==null?void 0:M.call(u,P),a&&l(J,null,[l("span",null,null),l(Oe,{active:e.persistentCounter||r.value,value:k.value,max:w.value,disabled:e.disabled},u.counter)])])}:void 0})}),Ee({},m,C,b)}});export{Ze as V,Z as a,Oe as b,je as c,se as m};
