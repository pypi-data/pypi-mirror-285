function p(s){s.charAt(0)==="_"&&(s=s.slice(1));let e=s.split("_");for(let o=1;o<e.length;o++)e[o]=e[o].charAt(0).toUpperCase()+e[o].slice(1);return e.join("")}function h(s){let e={};for(let o in s)e[p(o)]=s[o];return e}var c=class{locked=!1;unlock(){this.locked=!1}lock(){this.locked=!0}};import u from"https://esm.sh/aladin-lite@3.4.4-beta";var l=u;var m=class{constructor(e){this.aladin=e}handleChangeFoV(e){this.aladin.setFoV(e.fov)}handleGotoRaDec(e){this.aladin.gotoRaDec(e.ra,e.dec)}handleAddCatalogFromURL(e){let o=h(e.options||{});this.aladin.addCatalog(l.catalogFromURL(e.votable_URL,o))}handleAddMOCFromURL(e){let o=h(e.options||{});this.aladin.addMOC(l.MOCFromURL(e.moc_URL,o))}handleAddMOCFromDict(e){let o=h(e.options||{});this.aladin.addMOC(l.MOCFromJSON(e.moc_dict,o))}handleAddOverlay(e){let o=e.regions_infos,n=h(e.graphic_options||{});n.color||(n.color="red");let i=l.graphicOverlay(n);this.aladin.addOverlay(i);for(let t of o){let a=t.infos;switch(t.region_type){case"stcs":i.addFootprints(l.footprintsFromSTCS(a.stcs,t.options));break;case"circle":i.add(l.circle(a.ra,a.dec,a.radius,t.options));break;case"ellipse":i.add(l.ellipse(a.ra,a.dec,a.a,a.b,a.theta,t.options));break;case"line":t.options.lineWidth=t.options.lineWidth||3,i.add(l.vector(a.ra1,a.dec1,a.ra2,a.dec2,t.options));break;case"polygon":i.add(l.polygon(a.vertices,t.options));break}}}handleChangeColormap(e){this.aladin.getBaseImageLayer().setColormap(e.colormap)}handleGetJPGThumbnail(){this.aladin.exportAsPNG()}handleTriggerRectangularSelection(){this.aladin.select()}handleAddTable(e,o){let n=h(e.options||{}),i=o[0].buffer,t=new TextDecoder("utf-8"),a=new Blob([t.decode(i)]),r=URL.createObjectURL(a);l.catalogFromURL(r,Object.assign(n,{onClick:"showTable"}),d=>{this.aladin.addCatalog(d)},!1),URL.revokeObjectURL(r)}};var g=class{constructor(e,o,n){this.aladin=e,this.aladinDiv=o,this.model=n,this.messageHandler=new m(e)}subscribeAll(){let e=new c,o=new c;this.aladin.on("positionChanged",t=>{if(o.locked){o.unlock();return}e.lock();let a=[t.ra,t.dec];this.model.set("_target",`${a[0]} ${a[1]}`),this.model.save_changes()}),this.model.on("change:_target",()=>{if(e.locked){e.unlock();return}o.lock();let t=this.model.get("_target"),[a,r]=t.split(" ");this.aladin.gotoRaDec(a,r)});let n=new c,i=new c;this.aladin.on("zoomChanged",t=>{if(i.locked){i.unlock();return}n.lock(),this.model.set("_fov",parseFloat(t.toFixed(5))),this.model.save_changes()}),this.model.on("change:_fov",()=>{if(n.locked){n.unlock();return}i.lock();let t=this.model.get("_fov");this.aladin.setFoV(t)}),this.model.on("change:height",()=>{let t=this.model.get("height");this.aladinDiv.style.height=`${t}px`}),this.aladin.on("objectHovered",t=>{t.data!==void 0&&this.model.send({event_type:"object_hovered",content:{ra:t.ra,dec:t.dec}})}),this.aladin.on("objectClicked",t=>{if(t){let a={ra:t.ra,dec:t.dec};t.data!==void 0&&(a.data=t.data),this.model.set("clicked_object",a),this.model.send({event_type:"object_clicked",content:a}),this.model.save_changes()}}),this.aladin.on("click",t=>{this.model.send({event_type:"click",content:t})}),this.aladin.on("select",t=>{let a=[];t.forEach(r=>{r.forEach(d=>{a.push({ra:d.ra,dec:d.dec,data:d.data,x:d.x,y:d.y})})}),this.model.send({event_type:"select",content:a})}),this.model.on("change:coo_frame",()=>{this.aladin.setFrame(this.model.get("coo_frame"))}),this.model.on("change:survey",()=>{this.aladin.setImageSurvey(this.model.get("survey"))}),this.model.on("change:overlay_survey",()=>{this.aladin.setOverlayImageLayer(this.model.get("overlay_survey"))}),this.model.on("change:overlay_survey_opacity",()=>{this.aladin.getOverlayImageLayer().setAlpha(this.model.get("overlay_survey_opacity"))}),this.eventHandlers={change_fov:this.messageHandler.handleChangeFoV,goto_ra_dec:this.messageHandler.handleGotoRaDec,add_catalog_from_URL:this.messageHandler.handleAddCatalogFromURL,add_MOC_from_URL:this.messageHandler.handleAddMOCFromURL,add_MOC_from_dict:this.messageHandler.handleAddMOCFromDict,add_overlay:this.messageHandler.handleAddOverlay,change_colormap:this.messageHandler.handleChangeColormap,get_JPG_thumbnail:this.messageHandler.handleGetJPGThumbnail,trigger_rectangular_selection:this.messageHandler.handleTriggerRectangularSelection,add_table:this.messageHandler.handleAddTable},this.model.on("msg:custom",(t,a)=>{let r=t.event_name,d=this.eventHandlers[r];if(d)d.call(this,t,a);else throw new Error(`Unknown event name: ${r}`)})}unsubscribeAll(){this.model.off("change:_target"),this.model.off("change:_fov"),this.model.off("change:height"),this.model.off("change:coo_frame"),this.model.off("change:survey"),this.model.off("change:overlay_survey"),this.model.off("change:overlay_survey_opacity"),this.model.off("change:trigger_event"),this.model.off("msg:custom")}};var f=0;function v(s,e){let o={};s.get("init_options").forEach(a=>{o[p(a)]=s.get(a)});let n=document.createElement("div");n.classList.add("aladin-widget"),n.style.height=`${o.height}px`,n.id=`aladin-lite-div-${f}`;let i=new l.aladin(n,o);f+=1;let t=o.target.split(" ");return i.gotoRaDec(t[0],t[1]),e.appendChild(n),{aladin:i,aladinDiv:n}}async function _({model:s}){await l.init}function y({model:s,el:e}){let{aladin:o,aladinDiv:n}=v(s,e),i=new g(o,n,s);return i.subscribeAll(),()=>{i.unsubscribeAll()}}var G={initialize:_,render:y};export{G as default};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vanMvdXRpbHMuanMiLCAiLi4vLi4vLi4vanMvYWxhZGluX2xpdGUuanMiLCAiLi4vLi4vLi4vanMvbW9kZWxzL21lc3NhZ2VfaGFuZGxlci5qcyIsICIuLi8uLi8uLi9qcy9tb2RlbHMvZXZlbnRfaGFuZGxlci5qcyIsICIuLi8uLi8uLi9qcy93aWRnZXQuanMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8qKlxuICogQ29udmVydHMgYSBzdHJpbmcgZnJvbSBjYW1lbENhc2UgdG8gc25ha2VfY2FzZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzbmFrZUNhc2VTdHIgLSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgc3RyaW5nIGNvbnZlcnRlZCB0byBzbmFrZV9jYXNlLlxuICovXG5mdW5jdGlvbiBzbmFrZUNhc2VUb0NhbWVsQ2FzZShzbmFrZUNhc2VTdHIpIHtcbiAgaWYgKHNuYWtlQ2FzZVN0ci5jaGFyQXQoMCkgPT09IFwiX1wiKSBzbmFrZUNhc2VTdHIgPSBzbmFrZUNhc2VTdHIuc2xpY2UoMSk7XG4gIGxldCB0ZW1wID0gc25ha2VDYXNlU3RyLnNwbGl0KFwiX1wiKTtcbiAgZm9yIChsZXQgaSA9IDE7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKVxuICAgIHRlbXBbaV0gPSB0ZW1wW2ldLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdGVtcFtpXS5zbGljZSgxKTtcbiAgcmV0dXJuIHRlbXAuam9pbihcIlwiKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBvcHRpb24gbmFtZXMgaW4gYW4gb2JqZWN0IGZyb20gc25ha2VfY2FzZSB0byBjYW1lbENhc2UuXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIG9iamVjdCB3aXRoIHNuYWtlX2Nhc2UgcHJvcGVydHkgbmFtZXMuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBBbiBvYmplY3Qgd2l0aCBwcm9wZXJ0eSBuYW1lcyBjb252ZXJ0ZWQgdG8gY2FtZWxDYXNlLlxuICovXG5mdW5jdGlvbiBjb252ZXJ0T3B0aW9uTmFtZXNUb0NhbWVsQ2FzZShvcHRpb25zKSB7XG4gIGNvbnN0IG5ld09wdGlvbnMgPSB7fTtcbiAgZm9yIChjb25zdCBvcHRpb25OYW1lIGluIG9wdGlvbnMpXG4gICAgbmV3T3B0aW9uc1tzbmFrZUNhc2VUb0NhbWVsQ2FzZShvcHRpb25OYW1lKV0gPSBvcHRpb25zW29wdGlvbk5hbWVdO1xuICByZXR1cm4gbmV3T3B0aW9ucztcbn1cblxuY2xhc3MgTG9jayB7XG4gIGxvY2tlZCA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBMb2NrcyB0aGUgb2JqZWN0XG4gICAqL1xuICB1bmxvY2soKSB7XG4gICAgdGhpcy5sb2NrZWQgPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVbmxvY2tzIHRoZSBvYmplY3RcbiAgICovXG4gIGxvY2soKSB7XG4gICAgdGhpcy5sb2NrZWQgPSB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCB7IHNuYWtlQ2FzZVRvQ2FtZWxDYXNlLCBjb252ZXJ0T3B0aW9uTmFtZXNUb0NhbWVsQ2FzZSwgTG9jayB9O1xuIiwgImltcG9ydCBBIGZyb20gXCJodHRwczovL2VzbS5zaC9hbGFkaW4tbGl0ZUAzLjQuNC1iZXRhXCI7XG5cbmV4cG9ydCBkZWZhdWx0IEE7XG4iLCAiaW1wb3J0IHsgY29udmVydE9wdGlvbk5hbWVzVG9DYW1lbENhc2UgfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCBBIGZyb20gXCIuLi9hbGFkaW5fbGl0ZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZXNzYWdlSGFuZGxlciB7XG4gIGNvbnN0cnVjdG9yKGFsYWRpbikge1xuICAgIHRoaXMuYWxhZGluID0gYWxhZGluO1xuICB9XG5cbiAgaGFuZGxlQ2hhbmdlRm9WKG1zZykge1xuICAgIHRoaXMuYWxhZGluLnNldEZvVihtc2dbXCJmb3ZcIl0pO1xuICB9XG5cbiAgaGFuZGxlR290b1JhRGVjKG1zZykge1xuICAgIHRoaXMuYWxhZGluLmdvdG9SYURlYyhtc2dbXCJyYVwiXSwgbXNnW1wiZGVjXCJdKTtcbiAgfVxuXG4gIGhhbmRsZUFkZENhdGFsb2dGcm9tVVJMKG1zZykge1xuICAgIGNvbnN0IG9wdGlvbnMgPSBjb252ZXJ0T3B0aW9uTmFtZXNUb0NhbWVsQ2FzZShtc2dbXCJvcHRpb25zXCJdIHx8IHt9KTtcbiAgICB0aGlzLmFsYWRpbi5hZGRDYXRhbG9nKEEuY2F0YWxvZ0Zyb21VUkwobXNnW1widm90YWJsZV9VUkxcIl0sIG9wdGlvbnMpKTtcbiAgfVxuXG4gIGhhbmRsZUFkZE1PQ0Zyb21VUkwobXNnKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IGNvbnZlcnRPcHRpb25OYW1lc1RvQ2FtZWxDYXNlKG1zZ1tcIm9wdGlvbnNcIl0gfHwge30pO1xuICAgIHRoaXMuYWxhZGluLmFkZE1PQyhBLk1PQ0Zyb21VUkwobXNnW1wibW9jX1VSTFwiXSwgb3B0aW9ucykpO1xuICB9XG5cbiAgaGFuZGxlQWRkTU9DRnJvbURpY3QobXNnKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IGNvbnZlcnRPcHRpb25OYW1lc1RvQ2FtZWxDYXNlKG1zZ1tcIm9wdGlvbnNcIl0gfHwge30pO1xuICAgIHRoaXMuYWxhZGluLmFkZE1PQyhBLk1PQ0Zyb21KU09OKG1zZ1tcIm1vY19kaWN0XCJdLCBvcHRpb25zKSk7XG4gIH1cblxuICBoYW5kbGVBZGRPdmVybGF5KG1zZykge1xuICAgIGNvbnN0IHJlZ2lvbnMgPSBtc2dbXCJyZWdpb25zX2luZm9zXCJdO1xuICAgIGNvbnN0IGdyYXBoaWNfb3B0aW9ucyA9IGNvbnZlcnRPcHRpb25OYW1lc1RvQ2FtZWxDYXNlKFxuICAgICAgbXNnW1wiZ3JhcGhpY19vcHRpb25zXCJdIHx8IHt9LFxuICAgICk7XG4gICAgaWYgKCFncmFwaGljX29wdGlvbnNbXCJjb2xvclwiXSkgZ3JhcGhpY19vcHRpb25zW1wiY29sb3JcIl0gPSBcInJlZFwiO1xuICAgIGNvbnN0IG92ZXJsYXkgPSBBLmdyYXBoaWNPdmVybGF5KGdyYXBoaWNfb3B0aW9ucyk7XG4gICAgdGhpcy5hbGFkaW4uYWRkT3ZlcmxheShvdmVybGF5KTtcbiAgICBmb3IgKGNvbnN0IHJlZ2lvbiBvZiByZWdpb25zKSB7XG4gICAgICBjb25zdCBpbmZvcyA9IHJlZ2lvbltcImluZm9zXCJdO1xuICAgICAgc3dpdGNoIChyZWdpb25bXCJyZWdpb25fdHlwZVwiXSkge1xuICAgICAgICBjYXNlIFwic3Rjc1wiOlxuICAgICAgICAgIG92ZXJsYXkuYWRkRm9vdHByaW50cyhcbiAgICAgICAgICAgIEEuZm9vdHByaW50c0Zyb21TVENTKGluZm9zLnN0Y3MsIHJlZ2lvbi5vcHRpb25zKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiY2lyY2xlXCI6XG4gICAgICAgICAgb3ZlcmxheS5hZGQoXG4gICAgICAgICAgICBBLmNpcmNsZShpbmZvcy5yYSwgaW5mb3MuZGVjLCBpbmZvcy5yYWRpdXMsIHJlZ2lvbi5vcHRpb25zKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZWxsaXBzZVwiOlxuICAgICAgICAgIG92ZXJsYXkuYWRkKFxuICAgICAgICAgICAgQS5lbGxpcHNlKFxuICAgICAgICAgICAgICBpbmZvcy5yYSxcbiAgICAgICAgICAgICAgaW5mb3MuZGVjLFxuICAgICAgICAgICAgICBpbmZvcy5hLFxuICAgICAgICAgICAgICBpbmZvcy5iLFxuICAgICAgICAgICAgICBpbmZvcy50aGV0YSxcbiAgICAgICAgICAgICAgcmVnaW9uLm9wdGlvbnMsXG4gICAgICAgICAgICApLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJsaW5lXCI6XG4gICAgICAgICAgLy8gcmVtb3ZlIGRlZmF1bHQgbGluZVdpZHRoIHdoZW4gd2Ugc3dpdGNoIHRvIEFMID4gMy40LjRcbiAgICAgICAgICByZWdpb24ub3B0aW9ucy5saW5lV2lkdGggPSByZWdpb24ub3B0aW9ucy5saW5lV2lkdGggfHwgMztcbiAgICAgICAgICBvdmVybGF5LmFkZChcbiAgICAgICAgICAgIEEudmVjdG9yKFxuICAgICAgICAgICAgICBpbmZvcy5yYTEsXG4gICAgICAgICAgICAgIGluZm9zLmRlYzEsXG4gICAgICAgICAgICAgIGluZm9zLnJhMixcbiAgICAgICAgICAgICAgaW5mb3MuZGVjMixcbiAgICAgICAgICAgICAgcmVnaW9uLm9wdGlvbnMsXG4gICAgICAgICAgICApLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJwb2x5Z29uXCI6XG4gICAgICAgICAgb3ZlcmxheS5hZGQoQS5wb2x5Z29uKGluZm9zLnZlcnRpY2VzLCByZWdpb24ub3B0aW9ucykpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZUNoYW5nZUNvbG9ybWFwKG1zZykge1xuICAgIHRoaXMuYWxhZGluLmdldEJhc2VJbWFnZUxheWVyKCkuc2V0Q29sb3JtYXAobXNnW1wiY29sb3JtYXBcIl0pO1xuICB9XG5cbiAgaGFuZGxlR2V0SlBHVGh1bWJuYWlsKCkge1xuICAgIHRoaXMuYWxhZGluLmV4cG9ydEFzUE5HKCk7XG4gIH1cblxuICBoYW5kbGVUcmlnZ2VyUmVjdGFuZ3VsYXJTZWxlY3Rpb24oKSB7XG4gICAgdGhpcy5hbGFkaW4uc2VsZWN0KCk7XG4gIH1cblxuICBoYW5kbGVBZGRUYWJsZShtc2csIGJ1ZmZlcnMpIHtcbiAgICBjb25zdCBvcHRpb25zID0gY29udmVydE9wdGlvbk5hbWVzVG9DYW1lbENhc2UobXNnW1wib3B0aW9uc1wiXSB8fCB7fSk7XG4gICAgY29uc3QgYnVmZmVyID0gYnVmZmVyc1swXS5idWZmZXI7XG4gICAgY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcihcInV0Zi04XCIpO1xuICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbZGVjb2Rlci5kZWNvZGUoYnVmZmVyKV0pO1xuICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgQS5jYXRhbG9nRnJvbVVSTChcbiAgICAgIHVybCxcbiAgICAgIE9iamVjdC5hc3NpZ24ob3B0aW9ucywgeyBvbkNsaWNrOiBcInNob3dUYWJsZVwiIH0pLFxuICAgICAgKGNhdGFsb2cpID0+IHtcbiAgICAgICAgdGhpcy5hbGFkaW4uYWRkQ2F0YWxvZyhjYXRhbG9nKTtcbiAgICAgIH0sXG4gICAgICBmYWxzZSxcbiAgICApO1xuICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgfVxufVxuIiwgImltcG9ydCBNZXNzYWdlSGFuZGxlciBmcm9tIFwiLi9tZXNzYWdlX2hhbmRsZXJcIjtcbmltcG9ydCB7IExvY2sgfSBmcm9tIFwiLi4vdXRpbHNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXZlbnRIYW5kbGVyIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yIGZvciB0aGUgRXZlbnRIYW5kbGVyIGNsYXNzLlxuICAgKiBAcGFyYW0gYWxhZGluIFRoZSBBbGFkaW4gaW5zdGFuY2VcbiAgICogQHBhcmFtIGFsYWRpbkRpdiBUaGUgQWxhZGluIGRpdlxuICAgKiBAcGFyYW0gbW9kZWwgVGhlIG1vZGVsIGluc3RhbmNlXG4gICAqL1xuICBjb25zdHJ1Y3RvcihhbGFkaW4sIGFsYWRpbkRpdiwgbW9kZWwpIHtcbiAgICB0aGlzLmFsYWRpbiA9IGFsYWRpbjtcbiAgICB0aGlzLmFsYWRpbkRpdiA9IGFsYWRpbkRpdjtcbiAgICB0aGlzLm1vZGVsID0gbW9kZWw7XG4gICAgdGhpcy5tZXNzYWdlSGFuZGxlciA9IG5ldyBNZXNzYWdlSGFuZGxlcihhbGFkaW4pO1xuICB9XG5cbiAgLyoqXG4gICAqIFN1YnNjcmliZXMgdG8gYWxsIHRoZSBldmVudHMgbmVlZGVkIGZvciB0aGUgQWxhZGluIExpdGUgd2lkZ2V0LlxuICAgKi9cbiAgc3Vic2NyaWJlQWxsKCkge1xuICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbiAgICAvKiBMaXN0ZW5lcnMgLS0tLS0tLS0tICovXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4gICAgLyogUG9zaXRpb24gQ29udHJvbCAqL1xuICAgIC8vIHRoZXJlIGFyZSB0d28gd2F5cyBvZiBjaGFuZ2luZyB0aGUgdGFyZ2V0LCBvbmUgZnJvbSB0aGUgamF2YXNjcmlwdCBzaWRlLCBhbmRcbiAgICAvLyBvbmUgZnJvbSB0aGUgcHl0aG9uIHNpZGUuIFdlIGhhdmUgdG8gaW5zdGFudGlhdGUgdHdvIGxpc3RlbmVycyBmb3IgdGhlc2UsIGJ1dFxuICAgIC8vIHRoZSBnb3RvT2JqZWN0IGNhbGwgc2hvdWxkIG9ubHkgaGFwcGVuIG9uY2UuIFRoZSB0d28gYm9vbGVhbnMgcHJldmVudCB0aGUgdHdvXG4gICAgLy8gbGlzdGVuZXJzIGZyb20gdHJpZ2dlcmluZyBlYWNoIG90aGVyIGFuZCBjcmVhdGluZyBhIGJ1Z2d5IGxvb3AuIFRoZSBzYW1lIHRyaWNrXG4gICAgLy8gaXMgYWxzbyBuZWNlc3NhcnkgZm9yIHRoZSBmaWVsZCBvZiB2aWV3LlxuXG4gICAgLyogVGFyZ2V0IGNvbnRyb2wgKi9cbiAgICBjb25zdCBqc1RhcmdldExvY2sgPSBuZXcgTG9jaygpO1xuICAgIGNvbnN0IHB5VGFyZ2V0TG9jayA9IG5ldyBMb2NrKCk7XG5cbiAgICAvLyBFdmVudCB0cmlnZ2VyZWQgd2hlbiB0aGUgdXNlciBtb3ZlcyB0aGUgbWFwIGluIEFsYWRpbiBMaXRlXG4gICAgdGhpcy5hbGFkaW4ub24oXCJwb3NpdGlvbkNoYW5nZWRcIiwgKHBvc2l0aW9uKSA9PiB7XG4gICAgICBpZiAocHlUYXJnZXRMb2NrLmxvY2tlZCkge1xuICAgICAgICBweVRhcmdldExvY2sudW5sb2NrKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGpzVGFyZ2V0TG9jay5sb2NrKCk7XG4gICAgICBjb25zdCByYURlYyA9IFtwb3NpdGlvbi5yYSwgcG9zaXRpb24uZGVjXTtcbiAgICAgIHRoaXMubW9kZWwuc2V0KFwiX3RhcmdldFwiLCBgJHtyYURlY1swXX0gJHtyYURlY1sxXX1gKTtcbiAgICAgIHRoaXMubW9kZWwuc2F2ZV9jaGFuZ2VzKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLm1vZGVsLm9uKFwiY2hhbmdlOl90YXJnZXRcIiwgKCkgPT4ge1xuICAgICAgaWYgKGpzVGFyZ2V0TG9jay5sb2NrZWQpIHtcbiAgICAgICAganNUYXJnZXRMb2NrLnVubG9jaygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBweVRhcmdldExvY2subG9jaygpO1xuICAgICAgbGV0IHRhcmdldCA9IHRoaXMubW9kZWwuZ2V0KFwiX3RhcmdldFwiKTtcbiAgICAgIGNvbnN0IFtyYSwgZGVjXSA9IHRhcmdldC5zcGxpdChcIiBcIik7XG4gICAgICB0aGlzLmFsYWRpbi5nb3RvUmFEZWMocmEsIGRlYyk7XG4gICAgfSk7XG5cbiAgICAvKiBGaWVsZCBvZiBWaWV3IGNvbnRyb2wgKi9cbiAgICBjb25zdCBqc0ZvdkxvY2sgPSBuZXcgTG9jaygpO1xuICAgIGNvbnN0IHB5Rm92TG9jayA9IG5ldyBMb2NrKCk7XG5cbiAgICB0aGlzLmFsYWRpbi5vbihcInpvb21DaGFuZ2VkXCIsIChmb3YpID0+IHtcbiAgICAgIGlmIChweUZvdkxvY2subG9ja2VkKSB7XG4gICAgICAgIHB5Rm92TG9jay51bmxvY2soKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAganNGb3ZMb2NrLmxvY2soKTtcbiAgICAgIC8vIGZvdiBNVVNUIGJlIGNhc3QgaW50byBmbG9hdCBpbiBvcmRlciB0byBiZSBzZW50IHRvIHRoZSBtb2RlbFxuICAgICAgdGhpcy5tb2RlbC5zZXQoXCJfZm92XCIsIHBhcnNlRmxvYXQoZm92LnRvRml4ZWQoNSkpKTtcbiAgICAgIHRoaXMubW9kZWwuc2F2ZV9jaGFuZ2VzKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLm1vZGVsLm9uKFwiY2hhbmdlOl9mb3ZcIiwgKCkgPT4ge1xuICAgICAgaWYgKGpzRm92TG9jay5sb2NrZWQpIHtcbiAgICAgICAganNGb3ZMb2NrLnVubG9jaygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBweUZvdkxvY2subG9jaygpO1xuICAgICAgbGV0IGZvdiA9IHRoaXMubW9kZWwuZ2V0KFwiX2ZvdlwiKTtcbiAgICAgIHRoaXMuYWxhZGluLnNldEZvVihmb3YpO1xuICAgIH0pO1xuXG4gICAgLyogRGl2IGNvbnRyb2wgKi9cbiAgICB0aGlzLm1vZGVsLm9uKFwiY2hhbmdlOmhlaWdodFwiLCAoKSA9PiB7XG4gICAgICBsZXQgaGVpZ2h0ID0gdGhpcy5tb2RlbC5nZXQoXCJoZWlnaHRcIik7XG4gICAgICB0aGlzLmFsYWRpbkRpdi5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xuICAgIH0pO1xuXG4gICAgLyogQWxhZGluIGNhbGxiYWNrcyAqL1xuXG4gICAgdGhpcy5hbGFkaW4ub24oXCJvYmplY3RIb3ZlcmVkXCIsIChvYmplY3QpID0+IHtcbiAgICAgIGlmIChvYmplY3RbXCJkYXRhXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5tb2RlbC5zZW5kKHtcbiAgICAgICAgICBldmVudF90eXBlOiBcIm9iamVjdF9ob3ZlcmVkXCIsXG4gICAgICAgICAgY29udGVudDoge1xuICAgICAgICAgICAgcmE6IG9iamVjdFtcInJhXCJdLFxuICAgICAgICAgICAgZGVjOiBvYmplY3RbXCJkZWNcIl0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmFsYWRpbi5vbihcIm9iamVjdENsaWNrZWRcIiwgKGNsaWNrZWQpID0+IHtcbiAgICAgIGlmIChjbGlja2VkKSB7XG4gICAgICAgIGxldCBjbGlja2VkQ29udGVudCA9IHtcbiAgICAgICAgICByYTogY2xpY2tlZFtcInJhXCJdLFxuICAgICAgICAgIGRlYzogY2xpY2tlZFtcImRlY1wiXSxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGNsaWNrZWRbXCJkYXRhXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBjbGlja2VkQ29udGVudFtcImRhdGFcIl0gPSBjbGlja2VkW1wiZGF0YVwiXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vZGVsLnNldChcImNsaWNrZWRfb2JqZWN0XCIsIGNsaWNrZWRDb250ZW50KTtcbiAgICAgICAgLy8gc2VuZCBhIGN1c3RvbSBtZXNzYWdlIGluIGNhc2UgdGhlIHVzZXIgd2FudHMgdG8gZGVmaW5lIHRoZWlyIG93biBjYWxsYmFja3NcbiAgICAgICAgdGhpcy5tb2RlbC5zZW5kKHtcbiAgICAgICAgICBldmVudF90eXBlOiBcIm9iamVjdF9jbGlja2VkXCIsXG4gICAgICAgICAgY29udGVudDogY2xpY2tlZENvbnRlbnQsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1vZGVsLnNhdmVfY2hhbmdlcygpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5hbGFkaW4ub24oXCJjbGlja1wiLCAoY2xpY2tDb250ZW50KSA9PiB7XG4gICAgICB0aGlzLm1vZGVsLnNlbmQoe1xuICAgICAgICBldmVudF90eXBlOiBcImNsaWNrXCIsXG4gICAgICAgIGNvbnRlbnQ6IGNsaWNrQ29udGVudCxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5hbGFkaW4ub24oXCJzZWxlY3RcIiwgKGNhdGFsb2dzKSA9PiB7XG4gICAgICBsZXQgb2JqZWN0c0RhdGEgPSBbXTtcbiAgICAgIC8vIFRPRE86IHRoaXMgZmxhdHRlbnMgdGhlIHNlbGVjdGlvbi4gRWFjaCBvYmplY3QgZnJvbSBkaWZmZXJlbnRcbiAgICAgIC8vIGNhdGFsb2dzIGFyZSBlbnRlcmVkIGluIHRoZSBhcnJheS4gVG8gY2hhbmdlIHRoaXMsIG1heWJlIGNoYW5nZVxuICAgICAgLy8gdXBzdHJlYW0gd2hhdCBpcyByZXR1cm5lZCB1cG9uIHNlbGVjdGlvbj9cbiAgICAgIGNhdGFsb2dzLmZvckVhY2goKGNhdGFsb2cpID0+IHtcbiAgICAgICAgY2F0YWxvZy5mb3JFYWNoKChvYmplY3QpID0+IHtcbiAgICAgICAgICBvYmplY3RzRGF0YS5wdXNoKHtcbiAgICAgICAgICAgIHJhOiBvYmplY3QucmEsXG4gICAgICAgICAgICBkZWM6IG9iamVjdC5kZWMsXG4gICAgICAgICAgICBkYXRhOiBvYmplY3QuZGF0YSxcbiAgICAgICAgICAgIHg6IG9iamVjdC54LFxuICAgICAgICAgICAgeTogb2JqZWN0LnksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICB0aGlzLm1vZGVsLnNlbmQoe1xuICAgICAgICBldmVudF90eXBlOiBcInNlbGVjdFwiLFxuICAgICAgICBjb250ZW50OiBvYmplY3RzRGF0YSxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLyogQWxhZGluIGZ1bmN0aW9uYWxpdGllcyAqL1xuXG4gICAgdGhpcy5tb2RlbC5vbihcImNoYW5nZTpjb29fZnJhbWVcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5hbGFkaW4uc2V0RnJhbWUodGhpcy5tb2RlbC5nZXQoXCJjb29fZnJhbWVcIikpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5tb2RlbC5vbihcImNoYW5nZTpzdXJ2ZXlcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5hbGFkaW4uc2V0SW1hZ2VTdXJ2ZXkodGhpcy5tb2RlbC5nZXQoXCJzdXJ2ZXlcIikpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5tb2RlbC5vbihcImNoYW5nZTpvdmVybGF5X3N1cnZleVwiLCAoKSA9PiB7XG4gICAgICB0aGlzLmFsYWRpbi5zZXRPdmVybGF5SW1hZ2VMYXllcih0aGlzLm1vZGVsLmdldChcIm92ZXJsYXlfc3VydmV5XCIpKTtcbiAgICB9KTtcblxuICAgIHRoaXMubW9kZWwub24oXCJjaGFuZ2U6b3ZlcmxheV9zdXJ2ZXlfb3BhY2l0eVwiLCAoKSA9PiB7XG4gICAgICB0aGlzLmFsYWRpblxuICAgICAgICAuZ2V0T3ZlcmxheUltYWdlTGF5ZXIoKVxuICAgICAgICAuc2V0QWxwaGEodGhpcy5tb2RlbC5nZXQoXCJvdmVybGF5X3N1cnZleV9vcGFjaXR5XCIpKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZXZlbnRIYW5kbGVycyA9IHtcbiAgICAgIGNoYW5nZV9mb3Y6IHRoaXMubWVzc2FnZUhhbmRsZXIuaGFuZGxlQ2hhbmdlRm9WLFxuICAgICAgZ290b19yYV9kZWM6IHRoaXMubWVzc2FnZUhhbmRsZXIuaGFuZGxlR290b1JhRGVjLFxuICAgICAgYWRkX2NhdGFsb2dfZnJvbV9VUkw6IHRoaXMubWVzc2FnZUhhbmRsZXIuaGFuZGxlQWRkQ2F0YWxvZ0Zyb21VUkwsXG4gICAgICBhZGRfTU9DX2Zyb21fVVJMOiB0aGlzLm1lc3NhZ2VIYW5kbGVyLmhhbmRsZUFkZE1PQ0Zyb21VUkwsXG4gICAgICBhZGRfTU9DX2Zyb21fZGljdDogdGhpcy5tZXNzYWdlSGFuZGxlci5oYW5kbGVBZGRNT0NGcm9tRGljdCxcbiAgICAgIGFkZF9vdmVybGF5OiB0aGlzLm1lc3NhZ2VIYW5kbGVyLmhhbmRsZUFkZE92ZXJsYXksXG4gICAgICBjaGFuZ2VfY29sb3JtYXA6IHRoaXMubWVzc2FnZUhhbmRsZXIuaGFuZGxlQ2hhbmdlQ29sb3JtYXAsXG4gICAgICBnZXRfSlBHX3RodW1ibmFpbDogdGhpcy5tZXNzYWdlSGFuZGxlci5oYW5kbGVHZXRKUEdUaHVtYm5haWwsXG4gICAgICB0cmlnZ2VyX3JlY3Rhbmd1bGFyX3NlbGVjdGlvbjpcbiAgICAgICAgdGhpcy5tZXNzYWdlSGFuZGxlci5oYW5kbGVUcmlnZ2VyUmVjdGFuZ3VsYXJTZWxlY3Rpb24sXG4gICAgICBhZGRfdGFibGU6IHRoaXMubWVzc2FnZUhhbmRsZXIuaGFuZGxlQWRkVGFibGUsXG4gICAgfTtcblxuICAgIHRoaXMubW9kZWwub24oXCJtc2c6Y3VzdG9tXCIsIChtc2csIGJ1ZmZlcnMpID0+IHtcbiAgICAgIGNvbnN0IGV2ZW50TmFtZSA9IG1zZ1tcImV2ZW50X25hbWVcIl07XG4gICAgICBjb25zdCBoYW5kbGVyID0gdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50TmFtZV07XG4gICAgICBpZiAoaGFuZGxlcikgaGFuZGxlci5jYWxsKHRoaXMsIG1zZywgYnVmZmVycyk7XG4gICAgICBlbHNlIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBldmVudCBuYW1lOiAke2V2ZW50TmFtZX1gKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVbnN1YnNjcmliZSBmcm9tIGFsbCB0aGUgbW9kZWwgZXZlbnRzLlxuICAgKiBUaGVyZSBpcyBubyBuZWVkIHRvIHVuc3Vic2NyaWJlIGZyb20gdGhlIEFsYWRpbiBMaXRlIGV2ZW50cy5cbiAgICovXG4gIHVuc3Vic2NyaWJlQWxsKCkge1xuICAgIHRoaXMubW9kZWwub2ZmKFwiY2hhbmdlOl90YXJnZXRcIik7XG4gICAgdGhpcy5tb2RlbC5vZmYoXCJjaGFuZ2U6X2ZvdlwiKTtcbiAgICB0aGlzLm1vZGVsLm9mZihcImNoYW5nZTpoZWlnaHRcIik7XG4gICAgdGhpcy5tb2RlbC5vZmYoXCJjaGFuZ2U6Y29vX2ZyYW1lXCIpO1xuICAgIHRoaXMubW9kZWwub2ZmKFwiY2hhbmdlOnN1cnZleVwiKTtcbiAgICB0aGlzLm1vZGVsLm9mZihcImNoYW5nZTpvdmVybGF5X3N1cnZleVwiKTtcbiAgICB0aGlzLm1vZGVsLm9mZihcImNoYW5nZTpvdmVybGF5X3N1cnZleV9vcGFjaXR5XCIpO1xuICAgIHRoaXMubW9kZWwub2ZmKFwiY2hhbmdlOnRyaWdnZXJfZXZlbnRcIik7XG4gICAgdGhpcy5tb2RlbC5vZmYoXCJtc2c6Y3VzdG9tXCIpO1xuICB9XG59XG4iLCAiaW1wb3J0IFwiLi93aWRnZXQuY3NzXCI7XG5pbXBvcnQgRXZlbnRIYW5kbGVyIGZyb20gXCIuL21vZGVscy9ldmVudF9oYW5kbGVyXCI7XG5pbXBvcnQgeyBzbmFrZUNhc2VUb0NhbWVsQ2FzZSB9IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgQSBmcm9tIFwiLi9hbGFkaW5fbGl0ZVwiO1xuXG5sZXQgaWR4VmlldyA9IDA7XG5cbmZ1bmN0aW9uIGluaXRBbGFkaW5MaXRlKG1vZGVsLCBlbCkge1xuICBsZXQgaW5pdE9wdGlvbnMgPSB7fTtcbiAgbW9kZWwuZ2V0KFwiaW5pdF9vcHRpb25zXCIpLmZvckVhY2goKG9wdGlvbl9uYW1lKSA9PiB7XG4gICAgaW5pdE9wdGlvbnNbc25ha2VDYXNlVG9DYW1lbENhc2Uob3B0aW9uX25hbWUpXSA9IG1vZGVsLmdldChvcHRpb25fbmFtZSk7XG4gIH0pO1xuXG4gIGxldCBhbGFkaW5EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBhbGFkaW5EaXYuY2xhc3NMaXN0LmFkZChcImFsYWRpbi13aWRnZXRcIik7XG4gIGFsYWRpbkRpdi5zdHlsZS5oZWlnaHQgPSBgJHtpbml0T3B0aW9uc1tcImhlaWdodFwiXX1weGA7XG5cbiAgYWxhZGluRGl2LmlkID0gYGFsYWRpbi1saXRlLWRpdi0ke2lkeFZpZXd9YDtcbiAgbGV0IGFsYWRpbiA9IG5ldyBBLmFsYWRpbihhbGFkaW5EaXYsIGluaXRPcHRpb25zKTtcbiAgaWR4VmlldyArPSAxO1xuXG4gIC8vIFNldCB0aGUgdGFyZ2V0IGFnYWluIGFmdGVyIHRoZSBpbml0aWFsaXphdGlvbiB0byBiZSBzdXJlIHRoYXQgdGhlIHRhcmdldCBpcyBzZXRcbiAgLy8gZnJvbSBpY3JzIGNvb3JkaW5hdGVzIGJlY2F1c2Ugb2YgdGhlIHVzZSBvZiBnb3RvT2JqZWN0IGluIHRoZSBBbGFkaW4gTGl0ZSBBUElcbiAgY29uc3QgcmFEZWMgPSBpbml0T3B0aW9uc1tcInRhcmdldFwiXS5zcGxpdChcIiBcIik7XG4gIGFsYWRpbi5nb3RvUmFEZWMocmFEZWNbMF0sIHJhRGVjWzFdKTtcblxuICBlbC5hcHBlbmRDaGlsZChhbGFkaW5EaXYpO1xuICByZXR1cm4geyBhbGFkaW4sIGFsYWRpbkRpdiB9O1xufVxuXG5hc3luYyBmdW5jdGlvbiBpbml0aWFsaXplKHsgbW9kZWwgfSkge1xuICBhd2FpdCBBLmluaXQ7XG59XG5cbmZ1bmN0aW9uIHJlbmRlcih7IG1vZGVsLCBlbCB9KSB7XG4gIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbiAgLyogVmlldyAtLS0tLS0tLS0tLS0tLSAqL1xuICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbiAgY29uc3QgeyBhbGFkaW4sIGFsYWRpbkRpdiB9ID0gaW5pdEFsYWRpbkxpdGUobW9kZWwsIGVsKTtcblxuICBjb25zdCBldmVudEhhbmRsZXIgPSBuZXcgRXZlbnRIYW5kbGVyKGFsYWRpbiwgYWxhZGluRGl2LCBtb2RlbCk7XG4gIGV2ZW50SGFuZGxlci5zdWJzY3JpYmVBbGwoKTtcblxuICByZXR1cm4gKCkgPT4ge1xuICAgIC8vIE5lZWQgdG8gdW5zdWJzY3JpYmUgdGhlIGxpc3RlbmVyc1xuICAgIGV2ZW50SGFuZGxlci51bnN1YnNjcmliZUFsbCgpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCB7IGluaXRpYWxpemUsIHJlbmRlciB9O1xuIl0sCiAgIm1hcHBpbmdzIjogIkFBS0EsU0FBU0EsRUFBcUJDLEVBQWMsQ0FDdENBLEVBQWEsT0FBTyxDQUFDLElBQU0sTUFBS0EsRUFBZUEsRUFBYSxNQUFNLENBQUMsR0FDdkUsSUFBSUMsRUFBT0QsRUFBYSxNQUFNLEdBQUcsRUFDakMsUUFBU0UsRUFBSSxFQUFHQSxFQUFJRCxFQUFLLE9BQVFDLElBQy9CRCxFQUFLQyxDQUFDLEVBQUlELEVBQUtDLENBQUMsRUFBRSxPQUFPLENBQUMsRUFBRSxZQUFZLEVBQUlELEVBQUtDLENBQUMsRUFBRSxNQUFNLENBQUMsRUFDN0QsT0FBT0QsRUFBSyxLQUFLLEVBQUUsQ0FDckIsQ0FPQSxTQUFTRSxFQUE4QkMsRUFBUyxDQUM5QyxJQUFNQyxFQUFhLENBQUMsRUFDcEIsUUFBV0MsS0FBY0YsRUFDdkJDLEVBQVdOLEVBQXFCTyxDQUFVLENBQUMsRUFBSUYsRUFBUUUsQ0FBVSxFQUNuRSxPQUFPRCxDQUNULENBRUEsSUFBTUUsRUFBTixLQUFXLENBQ1QsT0FBUyxHQUtU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Q0FBQyxFQUVuQ1AsRUFBRyxZQUFZSSxDQUFTLEVBQ2pCLENBQUUsT0FBQUMsRUFBUSxVQUFBRCxDQUFVLENBQzdCLENBRUEsZUFBZUksRUFBVyxDQUFFLE1BQUFULENBQU0sRUFBRyxDQUNuQyxNQUFNTyxFQUFFLElBQ1YsQ0FFQSxTQUFTRyxFQUFPLENBQUUsTUFBQVYsRUFBTyxHQUFBQyxDQUFHLEVBQUcsQ0FLN0IsR0FBTSxDQUFFLE9BQUFLLEVBQVEsVUFBQUQsQ0FBVSxFQUFJTixFQUFlQyxFQUFPQyxDQUFFLEVBRWhEVSxFQUFlLElBQUlDLEVBQWFOLEVBQVFELEVBQVdMLENBQUssRUFDOUQsT0FBQVcsRUFBYSxhQUFhLEVBRW5CLElBQU0sQ0FFWEEsRUFBYSxlQUFlLENBQzlCLENBQ0YsQ0FFQSxJQUFPRSxFQUFRLENBQUUsV0FBQUosRUFBWSxPQUFBQyxDQUFPIiwKICAibmFtZXMiOiBbInNuYWtlQ2FzZVRvQ2FtZWxDYXNlIiwgInNuYWtlQ2FzZVN0ciIsICJ0ZW1wIiwgImkiLCAiY29udmVydE9wdGlvbk5hbWVzVG9DYW1lbENhc2UiLCAib3B0aW9ucyIsICJuZXdPcHRpb25zIiwgIm9wdGlvbk5hbWUiLCAiTG9jayIsICJBIiwgImFsYWRpbl9saXRlX2RlZmF1bHQiLCAiTWVzc2FnZUhhbmRsZXIiLCAiYWxhZGluIiwgIm1zZyIsICJvcHRpb25zIiwgImNvbnZlcnRPcHRpb25OYW1lc1RvQ2FtZWxDYXNlIiwgImFsYWRpbl9saXRlX2RlZmF1bHQiLCAicmVnaW9ucyIsICJncmFwaGljX29wdGlvbnMiLCAib3ZlcmxheSIsICJyZWdpb24iLCAiaW5mb3MiLCAiYnVmZmVycyIsICJidWZmZXIiLCAiZGVjb2RlciIsICJibG9iIiwgInVybCIsICJjYXRhbG9nIiwgIkV2ZW50SGFuZGxlciIsICJhbGFkaW4iLCAiYWxhZGluRGl2IiwgIm1vZGVsIiwgIk1lc3NhZ2VIYW5kbGVyIiwgImpzVGFyZ2V0TG9jayIsICJMb2NrIiwgInB5VGFyZ2V0TG9jayIsICJwb3NpdGlvbiIsICJyYURlYyIsICJ0YXJnZXQiLCAicmEiLCAiZGVjIiwgImpzRm92TG9jayIsICJweUZvdkxvY2siLCAiZm92IiwgImhlaWdodCIsICJvYmplY3QiLCAiY2xpY2tlZCIsICJjbGlja2VkQ29udGVudCIsICJjbGlja0NvbnRlbnQiLCAiY2F0YWxvZ3MiLCAib2JqZWN0c0RhdGEiLCAiY2F0YWxvZyIsICJtc2ciLCAiYnVmZmVycyIsICJldmVudE5hbWUiLCAiaGFuZGxlciIsICJpZHhWaWV3IiwgImluaXRBbGFkaW5MaXRlIiwgIm1vZGVsIiwgImVsIiwgImluaXRPcHRpb25zIiwgIm9wdGlvbl9uYW1lIiwgInNuYWtlQ2FzZVRvQ2FtZWxDYXNlIiwgImFsYWRpbkRpdiIsICJhbGFkaW4iLCAiYWxhZGluX2xpdGVfZGVmYXVsdCIsICJyYURlYyIsICJpbml0aWFsaXplIiwgInJlbmRlciIsICJldmVudEhhbmRsZXIiLCAiRXZlbnRIYW5kbGVyIiwgIndpZGdldF9kZWZhdWx0Il0KfQo=
