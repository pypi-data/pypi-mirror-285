export const id=56151;export const ids=[56151];export const modules={54494:(t,e,i)=>{i.a(t,(async(t,e)=>{try{var s=i(13064),n=i(14562),o=i(19867),a=(i(71522),i(71499),i(95737),i(253),i(54846),i(96858),i(15112)),r=i(77706),l=i(34897),h=(i(88400),i(32689)),d=i(34308),c=i(17678),u=t([d]);d=(u.then?(await u)():u)[0];(0,s.A)([(0,r.EM)("hui-badge")],(function(t,e){class i extends e{constructor(...e){super(...e),t(this)}}return{F:i,d:[{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"preview",value:()=>!1},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"config",value:void 0},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",key:"_elementConfig",value:void 0},{kind:"method",key:"load",value:function(){if(!this.config)throw new Error("Cannot build badge without config");this._loadElement(this.config)}},{kind:"field",key:"_element",value:void 0},{kind:"field",key:"_listeners",value:()=>[]},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"disconnectedCallback",value:function(){(0,n.A)((0,o.A)(i.prototype),"disconnectedCallback",this).call(this),this._clearMediaQueries()}},{kind:"method",key:"connectedCallback",value:function(){(0,n.A)((0,o.A)(i.prototype),"connectedCallback",this).call(this),this._listenMediaQueries(),this._updateVisibility()}},{kind:"method",key:"_updateElement",value:function(t){this._element&&(this._element.setConfig(t),this._elementConfig=t,(0,l.r)(this,"badge-updated"))}},{kind:"method",key:"_loadElement",value:function(t){for(this._element=(0,d.Y)(t),this._elementConfig=t,this.hass&&(this._element.hass=this.hass),this._element.addEventListener("ll-upgrade",(t=>{t.stopPropagation(),this.hass&&(this._element.hass=this.hass),(0,l.r)(this,"badge-updated")}),{once:!0}),this._element.addEventListener("ll-rebuild",(e=>{e.stopPropagation(),this._loadElement(t),(0,l.r)(this,"badge-updated")}),{once:!0});this.lastChild;)this.removeChild(this.lastChild);this._updateVisibility()}},{kind:"method",key:"willUpdate",value:function(t){(0,n.A)((0,o.A)(i.prototype),"willUpdate",this).call(this,t),this._element||this.load()}},{kind:"method",key:"update",value:function(t){if((0,n.A)((0,o.A)(i.prototype),"update",this).call(this,t),this._element){if(t.has("config")){const t=this._elementConfig;if(this.config!==t&&this.config){var e;(null===(e=this.config)||void 0===e?void 0:e.type)!==(null==t?void 0:t.type)?this._loadElement(this.config):this._updateElement(this.config)}}if(t.has("hass"))try{this.hass&&(this._element.hass=this.hass)}catch(t){this._loadElement((0,c.G9)(t.message,null))}}(t.has("hass")||t.has("preview"))&&this._updateVisibility()}},{kind:"method",key:"_clearMediaQueries",value:function(){this._listeners.forEach((t=>t())),this._listeners=[]}},{kind:"method",key:"_listenMediaQueries",value:function(){var t;if(this._clearMediaQueries(),null===(t=this.config)||void 0===t||!t.visibility)return;const e=this.config.visibility,i=1===e.length&&"screen"===e[0].condition&&!!e[0].media_query;this._listeners=(0,h.CZ)(this.config.visibility,(t=>{this._updateVisibility(i&&t)}))}},{kind:"method",key:"_updateVisibility",value:function(t){var e;if(!this._element||!this.hass)return;if(this._element.hidden)return void this._setElementVisibility(!1);const i=t||this.preview||!(null!==(e=this.config)&&void 0!==e&&e.visibility)||(0,h.XH)(this.config.visibility,this.hass);this._setElementVisibility(i)}},{kind:"method",key:"_setElementVisibility",value:function(t){this._element&&(this.hidden!==!t&&(this.style.setProperty("display",t?"":"none"),this.toggleAttribute("hidden",!t)),!t&&this._element.parentElement?this.removeChild(this._element):t&&!this._element.parentElement&&this.appendChild(this._element))}}]}}),a.mN);e()}catch(t){e(t)}}))},56151:(t,e,i)=>{i.a(t,(async(t,s)=>{try{i.r(e),i.d(e,{HuiEntityFilterBadge:()=>y});var n=i(13064),o=i(14562),a=i(19867),r=(i(71499),i(95737),i(89655),i(253),i(5186),i(2075),i(16891),i(4525),i(96858),i(15112)),l=i(77706),h=i(9627),d=i(62241),c=i(32689),u=i(54494),f=t([u]);u=(f.then?(await f)():f)[0];let y=(0,n.A)([(0,l.EM)("hui-entity-filter-badge")],(function(t,e){class i extends e{constructor(...e){super(...e),t(this)}}return{F:i,d:[{kind:"field",decorators:[(0,l.MZ)({attribute:!1})],key:"preview",value:()=>!1},{kind:"field",decorators:[(0,l.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,l.wk)()],key:"_config",value:void 0},{kind:"field",key:"_elements",value:void 0},{kind:"field",key:"_configEntities",value:void 0},{kind:"field",key:"_oldEntities",value:void 0},{kind:"method",key:"setConfig",value:function(t){if(!t.entities.length||!Array.isArray(t.entities))throw new Error("Entities must be specified");if(!(t.conditions&&Array.isArray(t.conditions)||t.state_filter&&Array.isArray(t.state_filter)||t.entities.every((t=>"object"==typeof t&&t.state_filter&&Array.isArray(t.state_filter)))))throw new Error("Incorrect filter config");for(;this.lastChild;)this.removeChild(this.lastChild);this._elements=void 0,this._configEntities=(0,d.L)(t.entities),this._oldEntities=void 0,this._config=t}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"shouldUpdate",value:function(t){return!!(t.has("_config")||t.has("hass")&&this.haveEntitiesChanged(t.get("hass")))}},{kind:"method",key:"update",value:function(t){if((0,o.A)((0,a.A)(i.prototype),"update",this).call(this,t),!this.hass||!this._configEntities)return;if(this._elements)for(const t of this._elements)t.hass=this.hass;const e=this._configEntities.filter((t=>{var e,i;const s=this.hass.states[t.entity];if(!s)return!1;const n=null!==(e=t.conditions)&&void 0!==e?e:this._config.conditions;if(n){const e=n.map((e=>(0,c.lB)(e,t.entity)));return(0,c.XH)(e,this.hass)}const o=null!==(i=t.state_filter)&&void 0!==i?i:this._config.state_filter;return!!o&&o.some((t=>(0,h.J)(s,t)))}));if(0===e.length)return this.style.display="none",void(this._oldEntities=e);if(!(this._oldEntities&&e.length===this._oldEntities.length&&e.every(((t,e)=>t===this._oldEntities[e])))){this._elements=[];for(const t of e){const e=document.createElement("hui-badge");e.hass=this.hass,e.preview=this.preview,e.config=t,e.load(),this._elements.push(e)}this._oldEntities=e}if(this._elements){for(;this.lastChild;)this.removeChild(this.lastChild);for(const t of this._elements)this.appendChild(t);this.style.display="flex",this.style.flexWrap="wrap",this.style.justifyContent="center",this.style.gap="8px"}}},{kind:"method",key:"haveEntitiesChanged",value:function(t){var e;if(!t)return!0;if(!this._oldEntities||this.hass.localize!==t.localize)return!0;for(const e of this._configEntities){if(this.hass.states[e.entity]!==t.states[e.entity])return!0;if(e.conditions){const i=(0,c.Wx)(e.conditions);for(const e of i)if(this.hass.states[e]!==t.states[e])return!0}}if(null!==(e=this._config)&&void 0!==e&&e.conditions){var i;const e=(0,c.Wx)(null===(i=this._config)||void 0===i?void 0:i.conditions);for(const i of e)if(this.hass.states[i]!==t.states[i])return!0}return!1}}]}}),r.mN);s()}catch(t){s(t)}}))},9627:(t,e,i)=>{i.d(e,{J:()=>s});i(82386),i(72735),i(66385),i(13448),i(36016),i(16891);const s=(t,e)=>{let i,s,n;if("object"==typeof e?(i=e.operator,s=e.value,n=e.attribute?t.attributes[e.attribute]:t.state):(i="==",s=e,n=t.state),"=="===i||"!="===i){const t="number"==typeof s||"string"==typeof s&&s.trim()&&!isNaN(Number(s)),e="number"==typeof n||"string"==typeof n&&n.trim()&&!isNaN(Number(n));t&&e&&(s=Number(s),n=Number(n))}switch(i){case"==":return n===s;case"<=":return n<=s;case"<":return n<s;case">=":return n>=s;case">":return n>s;case"!=":return n!==s;case"in":return!(!Array.isArray(s)&&"string"!=typeof s)&&(Array.isArray(s)&&(s=s.map((t=>`${t}`))),s.includes(n));case"not in":return!(!Array.isArray(s)&&"string"!=typeof s)&&(Array.isArray(s)&&(s=s.map((t=>`${t}`))),!s.includes(n));case"regex":return"string"==typeof s&&(null!==n&&"object"==typeof n?RegExp(s).test(JSON.stringify(n)):RegExp(s).test(n));default:return!1}}}};
//# sourceMappingURL=56151.hqlutlSit_o.js.map