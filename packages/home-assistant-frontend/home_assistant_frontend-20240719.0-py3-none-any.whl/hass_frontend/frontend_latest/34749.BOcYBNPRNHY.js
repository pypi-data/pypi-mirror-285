/*! For license information please see 34749.BOcYBNPRNHY.js.LICENSE.txt */
export const id=34749;export const ids=[34749];export const modules={6811:(e,t,i)=>{i.d(t,{h:()=>h});i(95737),i(66457),i(96858);var r=i(79192),a=i(77706),o=i(41204),s=i(15565);let n=class extends o.L{};n.styles=[s.R],n=(0,r.__decorate)([(0,a.EM)("mwc-checkbox")],n);var l=i(15112),d=i(85323),c=i(30116);class h extends c.J{constructor(){super(...arguments),this.left=!1,this.graphic="control"}render(){const e={"mdc-deprecated-list-item__graphic":this.left,"mdc-deprecated-list-item__meta":!this.left},t=this.renderText(),i=this.graphic&&"control"!==this.graphic&&!this.left?this.renderGraphic():l.qy``,r=this.hasMeta&&this.left?this.renderMeta():l.qy``,a=this.renderRipple();return l.qy` ${a} ${i} ${this.left?"":t} <span class="${(0,d.H)(e)}"> <mwc-checkbox reducedTouchTarget tabindex="${this.tabindex}" .checked="${this.selected}" ?disabled="${this.disabled}" @change="${this.onChange}"> </mwc-checkbox> </span> ${this.left?t:""} ${r}`}async onChange(e){const t=e.target;this.selected===t.checked||(this._skipPropRequest=!0,this.selected=t.checked,await this.updateComplete,this._skipPropRequest=!1)}}(0,r.__decorate)([(0,a.P)("slot")],h.prototype,"slotElement",void 0),(0,r.__decorate)([(0,a.P)("mwc-checkbox")],h.prototype,"checkboxElement",void 0),(0,r.__decorate)([(0,a.MZ)({type:Boolean})],h.prototype,"left",void 0),(0,r.__decorate)([(0,a.MZ)({type:String,reflect:!0})],h.prototype,"graphic",void 0)},43385:(e,t,i)=>{i.d(t,{R:()=>r});const r=i(15112).AH`:host(:not([twoline])){height:56px}:host(:not([left])) .mdc-deprecated-list-item__meta{height:40px;width:40px}`},37629:(e,t,i)=>{i.r(t),i.d(t,{HaCircularProgress:()=>d});var r=i(13064),a=i(14562),o=i(19867),s=(i(95737),i(96858),i(99322)),n=i(15112),l=i(77706);let d=(0,r.A)([(0,l.EM)("ha-circular-progress")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,l.MZ)({attribute:"aria-label",type:String})],key:"ariaLabel",value:()=>"Loading"},{kind:"field",decorators:[(0,l.MZ)()],key:"size",value:()=>"medium"},{kind:"method",key:"updated",value:function(e){if((0,a.A)((0,o.A)(i.prototype),"updated",this).call(this,e),e.has("size"))switch(this.size){case"tiny":this.style.setProperty("--md-circular-progress-size","16px");break;case"small":this.style.setProperty("--md-circular-progress-size","28px");break;case"medium":this.style.setProperty("--md-circular-progress-size","48px");break;case"large":this.style.setProperty("--md-circular-progress-size","68px")}}},{kind:"field",static:!0,key:"styles",value(){return[...(0,a.A)((0,o.A)(i),"styles",this),n.AH`:host{--md-sys-color-primary:var(--primary-color);--md-circular-progress-size:48px}`]}}]}}),s.U)},24640:(e,t,i)=>{var r=i(13064),a=(i(95737),i(96858),i(15112)),o=i(77706);(0,r.A)([(0,o.EM)("ha-settings-row")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({type:Boolean,reflect:!0})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:Boolean,attribute:"three-line"})],key:"threeLine",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:Boolean,attribute:"wrap-heading",reflect:!0})],key:"wrapHeading",value:()=>!1},{kind:"method",key:"render",value:function(){return a.qy` <div class="prefix-wrap"> <slot name="prefix"></slot> <div class="body" ?two-line="${!this.threeLine}" ?three-line="${this.threeLine}"> <slot name="heading"></slot> <div class="secondary"><slot name="description"></slot></div> </div> </div> <div class="content"><slot></slot></div> `}},{kind:"get",static:!0,key:"styles",value:function(){return a.AH`:host{display:flex;padding:0 16px;align-content:normal;align-self:auto;align-items:center}.body{padding-top:8px;padding-bottom:8px;padding-left:0;padding-inline-start:0;padding-right:16x;padding-inline-end:16px;overflow:hidden;display:var(--layout-vertical_-_display);flex-direction:var(--layout-vertical_-_flex-direction);justify-content:var(--layout-center-justified_-_justify-content);flex:var(--layout-flex_-_flex);flex-basis:var(--layout-flex_-_flex-basis)}.body[three-line]{min-height:var(--paper-item-body-three-line-min-height,88px)}:host(:not([wrap-heading])) body>*{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.body>.secondary{display:block;padding-top:4px;font-family:var(
          --mdc-typography-body2-font-family,
          var(--mdc-typography-font-family, Roboto, sans-serif)
        );-webkit-font-smoothing:antialiased;font-size:var(--mdc-typography-body2-font-size, .875rem);font-weight:var(--mdc-typography-body2-font-weight,400);line-height:normal;color:var(--secondary-text-color)}.body[two-line]{min-height:calc(var(--paper-item-body-two-line-min-height,72px) - 16px);flex:1}.content{display:contents}:host(:not([narrow])) .content{display:var(--settings-row-content-display,flex);justify-content:flex-end;flex:1;padding:16px 0}.content ::slotted(*){width:var(--settings-row-content-width)}:host([narrow]){align-items:normal;flex-direction:column;border-top:1px solid var(--divider-color);padding-bottom:8px}::slotted(ha-switch){padding:16px 0}.secondary{white-space:normal}.prefix-wrap{display:var(--settings-row-prefix-display)}:host([narrow]) .prefix-wrap{display:flex;align-items:center}`}}]}}),a.WF)},22992:(e,t,i)=>{i.a(e,(async(e,t)=>{try{var r=i(13064),a=i(14562),o=i(19867),s=(i(95737),i(89655),i(66457),i(96858),i(72532),i(48644),i(15112)),n=i(77706),l=i(54075),d=i(70612),c=(i(8281),i(61774),e([l]));l=(c.then?(await c)():c)[0];(0,r.A)([(0,n.EM)("hui-card-element-editor")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,n.wk)()],key:"_curTab",value:()=>"config"},{kind:"field",decorators:[(0,n.MZ)({type:Boolean,attribute:"show-visibility-tab"})],key:"showVisibilityTab",value:()=>!1},{kind:"field",decorators:[(0,n.MZ)({type:Boolean,attribute:"show-layout-tab"})],key:"showLayoutTab",value:()=>!1},{kind:"method",key:"getConfigElement",value:async function(){const e=await(0,l.dY)(this.configElementType);if(e&&e.getConfigElement)return e.getConfigElement()}},{kind:"method",key:"getConfigForm",value:async function(){const e=await(0,l.dY)(this.configElementType);if(e&&e.getConfigForm)return e.getConfigForm()}},{kind:"method",key:"_handleTabSelected",value:function(e){e.detail.value&&(this._curTab=e.detail.value.id)}},{kind:"method",key:"_configChanged",value:function(e){e.stopPropagation(),this.value=e.detail.value}},{kind:"method",key:"renderConfigElement",value:function(){const e=["config"];if(this.showVisibilityTab&&e.push("visibility"),this.showLayoutTab&&e.push("layout"),1===e.length)return(0,a.A)((0,o.A)(i.prototype),"renderConfigElement",this).call(this);let t=s.s6;switch(this._curTab){case"config":t=s.qy`${(0,a.A)((0,o.A)(i.prototype),"renderConfigElement",this).call(this)}`;break;case"visibility":t=s.qy` <hui-card-visibility-editor .hass="${this.hass}" .config="${this.value}" @value-changed="${this._configChanged}"></hui-card-visibility-editor> `;break;case"layout":t=s.qy` <hui-card-layout-editor .hass="${this.hass}" .config="${this.value}" @value-changed="${this._configChanged}"> </hui-card-layout-editor> `}return s.qy` <paper-tabs scrollable hide-scroll-buttons .selected="${e.indexOf(this._curTab)}" @selected-item-changed="${this._handleTabSelected}"> ${e.map(((e,t)=>s.qy` <paper-tab id="${e}" .dialogInitialFocus="${0===t}"> ${this.hass.localize(`ui.panel.lovelace.editor.edit_card.tab_${e}`)} </paper-tab> `))} </paper-tabs> ${t} `}},{kind:"get",static:!0,key:"styles",value:function(){return[d.m.styles,s.AH`paper-tabs{--paper-tabs-selection-bar-color:var(--primary-color);color:var(--primary-text-color);text-transform:uppercase;margin-bottom:16px;border-bottom:1px solid var(--divider-color)}`]}}]}}),d.m);t()}catch(e){t(e)}}))},8281:(e,t,i)=>{var r=i(13064),a=i(14562),o=i(19867),s=(i(95737),i(66457),i(96858),i(15112)),n=i(77706),l=i(94100),d=i(34897),c=i(68320),h=i(79051),u=(i(77372),i(26790),i(16891),i(28066),i(19588),i(40322),i(41499),i(3714),i(64961),i(62726),i(19192),i(81625)),v=i(85323),p=i(63073);const m=new Set(["ArrowRight","ArrowUp","ArrowLeft","ArrowDown","PageUp","PageDown","Home","End"]);(0,r.A)([(0,n.EM)("ha-grid-layout-slider")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,n.MZ)({type:Boolean,reflect:!0})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,n.MZ)({type:Boolean,reflect:!0})],key:"vertical",value:()=>!1},{kind:"field",decorators:[(0,n.MZ)({attribute:"touch-action"})],key:"touchAction",value:void 0},{kind:"field",decorators:[(0,n.MZ)({type:Number})],key:"value",value:void 0},{kind:"field",decorators:[(0,n.MZ)({type:Number})],key:"step",value:()=>1},{kind:"field",decorators:[(0,n.MZ)({type:Number})],key:"min",value:()=>1},{kind:"field",decorators:[(0,n.MZ)({type:Number})],key:"max",value:()=>4},{kind:"field",decorators:[(0,n.MZ)({type:Number})],key:"range",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"pressed",value:()=>!1},{kind:"field",key:"_mc",value:void 0},{kind:"get",key:"_range",value:function(){var e;return null!==(e=this.range)&&void 0!==e?e:this.max}},{kind:"method",key:"_valueToPercentage",value:function(e){return this._boundedValue(e)/this._range}},{kind:"method",key:"_percentageToValue",value:function(e){return this._range*e}},{kind:"method",key:"_steppedValue",value:function(e){return Math.round(e/this.step)*this.step}},{kind:"method",key:"_boundedValue",value:function(e){return Math.min(Math.max(e,this.min),this.max)}},{kind:"method",key:"firstUpdated",value:function(e){(0,a.A)((0,o.A)(i.prototype),"firstUpdated",this).call(this,e),this.setupListeners(),this.setAttribute("role","slider"),this.hasAttribute("tabindex")||this.setAttribute("tabindex","0")}},{kind:"method",key:"updated",value:function(e){if((0,a.A)((0,o.A)(i.prototype),"updated",this).call(this,e),e.has("value")){var t;const e=this._steppedValue(null!==(t=this.value)&&void 0!==t?t:0);this.setAttribute("aria-valuenow",e.toString()),this.setAttribute("aria-valuetext",e.toString())}if(e.has("min")&&this.setAttribute("aria-valuemin",this.min.toString()),e.has("max")&&this.setAttribute("aria-valuemax",this.max.toString()),e.has("vertical")){const e=this.vertical?"vertical":"horizontal";this.setAttribute("aria-orientation",e)}}},{kind:"method",key:"connectedCallback",value:function(){(0,a.A)((0,o.A)(i.prototype),"connectedCallback",this).call(this),this.setupListeners()}},{kind:"method",key:"disconnectedCallback",value:function(){(0,a.A)((0,o.A)(i.prototype),"disconnectedCallback",this).call(this),this.destroyListeners()}},{kind:"field",decorators:[(0,n.P)("#slider")],key:"slider",value:void 0},{kind:"method",key:"setupListeners",value:function(){if(this.slider&&!this._mc){var e;let t;this._mc=new u.mS(this.slider,{touchAction:null!==(e=this.touchAction)&&void 0!==e?e:this.vertical?"pan-x":"pan-y"}),this._mc.add(new u.uq({threshold:10,direction:u.ge,enable:!0})),this._mc.add(new u.Cx({event:"singletap"})),this._mc.on("panstart",(()=>{this.disabled||(this.pressed=!0,t=this.value)})),this._mc.on("pancancel",(()=>{this.disabled||(this.pressed=!1,this.value=t)})),this._mc.on("panmove",(e=>{if(this.disabled)return;const t=this._getPercentageFromEvent(e);this.value=this._percentageToValue(t);const i=this._steppedValue(this._boundedValue(this.value));(0,d.r)(this,"slider-moved",{value:i})})),this._mc.on("panend",(e=>{if(this.disabled)return;this.pressed=!1;const t=this._getPercentageFromEvent(e),i=this._percentageToValue(t);this.value=this._steppedValue(this._boundedValue(i)),(0,d.r)(this,"slider-moved",{value:void 0}),(0,d.r)(this,"value-changed",{value:this.value})})),this._mc.on("singletap",(e=>{if(this.disabled)return;const t=this._getPercentageFromEvent(e),i=this._percentageToValue(t);this.value=this._steppedValue(this._boundedValue(i)),(0,d.r)(this,"value-changed",{value:this.value})})),this.addEventListener("keydown",this._handleKeyDown),this.addEventListener("keyup",this._handleKeyUp)}}},{kind:"method",key:"destroyListeners",value:function(){this._mc&&(this._mc.destroy(),this._mc=void 0),this.removeEventListener("keydown",this._handleKeyDown),this.removeEventListener("keyup",this._handleKeyUp)}},{kind:"get",key:"_tenPercentStep",value:function(){return Math.max(this.step,(this.max-this.min)/10)}},{kind:"method",key:"_handleKeyDown",value:function(e){var t,i,r,a;if(m.has(e.code)){switch(e.preventDefault(),e.code){case"ArrowRight":case"ArrowUp":this.value=this._boundedValue((null!==(t=this.value)&&void 0!==t?t:0)+this.step);break;case"ArrowLeft":case"ArrowDown":this.value=this._boundedValue((null!==(i=this.value)&&void 0!==i?i:0)-this.step);break;case"PageUp":this.value=this._steppedValue(this._boundedValue((null!==(r=this.value)&&void 0!==r?r:0)+this._tenPercentStep));break;case"PageDown":this.value=this._steppedValue(this._boundedValue((null!==(a=this.value)&&void 0!==a?a:0)-this._tenPercentStep));break;case"Home":this.value=this.min;break;case"End":this.value=this.max}(0,d.r)(this,"slider-moved",{value:this.value})}}},{kind:"method",key:"_handleKeyUp",value:function(e){m.has(e.code)&&(e.preventDefault(),(0,d.r)(this,"value-changed",{value:this.value}))}},{kind:"field",key:"_getPercentageFromEvent",value(){return e=>{if(this.vertical){const t=e.center.y,i=e.target.getBoundingClientRect().top,r=e.target.clientHeight;return Math.max(Math.min(1,(t-i)/r),0)}const t=e.center.x,i=e.target.getBoundingClientRect().left,r=e.target.clientWidth;return Math.max(Math.min(1,(t-i)/r),0)}}},{kind:"method",key:"render",value:function(){var e;return s.qy` <div class="container${(0,v.H)({pressed:this.pressed})}" style="${(0,p.W)({"--value":`${this._valueToPercentage(null!==(e=this.value)&&void 0!==e?e:0)}`})}"> <div id="slider" class="slider"> <div class="track"> <div class="background"></div> <div class="active" style="${(0,p.W)({"--min":""+this.min/this._range,"--max":""+(1-this.max/this._range)})}"></div> </div> ${void 0!==this.value?s.qy`<div class="handle"></div>`:s.s6} </div> </div> `}},{kind:"get",static:!0,key:"styles",value:function(){return s.AH`:host{display:block;--grid-layout-slider:48px;height:var(--grid-layout-slider);width:100%;outline:0;transition:box-shadow 180ms ease-in-out}:host(:focus-visible){box-shadow:0 0 0 2px var(--primary-color)}:host([vertical]){width:var(--grid-layout-slider);height:100%}.container{position:relative;height:100%;width:100%}.slider{position:relative;height:100%;width:100%;transform:translateZ(0);overflow:visible;cursor:pointer}.slider *{pointer-events:none}.track{position:absolute;inset:0;margin:auto;height:16px;width:100%;border-radius:8px;overflow:hidden}:host([vertical]) .track{width:16px;height:100%}.background{position:absolute;inset:0;background:var(--disabled-color);opacity:.2}.active{position:absolute;background:grey;opacity:.7;top:0;right:calc(var(--max) * 100%);bottom:0;left:calc(var(--min) * 100%)}:host([vertical]) .active{top:calc(var(--min) * 100%);right:0;bottom:calc(var(--max) * 100%);left:0}.handle{position:absolute;top:0;height:100%;width:16px;transform:translate(-50%,0);background:var(--card-background-color);left:calc(var(--value,0%) * 100%);transition:left 180ms ease-in-out,top 180ms ease-in-out}:host([vertical]) .handle{transform:translate(0,-50%);left:0;top:calc(var(--value,0%) * 100%);height:16px;width:100%}.handle::after{position:absolute;inset:0;width:4px;border-radius:2px;height:100%;margin:auto;background:grey;content:""}:host([vertical]) .handle::after{height:4px;width:100%}:host(:disabled) .slider{cursor:not-allowed}:host(:disabled) .handle:after{background:var(--disabled-color)}:host(:disabled) .active{background:var(--disabled-color)}.pressed .handle{transition:none}`}}]}}),s.WF);var g=i(69678);(0,r.A)([(0,n.EM)("ha-grid-size-picker")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"value",value:void 0},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"rows",value:()=>8},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"columns",value:()=>4},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"rowMin",value:void 0},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"rowMax",value:void 0},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"columnMin",value:void 0},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"columnMax",value:void 0},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"isDefault",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_localValue",value(){}},{kind:"method",key:"willUpdate",value:function(e){e.has("value")&&(this._localValue=this.value)}},{kind:"method",key:"render",value:function(){var e,t,i,r,a,o,n;const l=void 0!==this.columnMin&&this.columnMin===this.columnMax,d=void 0!==this.rowMin&&this.rowMin===this.rowMax,c="auto"===(null===(e=this._localValue)||void 0===e?void 0:e.rows),h=null!==(t=this.rowMin)&&void 0!==t?t:1,u=null!==(i=this.rowMax)&&void 0!==i?i:this.rows,v=null!==(r=this.columnMin)&&void 0!==r?r:1,m=null!==(a=this.columnMax)&&void 0!==a?a:this.columns,g=c?h:null===(o=this._localValue)||void 0===o?void 0:o.rows,y=null===(n=this._localValue)||void 0===n?void 0:n.columns;return s.qy` <div class="grid"> <ha-grid-layout-slider aria-label="${this.hass.localize("ui.components.grid-size-picker.columns")}" id="columns" .min="${v}" .max="${m}" .range="${this.columns}" .value="${y}" @value-changed="${this._valueChanged}" @slider-moved="${this._sliderMoved}" .disabled="${l}"></ha-grid-layout-slider> <ha-grid-layout-slider aria-label="${this.hass.localize("ui.components.grid-size-picker.rows")}" id="rows" .min="${h}" .max="${u}" .range="${this.rows}" vertical .value="${g}" @value-changed="${this._valueChanged}" @slider-moved="${this._sliderMoved}" .disabled="${d}"></ha-grid-layout-slider> ${this.isDefault?s.s6:s.qy` <ha-icon-button @click="${this._reset}" class="reset" .path="${"M13,3A9,9 0 0,0 4,12H1L4.89,15.89L4.96,16.03L9,12H6A7,7 0 0,1 13,5A7,7 0 0,1 20,12A7,7 0 0,1 13,19C11.07,19 9.32,18.21 8.06,16.94L6.64,18.36C8.27,20 10.5,21 13,21A9,9 0 0,0 22,12A9,9 0 0,0 13,3Z"}" label="${this.hass.localize("ui.components.grid-size-picker.reset_default")}" title="${this.hass.localize("ui.components.grid-size-picker.reset_default")}"> </ha-icon-button> `} <div class="preview" style="${(0,p.W)({"--total-rows":this.rows,"--total-columns":this.columns,"--rows":g,"--columns":y})}"> <div> ${Array(this.rows*this.columns).fill(0).map(((e,t)=>{const i=Math.floor(t/this.columns)+1,r=t%this.columns+1;return s.qy` <div class="cell" data-row="${i}" data-column="${r}" @click="${this._cellClick}"></div> `}))} </div> <div class="selected"> <div class="cell"></div> </div> </div> </div> `}},{kind:"method",key:"_cellClick",value:function(e){const t=e.currentTarget,i=Number(t.getAttribute("data-row")),r=Number(t.getAttribute("data-column")),a=(0,g.O)(i,this.rowMin,this.rowMax),o=(0,g.O)(r,this.columnMin,this.columnMax);(0,d.r)(this,"value-changed",{value:{rows:a,columns:o}})}},{kind:"method",key:"_valueChanged",value:function(e){e.stopPropagation();const t=e.currentTarget.id,i={...this.value,[t]:e.detail.value};(0,d.r)(this,"value-changed",{value:i})}},{kind:"method",key:"_reset",value:function(e){e.stopPropagation(),(0,d.r)(this,"value-changed",{value:{rows:void 0,columns:void 0}})}},{kind:"method",key:"_sliderMoved",value:function(e){e.stopPropagation();const t=e.currentTarget.id;void 0!==e.detail.value&&(this._localValue={...this.value,[t]:e.detail.value})}},{kind:"field",static:!0,key:"styles",value:()=>[s.AH`.grid{display:grid;grid-template-areas:"reset column-slider" "row-slider preview";grid-template-rows:auto 1fr;grid-template-columns:auto 1fr;gap:8px}#columns{grid-area:column-slider}#rows{grid-area:row-slider}.reset{grid-area:reset}.preview{position:relative;grid-area:preview;aspect-ratio:1/1.2}.preview>div{position:absolute;width:100%;height:100%;top:0;left:0;display:grid;grid-template-columns:repeat(var(--total-columns),1fr);grid-template-rows:repeat(var(--total-rows),1fr);gap:4px}.preview .cell{background-color:var(--disabled-color);grid-column:span 1;grid-row:span 1;border-radius:4px;opacity:.2;cursor:pointer}.selected{pointer-events:none}.selected .cell{background-color:var(--primary-color);grid-column:1/span var(--columns,0);grid-row:1/span var(--rows,0);opacity:.5}`]}]}}),s.WF);i(13830),i(24640),i(97249),i(88400),i(59588),i(57641);var y=i(55321),f=i(71743);const k="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z";(0,r.A)([(0,n.EM)("hui-card-layout-editor")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"config",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_defaultLayoutOptions",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_yamlMode",value:()=>!1},{kind:"field",decorators:[(0,n.wk)()],key:"_uiAvailable",value:()=>!0},{kind:"field",decorators:[(0,n.P)("ha-yaml-editor")],key:"_yamlEditor",value:void 0},{kind:"field",key:"_cardElement",value:void 0},{kind:"field",key:"_mergedOptions",value:()=>(0,l.A)(((e,t)=>({...t,...e})))},{kind:"field",key:"_gridSizeValue",value:()=>(0,l.A)(f.YO)},{kind:"field",key:"_isDefault",value:()=>(0,l.A)((e=>void 0===(null==e?void 0:e.grid_columns)&&void 0===(null==e?void 0:e.grid_rows)))},{kind:"method",key:"render",value:function(){const e=this._mergedOptions(this.config.layout_options,this._defaultLayoutOptions),t=this._gridSizeValue(e);return s.qy` <div class="header"> <p class="intro"> ${this.hass.localize("ui.panel.lovelace.editor.edit_card.layout.explanation")} </p> <ha-button-menu slot="icons" @action="${this._handleAction}" @click="${c.w}" @closed="${h.d}" fixed .corner="${"BOTTOM_END"}" .menuCorner="${"END"}"> <ha-icon-button slot="trigger" .label="${this.hass.localize("ui.common.menu")}" .path="${"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z"}"> </ha-icon-button> <ha-list-item graphic="icon" .disabled="${!this._uiAvailable}"> ${this.hass.localize("ui.panel.lovelace.editor.edit_card.edit_ui")} ${this._yamlMode?s.s6:s.qy` <ha-svg-icon class="selected_menu_item" slot="graphic" .path="${k}"></ha-svg-icon> `} </ha-list-item> <ha-list-item graphic="icon"> ${this.hass.localize("ui.panel.lovelace.editor.edit_card.edit_yaml")} ${this._yamlMode?s.qy` <ha-svg-icon class="selected_menu_item" slot="graphic" .path="${k}"></ha-svg-icon> `:s.s6} </ha-list-item> </ha-button-menu> </div> ${this._yamlMode?s.qy` <ha-yaml-editor .hass="${this.hass}" .defaultValue="${this.config.layout_options}" @value-changed="${this._valueChanged}"></ha-yaml-editor> `:s.qy` <ha-grid-size-picker .hass="${this.hass}" .value="${t}" .isDefault="${this._isDefault(this.config.layout_options)}" @value-changed="${this._gridSizeChanged}" .rowMin="${e.grid_min_rows}" .rowMax="${e.grid_max_rows}" .columnMin="${e.grid_min_columns}" .columnMax="${e.grid_max_columns}"></ha-grid-size-picker> `} `}},{kind:"method",key:"firstUpdated",value:function(e){(0,a.A)((0,o.A)(i.prototype),"firstUpdated",this).call(this,e);try{this._cardElement=document.createElement("hui-card"),this._cardElement.hass=this.hass,this._cardElement.preview=!0,this._cardElement.config=this.config,this._cardElement.addEventListener("card-updated",(e=>{var t;e.stopPropagation(),this._defaultLayoutOptions=null===(t=this._cardElement)||void 0===t?void 0:t.getElementLayoutOptions()})),this._cardElement.load(),this._defaultLayoutOptions=this._cardElement.getElementLayoutOptions()}catch(e){console.error(e)}}},{kind:"method",key:"updated",value:function(e){(0,a.A)((0,o.A)(i.prototype),"updated",this).call(this,e),this._cardElement&&(e.has("hass")&&(this._cardElement.hass=this.hass),e.has("config")&&(this._cardElement.config=this.config))}},{kind:"method",key:"_handleAction",value:async function(e){switch(e.detail.index){case 0:this._yamlMode=!1;break;case 1:this._yamlMode=!0;break;case 2:this._reset()}}},{kind:"method",key:"_reset",value:async function(){var e;const t={...this.config};delete t.layout_options,null===(e=this._yamlEditor)||void 0===e||e.setValue({}),(0,d.r)(this,"value-changed",{value:t})}},{kind:"method",key:"_gridSizeChanged",value:function(e){e.stopPropagation();const t=e.detail.value,i={...this.config,layout_options:{...this.config.layout_options,grid_columns:t.columns,grid_rows:t.rows}};void 0===i.layout_options.grid_columns&&delete i.layout_options.grid_columns,void 0===i.layout_options.grid_rows&&delete i.layout_options.grid_rows,0===Object.keys(i.layout_options).length&&delete i.layout_options,(0,d.r)(this,"value-changed",{value:i})}},{kind:"method",key:"_valueChanged",value:function(e){e.stopPropagation();const t=e.detail.value,i={...this.config,layout_options:t};(0,d.r)(this,"value-changed",{value:i})}},{kind:"field",static:!0,key:"styles",value:()=>[y.RF,s.AH`.header{display:flex;flex-direction:row;align-items:flex-start}.header .intro{flex:1;margin:0;color:var(--secondary-text-color)}.header ha-button-menu{--mdc-theme-text-primary-on-background:var(--primary-text-color);margin-top:-8px}.selected_menu_item{color:var(--primary-color)}.disabled{opacity:.5;pointer-events:none}ha-grid-size-picker{display:block;max-width:250px;margin:16px auto}ha-yaml-editor{display:block;margin:16px 0}`]}]}}),s.WF)},25517:(e,t,i)=>{var r=i(18816),a=i(56674),o=i(1370),s=i(36810);e.exports=function(e,t){t&&"string"==typeof e||a(e);var i=s(e);return o(a(void 0!==i?r(i,e):e))}},84251:(e,t,i)=>{var r=i(41765),a=i(90840),o=i(95689),s=i(49940),n=i(36565),l=i(23974);r({target:"Array",proto:!0},{flatMap:function(e){var t,i=s(this),r=n(i);return o(e),(t=l(i,0)).length=a(t,i,i,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},89336:(e,t,i)=>{i(2586)("flatMap")},32137:(e,t,i)=>{var r=i(41765),a=i(18816),o=i(95689),s=i(56674),n=i(1370),l=i(25517),d=i(78211),c=i(91228),h=i(53982),u=d((function(){for(var e,t,i=this.iterator,r=this.mapper;;){if(t=this.inner)try{if(!(e=s(a(t.next,t.iterator))).done)return e.value;this.inner=null}catch(e){c(i,"throw",e)}if(e=s(a(this.next,i)),this.done=!!e.done)return;try{this.inner=l(r(e.value,this.counter++),!1)}catch(e){c(i,"throw",e)}}}));r({target:"Iterator",proto:!0,real:!0,forced:h},{flatMap:function(e){return s(this),o(e),new u(n(this),{mapper:e,inner:null})}})},99322:(e,t,i)=>{i.d(t,{U:()=>h});var r=i(79192),a=i(77706),o=i(15112),s=(i(95737),i(96858),i(85323)),n=i(26604);class l extends o.WF{constructor(){super(...arguments),this.value=0,this.max=1,this.indeterminate=!1,this.fourColor=!1}render(){const{ariaLabel:e}=this;return o.qy` <div class="progress ${(0,s.H)(this.getRenderClasses())}" role="progressbar" aria-label="${e||o.s6}" aria-valuemin="0" aria-valuemax="${this.max}" aria-valuenow="${this.indeterminate?o.s6:this.value}">${this.renderIndicator()}</div> `}getRenderClasses(){return{indeterminate:this.indeterminate,"four-color":this.fourColor}}}(0,n.F)(l),(0,r.__decorate)([(0,a.MZ)({type:Number})],l.prototype,"value",void 0),(0,r.__decorate)([(0,a.MZ)({type:Number})],l.prototype,"max",void 0),(0,r.__decorate)([(0,a.MZ)({type:Boolean})],l.prototype,"indeterminate",void 0),(0,r.__decorate)([(0,a.MZ)({type:Boolean,attribute:"four-color"})],l.prototype,"fourColor",void 0);class d extends l{renderIndicator(){return this.indeterminate?this.renderIndeterminateContainer():this.renderDeterminateContainer()}renderDeterminateContainer(){const e=100*(1-this.value/this.max);return o.qy` <svg viewBox="0 0 4800 4800"> <circle class="track" pathLength="100"></circle> <circle class="active-track" pathLength="100" stroke-dashoffset="${e}"></circle> </svg> `}renderIndeterminateContainer(){return o.qy` <div class="spinner"> <div class="left"> <div class="circle"></div> </div> <div class="right"> <div class="circle"></div> </div> </div>`}}const c=o.AH`:host{--_active-indicator-color:var(--md-circular-progress-active-indicator-color, var(--md-sys-color-primary, #6750a4));--_active-indicator-width:var(--md-circular-progress-active-indicator-width, 10);--_four-color-active-indicator-four-color:var(--md-circular-progress-four-color-active-indicator-four-color, var(--md-sys-color-tertiary-container, #ffd8e4));--_four-color-active-indicator-one-color:var(--md-circular-progress-four-color-active-indicator-one-color, var(--md-sys-color-primary, #6750a4));--_four-color-active-indicator-three-color:var(--md-circular-progress-four-color-active-indicator-three-color, var(--md-sys-color-tertiary, #7d5260));--_four-color-active-indicator-two-color:var(--md-circular-progress-four-color-active-indicator-two-color, var(--md-sys-color-primary-container, #eaddff));--_size:var(--md-circular-progress-size, 48px);display:inline-flex;vertical-align:middle;width:var(--_size);height:var(--_size);position:relative;align-items:center;justify-content:center;contain:strict;content-visibility:auto}.progress{flex:1;align-self:stretch;margin:4px}.active-track,.circle,.left,.progress,.right,.spinner,.track,svg{position:absolute;inset:0}svg{transform:rotate(-90deg)}circle{cx:50%;cy:50%;r:calc(50%*(1 - var(--_active-indicator-width)/ 100));stroke-width:calc(var(--_active-indicator-width)*1%);stroke-dasharray:100;fill:rgba(0,0,0,0)}.active-track{transition:stroke-dashoffset .5s cubic-bezier(0, 0, .2, 1);stroke:var(--_active-indicator-color)}.track{stroke:rgba(0,0,0,0)}.progress.indeterminate{animation:linear infinite linear-rotate;animation-duration:1.568s}.spinner{animation:infinite both rotate-arc;animation-duration:5332ms;animation-timing-function:cubic-bezier(0.4,0,0.2,1)}.left{overflow:hidden;inset:0 50% 0 0}.right{overflow:hidden;inset:0 0 0 50%}.circle{box-sizing:border-box;border-radius:50%;border:solid calc(var(--_active-indicator-width)/ 100*(var(--_size) - 8px));border-color:var(--_active-indicator-color) var(--_active-indicator-color) transparent transparent;animation:expand-arc;animation-iteration-count:infinite;animation-fill-mode:both;animation-duration:1333ms,5332ms;animation-timing-function:cubic-bezier(0.4,0,0.2,1)}.four-color .circle{animation-name:expand-arc,four-color}.left .circle{rotate:135deg;inset:0 -100% 0 0}.right .circle{rotate:100deg;inset:0 0 0 -100%;animation-delay:-.666s,0s}@media(forced-colors:active){.active-track{stroke:CanvasText}.circle{border-color:CanvasText CanvasText Canvas Canvas}}@keyframes expand-arc{0%{transform:rotate(265deg)}50%{transform:rotate(130deg)}100%{transform:rotate(265deg)}}@keyframes rotate-arc{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes linear-rotate{to{transform:rotate(360deg)}}@keyframes four-color{0%{border-top-color:var(--_four-color-active-indicator-one-color);border-right-color:var(--_four-color-active-indicator-one-color)}15%{border-top-color:var(--_four-color-active-indicator-one-color);border-right-color:var(--_four-color-active-indicator-one-color)}25%{border-top-color:var(--_four-color-active-indicator-two-color);border-right-color:var(--_four-color-active-indicator-two-color)}40%{border-top-color:var(--_four-color-active-indicator-two-color);border-right-color:var(--_four-color-active-indicator-two-color)}50%{border-top-color:var(--_four-color-active-indicator-three-color);border-right-color:var(--_four-color-active-indicator-three-color)}65%{border-top-color:var(--_four-color-active-indicator-three-color);border-right-color:var(--_four-color-active-indicator-three-color)}75%{border-top-color:var(--_four-color-active-indicator-four-color);border-right-color:var(--_four-color-active-indicator-four-color)}90%{border-top-color:var(--_four-color-active-indicator-four-color);border-right-color:var(--_four-color-active-indicator-four-color)}100%{border-top-color:var(--_four-color-active-indicator-one-color);border-right-color:var(--_four-color-active-indicator-one-color)}}`;let h=class extends d{};h.styles=[c],h=(0,r.__decorate)([(0,a.EM)("md-circular-progress")],h)}};
//# sourceMappingURL=34749.BOcYBNPRNHY.js.map