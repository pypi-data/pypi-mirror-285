export const id=74247;export const ids=[74247];export const modules={59400:(e,i,a)=>{var o=a(13064),t=(a(95737),a(96858),a(15112)),n=a(77706),s=a(10296),r=a(94872),l=a(68236),d=a(51842);a(20144);(0,o.A)([(0,n.EM)("ha-domain-icon")],(function(e,i){return{F:class extends i{constructor(...i){super(...i),e(this)}},d:[{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,n.MZ)()],key:"domain",value:void 0},{kind:"field",decorators:[(0,n.MZ)()],key:"deviceClass",value:void 0},{kind:"field",decorators:[(0,n.MZ)()],key:"icon",value:void 0},{kind:"field",decorators:[(0,n.MZ)({type:Boolean})],key:"brandFallback",value:void 0},{kind:"method",key:"render",value:function(){if(this.icon)return t.qy`<ha-icon .icon="${this.icon}"></ha-icon>`;if(!this.domain)return t.s6;if(!this.hass)return this._renderFallback();const e=(0,l._4)(this.hass,this.domain,this.deviceClass).then((e=>e?t.qy`<ha-icon .icon="${e}"></ha-icon>`:this._renderFallback()));return t.qy`${(0,s.T)(e)}`}},{kind:"method",key:"_renderFallback",value:function(){if(this.domain in r.n_)return t.qy` <ha-svg-icon .path="${r.n_[this.domain]}"></ha-svg-icon> `;if(this.brandFallback){var e;const i=(0,d.MR)({domain:this.domain,type:"icon",darkOptimized:null===(e=this.hass.themes)||void 0===e?void 0:e.darkMode});return t.qy` <img alt="" src="${i}" crossorigin="anonymous" referrerpolicy="no-referrer"> `}return t.qy`<ha-svg-icon .path="${r.lW}"></ha-svg-icon>`}},{kind:"get",static:!0,key:"styles",value:function(){return t.AH`img{width:var(--mdc-icon-size,24px)}`}}]}}),t.WF)},85288:(e,i,a)=>{a.a(e,(async(e,o)=>{try{a.r(i),a.d(i,{HaIconPicker:()=>f});var t=a(13064),n=(a(82386),a(95737),a(89655),a(33231),a(66457),a(253),a(2075),a(54846),a(16891),a(4525),a(19588),a(40322),a(41499),a(3714),a(64961),a(62726),a(19192),a(96858),a(15112)),s=a(77706),r=a(94100),l=a(34897),d=a(81235),c=a(43536),h=(a(13830),a(20144),e([c]));c=(h.then?(await h)():h)[0];let u=[],p=!1;const v=async()=>{p=!0;const e=await a.e(25143).then(a.t.bind(a,25143,19));u=e.default.map((e=>({icon:`mdi:${e.name}`,parts:new Set(e.name.split("-")),keywords:e.keywords})));const i=[];Object.keys(d.y).forEach((e=>{i.push(k(e))})),(await Promise.all(i)).forEach((e=>{u.push(...e)}))},k=async e=>{try{const i=d.y[e].getIconList;if("function"!=typeof i)return[];const a=await i();return a.map((i=>{var a;return{icon:`${e}:${i.name}`,parts:new Set(i.name.split("-")),keywords:null!==(a=i.keywords)&&void 0!==a?a:[]}}))}catch(i){return console.warn(`Unable to load icon list for ${e} iconset`),[]}},m=e=>n.qy`<ha-list-item graphic="avatar"> <ha-icon .icon="${e.icon}" slot="graphic"></ha-icon> ${e.icon} </ha-list-item>`;let f=(0,t.A)([(0,s.EM)("ha-icon-picker")],(function(e,i){return{F:class extends i{constructor(...i){super(...i),e(this)}},d:[{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"value",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"placeholder",value:void 0},{kind:"field",decorators:[(0,s.MZ)({attribute:"error-message"})],key:"errorMessage",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"required",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"invalid",value:()=>!1},{kind:"method",key:"render",value:function(){return n.qy` <ha-combo-box .hass="${this.hass}" item-value-path="icon" item-label-path="icon" .value="${this._value}" allow-custom-value .dataProvider="${p?this._iconProvider:void 0}" .label="${this.label}" .helper="${this.helper}" .disabled="${this.disabled}" .required="${this.required}" .placeholder="${this.placeholder}" .errorMessage="${this.errorMessage}" .invalid="${this.invalid}" .renderer="${m}" icon @opened-changed="${this._openedChanged}" @value-changed="${this._valueChanged}"> ${this._value||this.placeholder?n.qy` <ha-icon .icon="${this._value||this.placeholder}" slot="icon"> </ha-icon> `:n.qy`<slot slot="icon" name="fallback"></slot>`} </ha-combo-box> `}},{kind:"field",key:"_filterIcons",value:()=>(0,r.A)(((e,i=u)=>{if(!e)return i;const a=[],o=(e,i)=>a.push({icon:e,rank:i});for(const a of i)a.parts.has(e)?o(a.icon,1):a.keywords.includes(e)?o(a.icon,2):a.icon.includes(e)?o(a.icon,3):a.keywords.some((i=>i.includes(e)))&&o(a.icon,4);return 0===a.length&&o(e,0),a.sort(((e,i)=>e.rank-i.rank))}))},{kind:"field",key:"_iconProvider",value(){return(e,i)=>{const a=this._filterIcons(e.filter.toLowerCase(),u),o=e.page*e.pageSize,t=o+e.pageSize;i(a.slice(o,t),a.length)}}},{kind:"method",key:"_openedChanged",value:async function(e){e.detail.value&&!p&&(await v(),this.requestUpdate())}},{kind:"method",key:"_valueChanged",value:function(e){e.stopPropagation(),this._setValue(e.detail.value)}},{kind:"method",key:"_setValue",value:function(e){this.value=e,(0,l.r)(this,"value-changed",{value:this._value},{bubbles:!1,composed:!1})}},{kind:"get",key:"_value",value:function(){return this.value||""}},{kind:"get",static:!0,key:"styles",value:function(){return n.AH`[slot=icon]{color:var(--primary-text-color);position:relative;bottom:2px}[slot=prefix]{margin-right:8px;margin-inline-end:8px;margin-inline-start:initial}`}}]}}),n.WF);o()}catch(e){o(e)}}))},74247:(e,i,a)=>{a.a(e,(async(e,o)=>{try{a.r(i);var t=a(13064),n=(a(48062),a(95737),a(96858),a(72606),a(15112)),s=a(77706),r=a(34897),l=(a(13292),a(3276)),d=(a(59400),a(85288)),c=(a(97822),a(90431),a(55321)),h=e([d]);d=(h.then?(await h)():h)[0];(0,t.A)([(0,s.EM)("ha-dialog-automation-rename")],(function(e,i){return{F:class extends i{constructor(...i){super(...i),e(this)}},d:[{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.wk)()],key:"_opened",value:()=>!1},{kind:"field",decorators:[(0,s.wk)()],key:"_error",value:void 0},{kind:"field",key:"_params",value:void 0},{kind:"field",key:"_newName",value:void 0},{kind:"field",key:"_newIcon",value:void 0},{kind:"field",key:"_newDescription",value:void 0},{kind:"method",key:"showDialog",value:function(e){this._opened=!0,this._params=e,this._newIcon="icon"in e.config?e.config.icon:void 0,this._newName=e.config.alias||this.hass.localize("ui.panel.config.automation.editor.default_name"),this._newDescription=e.config.description||""}},{kind:"method",key:"closeDialog",value:function(){this._params.onClose(),this._opened&&(0,r.r)(this,"dialog-closed",{dialog:this.localName}),this._opened=!1}},{kind:"method",key:"render",value:function(){return this._opened?n.qy` <ha-dialog open scrimClickAction @closed="${this.closeDialog}" .heading="${(0,l.l)(this.hass,this.hass.localize(this._params.config.alias?"ui.panel.config.automation.editor.rename":"ui.panel.config.automation.editor.save"))}"> ${this._error?n.qy`<ha-alert alert-type="error">${this.hass.localize("ui.panel.config.automation.editor.missing_name")}</ha-alert>`:""} <ha-textfield dialogInitialFocus .value="${this._newName}" .placeholder="${this.hass.localize("ui.panel.config.automation.editor.default_name")}" .label="${this.hass.localize("ui.panel.config.automation.editor.alias")}" required type="string" @input="${this._valueChanged}"></ha-textfield> ${"script"===this._params.domain?n.qy` <ha-icon-picker .hass="${this.hass}" .label="${this.hass.localize("ui.panel.config.automation.editor.icon")}" .value="${this._newIcon}" @value-changed="${this._iconChanged}"> <ha-domain-icon slot="fallback" domain="${this._params.domain}" .hass="${this.hass}"> </ha-domain-icon> </ha-icon-picker> `:n.s6} <ha-textarea .label="${this.hass.localize("ui.panel.config.automation.editor.description.label")}" .placeholder="${this.hass.localize("ui.panel.config.automation.editor.description.placeholder")}" name="description" autogrow .value="${this._newDescription}" @input="${this._valueChanged}"></ha-textarea> <mwc-button @click="${this.closeDialog}" slot="secondaryAction"> ${this.hass.localize("ui.dialogs.generic.cancel")} </mwc-button> <mwc-button @click="${this._save}" slot="primaryAction"> ${this.hass.localize(this._params.config.alias?"ui.panel.config.automation.editor.rename":"ui.panel.config.automation.editor.save")} </mwc-button> </ha-dialog> `:n.s6}},{kind:"method",key:"_iconChanged",value:function(e){e.stopPropagation(),this._newIcon=e.detail.value||void 0}},{kind:"method",key:"_valueChanged",value:function(e){e.stopPropagation();const i=e.target;"description"===i.name?this._newDescription=i.value:this._newName=i.value}},{kind:"method",key:"_save",value:function(){this._newName?("script"===this._params.domain?this._params.updateConfig({...this._params.config,alias:this._newName,description:this._newDescription,icon:this._newIcon}):this._params.updateConfig({...this._params.config,alias:this._newName,description:this._newDescription}),this.closeDialog()):this._error="Name is required"}},{kind:"get",static:!0,key:"styles",value:function(){return[c.RF,c.nA,n.AH`ha-icon-picker,ha-textarea,ha-textfield{display:block}ha-icon-picker{margin-top:16px}ha-alert{display:block;margin-bottom:16px}`]}}]}}),n.WF);o()}catch(e){o(e)}}))}};
//# sourceMappingURL=74247.b-ph8xJvcVQ.js.map