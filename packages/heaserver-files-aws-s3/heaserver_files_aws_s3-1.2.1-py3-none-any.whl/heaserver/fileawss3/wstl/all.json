{
    "wstl": {
        "title": "AWS S3 Bucket Files",
        "actions": [
            {
                "name": "heaserver-awss3files-file-get-open-choices",
                "description": "Open this file",
                "type": "safe",
                "action": "read",
                "target": "item read cj",
                "prompt": "Open"
            },
            {
                "name": "heaserver-awss3files-file-open-default",
                "description": "Open this file",
                "type": "safe",
                "action": "read",
                "target": "item read cj",
                "prompt": "Open"
            },
            {
                "name": "heaserver-awss3files-file-get-trash",
                "description": "View this volume's trash",
                "type": "safe",
                "action": "read",
                "target": "item read cj",
                "prompt": "Trash"
            },
            {
                "name": "heaserver-awss3files-file-open-url",
                "description": "Open this file link",
                "type": "safe",
                "action": "read",
                "target": "item read cj",
                "prompt": "Open"
            },
            {
                "name": "heaserver-awss3files-file-make-current-version",
                "description": "Make current version",
                "type": "unsafe",
                "action": "update",
                "target": "item read cj",
                "prompt": "Make current version"
            },
            {
                "name": "heaserver-awss3files-file-get-presigned-url",
                "description": "Generate a secure link for accessing the object",
                "type": "unsafe",
                "action": "update",
                "target": "item read cj",
                "prompt": "Secure link"
            },
            {
                "name": "heaserver-awss3files-file-get-presigned-url-form",
                "description": "Generate a secure link for accessing the object",
                "type": "safe",
                "action": "read",
                "target": "item cj-template",
                "prompt": "Secure link",
                "inputs": [
                    {
                        "name": "link_expiration",
                        "prompt": "Link expiration",
                        "required": true,
                        "type": "select",
                        "suggest": [
                            {"value": "86400", "text": "1 day"},
                            {"value": "259200", "text": "3 days"},
                            {"value": "604800", "text": "1 week"}
                        ],
                        "value": "86400"
                    }
                ]
            },
            {
                "name": "heaserver-awss3files-file-get-properties",
                "description": "View and edit this file's properties",
                "type": "unsafe",
                "target": "item cj-template",
                "action": "update",
                "prompt": "Properties",
                "inputs": [
                    {
                        "name": "bucket_id",
                        "prompt": "Bucket name",
                        "readOnly": true,
                        "required": true,
                        "hea": {
                            "display": false
                        }
                    },
                    {
                        "name": "key",
                        "prompt": "Key",
                        "readOnly": true,
                        "required": true,
                        "hea": {
                            "display": false
                        }
                    },
                    {
                        "name": "display_name",
                        "prompt": "Name",
                        "required": true
                    },
                    {
                        "name": "type_display_name",
                        "prompt": "Type",
                        "readOnly": true,
                        "required": true
                    },
                    {
                        "name": "type",
                        "readOnly": true,
                        "required": true,
                        "value": "heaobject.bucket.AWSBucket",
                        "hea": {
                            "display": false
                        }
                    },
                    {
                        "name": "size",
                        "prompt": "Size in bytes",
                        "readOnly": true,
                        "hea": {
                            "display": false
                        }
                    },
                    {
                        "name": "human_readable_size",
                        "prompt": "Size",
                        "readOnly": true
                    },
                    {
                        "name": "storage_class",
                        "prompt": "Storage class",
                        "readOnly": true,
                        "required": true,
                        "type": "select",
                        "suggest": [
                            {"value": "STANDARD", "text": "Standard"},
                            {"value": "DEEP_ARCHIVE", "text": "Glacier Deep Archive"},
                            {"value": "GLACIER", "text": "Glacier Flexible Retrieval"},
                            {"value": "GLACIER_IR", "text": "Glacier Instant Retrieval"},
                            {"value": "REDUCED_REDUNDANCY", "text": "S3 Reduced Redundancy"},
                            {"value": "ONEZONE_IA", "text": "S3 One Zone-IA"},
                            {"value": "STANDARD_IA", "text": "S3 Standard-IA"},
                            {"value": "INTELLIGENT_TIERING", "text": "S3 Intelligent Tiering"}
                        ]
                    },
                    {
                        "name": "s3_uri",
                        "prompt": "S3 URI",
                        "readOnly": true
                    },
                    {
                        "name": "mime_type",
                        "prompt": "MIME Type",
                        "readOnly": true,
                        "hea": {
                            "display": false
                        }
                    },
                    {
                        "hea": {
                            "section": "tags",
                            "sectionPrompt": "Tags"
                        },
                        "name": "key",
                        "required": true
                    },
                    {
                        "hea": {
                            "section": "tags"
                        },
                        "name": "value",
                        "required": true
                    },
                    {
                        "hea": {
                            "section": "tags",
                            "display": false
                        },
                        "name": "type",
                        "required": true,
                        "readOnly": true,
                        "value": "heaobject.root.Tag"
                    },
                    {
                        "name": "owner",
                        "prompt": "Owner",
                        "required": true,
                        "readOnly": true,
                        "type": "select",
                        "hea": {
                            "optionsFromUrl": {
                                "path": "people/",
                                "value": "id",
                                "text": "display_name"
                            }
                        }
                    },
                    {
                        "name": "created",
                        "prompt": "Created",
                        "readOnly": true,
                        "hea": {
                            "type": "datetime",
                            "display": false
                        }
                    },
                    {
                        "name": "modified",
                        "prompt": "Modified",
                        "readOnly": true,
                        "hea": {
                            "type": "datetime"
                        }
                    },
                    {
                        "name": "source",
                        "prompt": "Source",
                        "readOnly": true
                    },
                    {
                        "name": "source_detail",
                        "prompt": "Source detail",
                        "readOnly": true
                    }
                ]
            },
            {
                "name": "heaserver-awss3files-file-get-self",
                "description": "View this file",
                "type": "safe",
                "action": "read",
                "target": "item read cj",
                "prompt": "View"
            },
            {
                "name": "heaserver-awss3files-file-get-volume",
                "description": "View this file's volume",
                "type": "safe",
                "action": "read",
                "target": "item read cj",
                "prompt": "View volume"
            },
            {
                "name": "heaserver-awss3files-file-get-awsaccount",
                "description": "View this file's AWS account",
                "type": "safe",
                "action": "read",
                "target": "item read cj",
                "prompt": "View account"
            },
            {
                "name": "heaserver-awss3files-file-duplicate",
                "description": "Duplicate this file",
                "type": "unsafe",
                "action": "append",
                "target": "item read cj",
                "prompt": "Duplicate"
            },
            {
                "name": "heaserver-awss3files-file-move",
                "description": "Move this file",
                "type": "unsafe",
                "action": "append",
                "target": "item read cj",
                "prompt": "Move"
            },
            {
                "name": "heaserver-awss3files-file-get-versions",
                "description": "Get this file's versions",
                "type": "safe",
                "action": "read",
                "target": "item read cj",
                "prompt": "Versions"
            },
            {
                "name": "heaserver-awss3files-file-unarchive",
                "description": "Unarchive this file",
                "type": "unsafe",
                "action": "append",
                "target": "item read cj",
                "prompt": "Unarchive"
            },
            {
                "name": "heaserver-awss3files-file-archive",
                "description": "Archive this file",
                "type": "unsafe",
                "action": "append",
                "target": "item read cj",
                "prompt": "Archive"
            },
            {
                "name": "heaserver-awss3files-file-duplicate-form",
                "description": "Duplicate this file",
                "type": "unsafe",
                "action": "update",
                "target": "item cj-template",
                "prompt": "Duplicate",
                "inputs": [
                    {
                        "name": "target",
                        "prompt": "Target",
                        "required": true,
                        "hea": {
                            "type": "object-url",
                            "objectUrlTargetTypesInclude": ["heaobject.bucket.AWSBucket", "heaobject.folder.AWSS3Folder", "heaobject.project.AWSS3Project"]
                        }
                    }
                ]
            },
            {
                "name": "heaserver-awss3files-file-get-target",
                "description": "The target folder for the file",
                "type": "safe",
                "action": "read",
                "target": "item read cj",
                "prompt": "Get target folder"
            },
            {
                "name": "heaserver-awss3files-file-move-form",
                "description": "Move this file",
                "type": "unsafe",
                "action": "update",
                "target": "item cj-template",
                "prompt": "Move",
                "inputs": [
                    {
                        "name": "target",
                        "prompt": "Target",
                        "required": true,
                        "hea": {
                            "type": "object-url",
                            "objectUrlTargetTypesInclude": ["heaobject.bucket.AWSBucket", "heaobject.folder.AWSS3Folder", "heaobject.project.AWSS3Project"]
                        }
                    }
                ]
            },
            {
                "name": "heaserver-awss3files-file-archive-form",
                "description": "Archive this file",
                "type": "unsafe",
                "action": "update",
                "target": "item add cj-template",
                "prompt": "Archive",
                "inputs": [
                    {
                        "name": "storage_class",
                        "prompt": "Storage",
                        "type": "select",
                        "required": true,
                        "suggest": [
                            {"value": "DEEP_ARCHIVE", "text": "Glacier Deep Archive"},
                            {"value": "GLACIER", "text": "Glacier Flexible Retrieval"},
                            {"value": "GLACIER_IR", "text": "Glacier Instant Retrieval"}
                        ],
                        "value": "DEEP_ARCHIVE"
                    }
                ]
            },
            {
                "name": "heaserver-awss3files-file-unarchive-form",
                "description": "Unarchive this file",
                "type": "unsafe",
                "action": "update",
                "target": "item add cj-template",
                "prompt": "Unarchive",
                "inputs": [
                    {
                        "name": "restore_tier",
                        "prompt": "Restore tier",
                        "type": "select",
                        "required": true,
                        "suggest": [
                            {"value": "Standard", "text": "Standard"},
                            {"value": "Bulk", "text": "Bulk"},
                            {"value": "Expedited", "text": "Expedited"}
                        ],
                        "value": "Standard"
                    },
                    {
                        "name": "days",
                        "prompt": "Restore duration",
                        "type": "select",
                        "required": true,
                        "suggest": [
                            {"value": "1", "text": "1 day"},
                            {"value": "3", "text": "3 days"},
                            {"value": "7", "text": "1 week"}
                        ],
                        "value":  "3"
                    }
                ]
            },
            {
                "name": "heaserver-awss3files-file-version-get-self",
                "description": "View this file",
                "type": "safe",
                "action": "read",
                "target": "item read cj",
                "prompt": "View"
            }
        ]
    }
}
