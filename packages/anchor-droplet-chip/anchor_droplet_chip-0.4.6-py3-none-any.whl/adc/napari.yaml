name: anchor_droplet_chip
contributions:
  commands:

    - id: anchor_droplet_chip.get_reader
      title: Read dataset
      python_name: adc._reader:napari_get_reader

    - id: anchor_droplet_chip.get_yeast_reader
      title: Read yeast dataset
      python_name: adc._reader:get_yeast_reader

    - id: anchor_droplet_chip.segment
      title: Segment yeast using cellpose
      python_name: adc._segment_widget:SegmentYeast

    - id: anchor_droplet_chip.make_centers
      python_name: adc._sample_data:make_centers
      title: Show centers

    - id: anchor_droplet_chip.make_template
      python_name: adc._sample_data:make_template
      title: Show template

    - id: anchor_droplet_chip.DetectWells
      python_name: adc._align_widget:DetectWells
      title: Detect wells

    - id: anchor_droplet_chip.CombineStack
      python_name: adc._combine_widget:CombineStack
      title: Combine Stack

    - id: anchor_droplet_chip.CountCells
      python_name: adc._count_widget:CountCells
      title: Count Cells

    - id: anchor_droplet_chip.MakeProjection
      python_name: adc._projection_stack:ProjectAlong
      title: Make projection along selected axis

    - id: anchor_droplet_chip.ManualRois
      python_name: adc._manual_rois:make_matrix
      title: Populate ROIs

    - id: anchor_droplet_chip.CropRois
      python_name: adc._manual_rois:crop_rois
      title: Crop ROIs
    - id: anchor_droplet_chip.SubStack
      python_name: adc._sub_stack:SubStack
      title: Make a sub stack
    - id: anchor_droplet_chip.SplitAlong
      python_name: adc._split_stack:SplitAlong
      title: Split the stack along one dimension

  widgets:
    - command: anchor_droplet_chip.segment
      display_name: Segment cells using cellpose
    - command: anchor_droplet_chip.DetectWells
      display_name: Detect wells
    - command: anchor_droplet_chip.CombineStack
      display_name: Combine stack
    - command: anchor_droplet_chip.CountCells
      display_name: Count Cells
    - command: anchor_droplet_chip.CropRois
      display_name: Crop ROIs
    - command: anchor_droplet_chip.ManualRois
      display_name: Populate ROIs along the line
    - command: anchor_droplet_chip.SubStack
      display_name: Make a sub stack
    - command: anchor_droplet_chip.SplitAlong
      display_name: Split the stack along one dimension
    - command: anchor_droplet_chip.MakeProjection
      display_name: Make projection along one dimension

  readers:
    - command: anchor_droplet_chip.get_reader
      accepts_directories: True
      filename_patterns: ['*.npy', '*.nd2', '*.zarr', "*.tif", "*.tiff", "*.csv"]

    - command: anchor_droplet_chip.get_yeast_reader
      accepts_directories: False
      filename_patterns: ["*P=*.tif", "*.h5"]

  sample_data:
    - command: anchor_droplet_chip.make_template
      display_name: Show template
      key: template
    - command: anchor_droplet_chip.make_centers
      display_name: Show centers
      key: centers
