"use strict";(self.webpackChunkhacs_frontend=self.webpackChunkhacs_frontend||[]).push([[3122],{32872:function(e,n,t){t.d(n,{x:function(){return r}});t(53501),t(34517);var r=function(e,n){return e&&e.config.components.includes(n)}},14656:function(e,n,t){t.d(n,{v:function(){return a}});var r=t(22481),a=(t(53501),t(650),t(34517),function(e,n,t,a){var i=e.split(".",3),o=(0,r.A)(i,3),s=o[0],u=o[1],d=o[2];return Number(s)>n||Number(s)===n&&(void 0===a?Number(u)>=t:Number(u)>t)||void 0!==a&&Number(s)===n&&Number(u)===t&&Number(d)>=a})},98577:function(e,n,t){var r=t(1781).A,a=t(94881).A;t.a(e,function(){var e=r(a().mark((function e(n,r){var i,o,s,u,d,c,l,h,f,v,k,p,b,y,m,A,x,g,_,w,M,Z,q,B,N,I,O,C;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=t(94881),o=t(1781),s=t(36683),u=t(89231),d=t(29864),c=t(83647),l=t(8364),h=t(6238),f=t(77052),t.n(f),v=t(69466),t.n(v),k=t(14460),t.n(k),p=t(848),t.n(p),b=t(68113),t.n(b),y=t(66274),t.n(y),m=t(85038),t.n(m),A=t(5546),x=t(196),g=t(32872),_=t(33167),w=t(66412),M=t(80407),t(91074),Z=t(66442),t(9484),!(q=n([Z])).then){e.next=40;break}return e.next=36,q;case 36:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=41;break;case 40:e.t0=q;case 41:Z=e.t0[0],C=function(e){return(0,A.qy)(B||(B=(0,h.A)(['<ha-list-item twoline graphic="icon"> <span>','</span> <span slot="secondary">',"</span> "," </ha-list-item>"])),e.name,e.slug,e.icon?(0,A.qy)(N||(N=(0,h.A)(['<img alt="" slot="graphic" .src="/api/hassio/addons/','/icon">'])),e.slug):"")},(0,l.A)([(0,x.EM)("ha-addon-picker")],(function(e,n){var t,r=function(n){function t(){var n;(0,u.A)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=(0,d.A)(this,t,[].concat(a)),e(n),n}return(0,c.A)(t,n),(0,s.A)(t)}(n);return{F:r,d:[{kind:"field",key:"hass",value:void 0},{kind:"field",decorators:[(0,x.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,x.MZ)()],key:"value",value:function(){return""}},{kind:"field",decorators:[(0,x.MZ)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,x.wk)()],key:"_addons",value:void 0},{kind:"field",decorators:[(0,x.MZ)({type:Boolean})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,x.MZ)({type:Boolean})],key:"required",value:function(){return!1}},{kind:"field",decorators:[(0,x.P)("ha-combo-box")],key:"_comboBox",value:void 0},{kind:"field",decorators:[(0,x.wk)()],key:"_error",value:void 0},{kind:"method",key:"open",value:function(){var e;null===(e=this._comboBox)||void 0===e||e.open()}},{kind:"method",key:"focus",value:function(){var e;null===(e=this._comboBox)||void 0===e||e.focus()}},{kind:"method",key:"firstUpdated",value:function(){this._getAddons()}},{kind:"method",key:"render",value:function(){return this._error?(0,A.qy)(I||(I=(0,h.A)(['<ha-alert alert-type="error">',"</ha-alert>"])),this._error):this._addons?(0,A.qy)(O||(O=(0,h.A)([' <ha-combo-box .hass="','" .label="','" .value="','" .required="','" .disabled="','" .helper="','" .renderer="','" .items="','" item-value-path="slug" item-id-path="slug" item-label-path="name" @value-changed="','"></ha-combo-box> '])),this.hass,void 0===this.label&&this.hass?this.hass.localize("ui.components.addon-picker.addon"):this.label,this._value,this.required,this.disabled,this.helper,C,this._addons,this._addonChanged):A.s6}},{kind:"method",key:"_getAddons",value:(t=(0,o.A)((0,i.A)().mark((function e(){var n,t=this;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(0,g.x)(this.hass,"hassio")){e.next=8;break}return e.next=4,(0,M.b3)(this.hass);case 4:n=e.sent,this._addons=n.addons.filter((function(e){return e.version})).sort((function(e,n){return(0,w.x)(e.name,n.name,t.hass.locale.language)})),e.next=9;break;case 8:this._error=this.hass.localize("ui.components.addon-picker.error.no_supervisor");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),this._error=this.hass.localize("ui.components.addon-picker.error.fetch_addons");case 14:case"end":return e.stop()}}),e,this,[[0,11]])}))),function(){return t.apply(this,arguments)})},{kind:"get",key:"_value",value:function(){return this.value||""}},{kind:"method",key:"_addonChanged",value:function(e){e.stopPropagation();var n=e.detail.value;n!==this._value&&this._setValue(n)}},{kind:"method",key:"_setValue",value:function(e){var n=this;this.value=e,setTimeout((function(){(0,_.r)(n,"value-changed",{value:e}),(0,_.r)(n,"change")}),0)}}]}}),A.WF),r(),e.next=50;break;case 47:e.prev=47,e.t2=e.catch(0),r(e.t2);case 50:case"end":return e.stop()}}),e,null,[[0,47]])})));return function(n,t){return e.apply(this,arguments)}}())},46208:function(e,n,t){var r=t(1781).A,a=t(94881).A;t.a(e,function(){var e=r(a().mark((function e(r,i){var o,s,u,d,c,l,h,f,v,k,p,b,y,m;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.r(n),t.d(n,{HaAddonSelector:function(){return m}}),o=t(6238),s=t(36683),u=t(89231),d=t(29864),c=t(83647),l=t(8364),h=t(77052),t.n(h),f=t(5546),v=t(196),k=t(98577),!(p=r([k])).then){e.next=22;break}return e.next=18,p;case 18:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=23;break;case 22:e.t0=p;case 23:k=e.t0[0],m=(0,l.A)([(0,v.EM)("ha-selector-addon")],(function(e,n){var t=function(n){function t(){var n;(0,u.A)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=(0,d.A)(this,t,[].concat(a)),e(n),n}return(0,c.A)(t,n),(0,s.A)(t)}(n);return{F:t,d:[{kind:"field",decorators:[(0,v.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,v.MZ)({attribute:!1})],key:"selector",value:void 0},{kind:"field",decorators:[(0,v.MZ)()],key:"value",value:void 0},{kind:"field",decorators:[(0,v.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,v.MZ)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,v.MZ)({type:Boolean})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,v.MZ)({type:Boolean})],key:"required",value:function(){return!0}},{kind:"method",key:"render",value:function(){return(0,f.qy)(b||(b=(0,o.A)(['<ha-addon-picker .hass="','" .value="','" .label="','" .helper="','" .disabled="','" .required="','" allow-custom-entity></ha-addon-picker>'])),this.hass,this.value,this.label,this.helper,this.disabled,this.required)}},{kind:"field",static:!0,key:"styles",value:function(){return(0,f.AH)(y||(y=(0,o.A)(["ha-addon-picker{width:100%}"])))}}]}}),f.WF),i(),e.next=31;break;case 28:e.prev=28,e.t2=e.catch(0),i(e.t2);case 31:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(n,t){return e.apply(this,arguments)}}())},80407:function(e,n,t){t.d(n,{b3:function(){return s}});var r=t(94881),a=t(1781),i=(t(27934),t(4187),t(68113),t(66274),t(85767),t(14656)),o=(t(67234),t(53501),t(21950),t(57733),t(34517),t(56262),t(15445),t(24483),t(13478),t(46355),t(14612),t(53691),t(48455),t(8339),function(e){return e.data}),s=(new Set([502,503,504]),function(){var e=(0,a.A)((0,r.A)().mark((function e(n){return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,i.v)(n.config.version,2021,2,4)){e.next=2;break}return e.abrupt("return",n.callWS({type:"supervisor/api",endpoint:"/addons",method:"get"}));case 2:return e.t0=o,e.next=5,n.callApi("GET","hassio/addons");case 5:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())},1617:function(e,n,t){var r=t(127),a=t(39787),i=t(94905),o=t(95124),s=t(78708),u=Math.min,d=[].lastIndexOf,c=!!d&&1/[1].lastIndexOf(1,-0)<0,l=s("lastIndexOf"),h=c||!l;e.exports=h?function(e){if(c)return r(d,this,arguments)||0;var n=a(this),t=o(n);if(0===t)return-1;var s=t-1;for(arguments.length>1&&(s=u(s,i(arguments[1]))),s<0&&(s=t+s);s>=0;s--)if(s in n&&n[s]===e)return s||0;return-1}:d},87759:function(e,n,t){var r=t(87568),a=t(1617);r({target:"Array",proto:!0,forced:a!==[].lastIndexOf},{lastIndexOf:a})}}]);
//# sourceMappingURL=3122.sTHpAWvIZ68.js.map