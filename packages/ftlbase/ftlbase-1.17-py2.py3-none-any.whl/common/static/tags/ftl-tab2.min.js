riot.tag2("ftl-tabs",'<div if="{!routes.length}" id="pesquisa-satisfacao" style="display: flex; justify-content: center; align-items: center;"><div style="display: flex; flex-direction: column; width: 50%; justify-content: center; align-items: center;"><h2 style="text-align: center;">Dê sua opinião sobre os nossos serviços e colabore com a melhoria de nossos processos.</h2><h4 style="text-align: center;">Participe da nossa Pesquisa de Satisfação clicando abaixo</h4><a style="padding: 8px; background-color: #b20000; color: white; border-radius: 8px;" target="_blank" href="https://forms.office.com/pages/responsepage.aspx?id=M-o7KWnmzEan1B2gh9KBwFq8pgr8eKtEjKmeLg-R5vJUOTkxMjNZMjdPRFNBNk4yRTFKU0tJVU1XUi4u">Pesquisa de Satisfação</a></div></div> <ul if="{routes.length}" class="nav nav-tabs" role="tablist"> <li each="{route, index in routes}" role="presentation" class="{active: route.active}"> <a href="#{route.ref}" id="#{route.ref}-href" role="tab" onclick="{clickChange}" data-toggle="tab" aria-controls="{route.nome}" style="padding-top: 3px; padding-bottom: 3px;"> {route.nome} &nbsp;</a> <span ref="#{route.ref}-close" onclick="{clickClose}" title="Remove essa página"><i class="fa fa-times"></i></span> </li> </ul> <div if="{small.length != 0}" class="container-fluid"><h4 if="{small}" class="{color}" align="center">{small}</h4></div> <div class="tab-content panel-body"> <div each="{route, index in routes}" role="tabpanel" ref="{route.ref}" id="{route.ref}" class="tab-pane {active: route.active}"></div> </div>','ftl-tabs,[data-is="ftl-tabs"]{ display: block } ftl-tabs .nav-tabs > li > span,[data-is="ftl-tabs"] .nav-tabs > li > span{ display: none; cursor: pointer; position: absolute; right: 6px; top: 1px; color: #d73925; } ftl-tabs .nav-tabs > li:hover > span,[data-is="ftl-tabs"] .nav-tabs > li:hover > span{ display: inline-block; opacity: 0.8; } ftl-tabs .container,[data-is="ftl-tabs"] .container{ padding-bottom: 0px; } ftl-tabs .container > h4,[data-is="ftl-tabs"] .container > h4{ margin-bottom: 0px; padding-bottom: 0px; }',"",(function(e){var t=this;t.debug=!1,t.prefix="ftl-tab",t.routes=[],t.current_url="",t.small="",t.color="",t.on("updated",()=>{t.debug&&console.log("ftl-tabs: updated"),t.routes.forEach((function(e,o){e.loaded||(t.debug&&console.log("ftl-tabs: updated: ftl-include"),riot.mount(t.refs[e.ref],"ftl-include",{include:{url:t.current_url,safe:!0}})[0].on("loaded",(function(){t.loaded_ftlinclude(e,this)})),e.loaded=!0)})),t.debug&&console.log("ftl-tabs: updated: end")}),t.on("updateRoute",(e,o,l,a,i)=>{t.debug&&console.log("ftl-tabs: updateRoute",e,o,l,a),t.small=o+" - "+a,l.endsWith("/add/")?t.color="text-primary":"2"==l.split("/")[4]?t.color="text-warning":"3"==l.split("/")[4]?t.color="text-danger":t.small=a,t.routes.forEach((function(t){t.active=t.key===e}));var s=t.routes.filter((function(e){return e.active}));0===s.length?t.routes.push({key:e,nome:o,active:!0,loaded:!1,ref:t.prefix+"-"+e,url:l,small:a,reload:i}):s.forEach((function(e){(e.url!==l||e.reload)&&(e.url=l,e.loaded=!1)})),t.current_url=l,t.update(),t.debug&&console.log("ftl-tabs: updateRoute: end")}),t.on("closeTab",(e,o)=>{t.debug&&console.log("ftl-tabs: closeTab:",e),t.routes.forEach((function(o,l){o.nome===e&&(t.debug&&console.log("ftl-tabs: closeTab: close"),t.refs["#"+o.ref+"-close"].click())})),null!=o&&(window.location.href=o),t.debug&&console.log("ftl-tabs: closeTab: end")}),this.clickClose=function(e){if(t.debug&&console.log("ftl-tabs: clickClose",e),t.routes.splice(e.item.index,1),e.item.route.active&&t.routes.length>0){var o=e.item.index-1;o<0&&(o=0),t.routes[o].active=!0}var l=t.routes.filter((function(e){return e.active}));l.length>0?l.forEach((function(e){e.active&&(t.debug&&console.log("ftl-tabs: clickClose: route:",e.url),route("/"+e.url))})):route("/"),t.debug&&console.log("ftl-tabs: clickClose: end")}.bind(this),this.clickChange=function(e){t.debug&&console.log("ftl-tabs: clickChange",e),e.preventUpdate=!0,t.routes[e.item.index]===e.item.route&&(t.routes.forEach((function(e){e.active=!1})),e.item.route.active=!0,t.debug&&console.log("ftl-tabs: clickChange: route:",e.item.route.url),route("/"+e.item.route.url)),t.debug&&console.log("ftl-tabs: clickChange: end")}.bind(this),this.loaded_ftlinclude=function(e,o){t.debug&&console.log("ftl-tabs: loaded_ftlinclude",e,o),configuraPagina();var l=$("#"+e.ref);t.debug&&console.log("ftl-tabs: loaded_ftlinclude 2",l),t.debug&&console.log("ftl-tabs: loaded_ftlinclude 3",l.find('[data-toggle="tab"]')),l.find('[data-toggle="tab"]').each((function(){this.href=this.href.replace("#","#"+e.key)})),t.debug&&console.log("ftl-tabs: loaded_ftlinclude 4",l.find("div > .tab-pane")),l.find("div > .tab-pane").each((function(){this.id=e.key+this.id}))}.bind(this)}));