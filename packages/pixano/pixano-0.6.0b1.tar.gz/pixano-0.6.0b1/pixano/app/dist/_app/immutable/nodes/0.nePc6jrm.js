import{s as K,l as j,m as R,o as Z,u as J,p as Q,q as X,e as S,a as L,c as E,b as C,K as ce,g as T,f as h,C as v,i as A,h as N,n as ee,t as te,r as Ie,d as ne,w as ke,I as pe,j as fe,v as ue,y as Be,a7 as He,k as je,B as ze}from"../chunks/scheduler.CapFD37H.js";import{S as O,i as q,c as M,a as P,m as V,t as $,b as I,d as y,g as W,e as Y}from"../chunks/index.B4CClvyu.js";import{p as Pe}from"../chunks/stores.G6qXPwzL.js";import{P as Ue,g as Re,a as Fe,b as Ke}from"../chunks/PrimaryButton.BysDO9r5.js";import"../chunks/command.DinMN6UD.js";import{a as Oe,L as qe}from"../chunks/loader-2.C60Rco2C.js";import{g as se,a as ae,d as Ve,D as Ge,e as De,s as de,i as We,c as ie,b as ye,f as Ye,m as Ze}from"../chunks/datasetStores.Ir8xtgXe.js";import{g as me}from"../chunks/entry.D_R_cS-S.js";import{p as Je}from"../chunks/pixano.B9u33kEZ.js";import{T as _e,C as Qe}from"../chunks/TooltipIconButton.BnN2K4un.js";import{I as re}from"../chunks/Icon.CCJRi0-a.js";const Xe=!1,xe=!1,xt=Object.freeze(Object.defineProperty({__proto__:null,prerender:Xe,ssr:xe},Symbol.toStringTag,{value:"Module"}));function et(l){let e;const s=l[2].default,t=Z(s,l,l[3],null);return{c(){t&&t.c()},l(a){t&&t.l(a)},m(a,n){t&&t.m(a,n),e=!0},p(a,n){t&&t.p&&(!e||n&8)&&J(t,s,a,a[3],e?X(s,a[3],n,null):Q(a[3]),null)},i(a){e||($(t,a),e=!0)},o(a){I(t,a),e=!1},d(a){t&&t.d(a)}}}function tt(l){let e,s;const t=[{name:"arrow-left-circle"},l[1],{iconNode:l[0]}];let a={$$slots:{default:[et]},$$scope:{ctx:l}};for(let n=0;n<t.length;n+=1)a=j(a,t[n]);return e=new re({props:a}),{c(){M(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,r){V(e,n,r),s=!0},p(n,[r]){const c=r&3?se(t,[t[0],r&2&&ae(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(c.$$scope={dirty:r,ctx:n}),e.$set(c)},i(n){s||($(e.$$.fragment,n),s=!0)},o(n){I(e.$$.fragment,n),s=!1},d(n){y(e,n)}}}function nt(l,e,s){let{$$slots:t={},$$scope:a}=e;const n=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M16 12H8"}],["path",{d:"m12 8-4 4 4 4"}]];return l.$$set=r=>{s(1,e=j(j({},e),R(r))),"$$scope"in r&&s(3,a=r.$$scope)},e=R(e),[n,e,t,a]}class st extends O{constructor(e){super(),q(this,e,nt,tt,K,{})}}function at(l){let e;const s=l[2].default,t=Z(s,l,l[3],null);return{c(){t&&t.c()},l(a){t&&t.l(a)},m(a,n){t&&t.m(a,n),e=!0},p(a,n){t&&t.p&&(!e||n&8)&&J(t,s,a,a[3],e?X(s,a[3],n,null):Q(a[3]),null)},i(a){e||($(t,a),e=!0)},o(a){I(t,a),e=!1},d(a){t&&t.d(a)}}}function rt(l){let e,s;const t=[{name:"arrow-left"},l[1],{iconNode:l[0]}];let a={$$slots:{default:[at]},$$scope:{ctx:l}};for(let n=0;n<t.length;n+=1)a=j(a,t[n]);return e=new re({props:a}),{c(){M(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,r){V(e,n,r),s=!0},p(n,[r]){const c=r&3?se(t,[t[0],r&2&&ae(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(c.$$scope={dirty:r,ctx:n}),e.$set(c)},i(n){s||($(e.$$.fragment,n),s=!0)},o(n){I(e.$$.fragment,n),s=!1},d(n){y(e,n)}}}function lt(l,e,s){let{$$slots:t={},$$scope:a}=e;const n=[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]];return l.$$set=r=>{s(1,e=j(j({},e),R(r))),"$$scope"in r&&s(3,a=r.$$scope)},e=R(e),[n,e,t,a]}class ot extends O{constructor(e){super(),q(this,e,lt,rt,K,{})}}function it(l){let e;const s=l[2].default,t=Z(s,l,l[3],null);return{c(){t&&t.c()},l(a){t&&t.l(a)},m(a,n){t&&t.m(a,n),e=!0},p(a,n){t&&t.p&&(!e||n&8)&&J(t,s,a,a[3],e?X(s,a[3],n,null):Q(a[3]),null)},i(a){e||($(t,a),e=!0)},o(a){I(t,a),e=!1},d(a){t&&t.d(a)}}}function ct(l){let e,s;const t=[{name:"arrow-right"},l[1],{iconNode:l[0]}];let a={$$slots:{default:[it]},$$scope:{ctx:l}};for(let n=0;n<t.length;n+=1)a=j(a,t[n]);return e=new re({props:a}),{c(){M(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,r){V(e,n,r),s=!0},p(n,[r]){const c=r&3?se(t,[t[0],r&2&&ae(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(c.$$scope={dirty:r,ctx:n}),e.$set(c)},i(n){s||($(e.$$.fragment,n),s=!0)},o(n){I(e.$$.fragment,n),s=!1},d(n){y(e,n)}}}function ft(l,e,s){let{$$slots:t={},$$scope:a}=e;const n=[["path",{d:"M5 12h14"}],["path",{d:"m12 5 7 7-7 7"}]];return l.$$set=r=>{s(1,e=j(j({},e),R(r))),"$$scope"in r&&s(3,a=r.$$scope)},e=R(e),[n,e,t,a]}class ut extends O{constructor(e){super(),q(this,e,ft,ct,K,{})}}function dt(l){let e;const s=l[2].default,t=Z(s,l,l[3],null);return{c(){t&&t.c()},l(a){t&&t.l(a)},m(a,n){t&&t.m(a,n),e=!0},p(a,n){t&&t.p&&(!e||n&8)&&J(t,s,a,a[3],e?X(s,a[3],n,null):Q(a[3]),null)},i(a){e||($(t,a),e=!0)},o(a){I(t,a),e=!1},d(a){t&&t.d(a)}}}function mt(l){let e,s;const t=[{name:"database"},l[1],{iconNode:l[0]}];let a={$$slots:{default:[dt]},$$scope:{ctx:l}};for(let n=0;n<t.length;n+=1)a=j(a,t[n]);return e=new re({props:a}),{c(){M(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,r){V(e,n,r),s=!0},p(n,[r]){const c=r&3?se(t,[t[0],r&2&&ae(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(c.$$scope={dirty:r,ctx:n}),e.$set(c)},i(n){s||($(e.$$.fragment,n),s=!0)},o(n){I(e.$$.fragment,n),s=!1},d(n){y(e,n)}}}function _t(l,e,s){let{$$slots:t={},$$scope:a}=e;const n=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5"}],["path",{d:"M3 12A9 3 0 0 0 21 12"}]];return l.$$set=r=>{s(1,e=j(j({},e),R(r))),"$$scope"in r&&s(3,a=r.$$scope)},e=R(e),[n,e,t,a]}class pt extends O{constructor(e){super(),q(this,e,_t,mt,K,{})}}const ht=pt;function $t(l){let e;const s=l[2].default,t=Z(s,l,l[3],null);return{c(){t&&t.c()},l(a){t&&t.l(a)},m(a,n){t&&t.m(a,n),e=!0},p(a,n){t&&t.p&&(!e||n&8)&&J(t,s,a,a[3],e?X(s,a[3],n,null):Q(a[3]),null)},i(a){e||($(t,a),e=!0)},o(a){I(t,a),e=!1},d(a){t&&t.d(a)}}}function gt(l){let e,s;const t=[{name:"home"},l[1],{iconNode:l[0]}];let a={$$slots:{default:[$t]},$$scope:{ctx:l}};for(let n=0;n<t.length;n+=1)a=j(a,t[n]);return e=new re({props:a}),{c(){M(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,r){V(e,n,r),s=!0},p(n,[r]){const c=r&3?se(t,[t[0],r&2&&ae(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(c.$$scope={dirty:r,ctx:n}),e.$set(c)},i(n){s||($(e.$$.fragment,n),s=!0)},o(n){I(e.$$.fragment,n),s=!1},d(n){y(e,n)}}}function vt(l,e,s){let{$$slots:t={},$$scope:a}=e;const n=[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}],["polyline",{points:"9 22 9 12 15 12 15 22"}]];return l.$$set=r=>{s(1,e=j(j({},e),R(r))),"$$scope"in r&&s(3,a=r.$$scope)},e=R(e),[n,e,t,a]}class bt extends O{constructor(e){super(),q(this,e,vt,gt,K,{})}}const wt=bt,It=""+new URL("../assets/pixano_white.BVKPSmmP.png",import.meta.url).href;function Ne(l){var $e;let e,s,t=(($e=l[0])==null?void 0:$e.length)+"",a,n,r,c="datasets",o,f,k,d=l[0].reduce(Se,0)+"",w,D,i,_="items",m,u,b,g,B,F,p,z,G,he;return{c(){e=S("div"),s=S("span"),a=te(t),n=L(),r=S("span"),r.textContent=c,o=L(),f=S("div"),k=S("span"),w=te(d),D=L(),i=S("span"),i.textContent=_,m=L(),u=S("div"),b=S("div"),g=S("div"),B=S("input"),F=L(),p=Ie("svg"),z=Ie("path"),this.h()},l(H){e=E(H,"DIV",{class:!0});var U=C(e);s=E(U,"SPAN",{class:!0});var x=C(s);a=ne(x,t),x.forEach(h),n=T(U),r=E(U,"SPAN",{class:!0,"data-svelte-h":!0}),ce(r)!=="svelte-1royfdz"&&(r.textContent=c),U.forEach(h),o=T(H),f=E(H,"DIV",{class:!0});var le=C(f);k=E(le,"SPAN",{class:!0});var ge=C(k);w=ne(ge,d),ge.forEach(h),D=T(le),i=E(le,"SPAN",{class:!0,"data-svelte-h":!0}),ce(i)!=="svelte-3uc568"&&(i.textContent=_),le.forEach(h),m=T(H),u=E(H,"DIV",{class:!0});var ve=C(u);b=E(ve,"DIV",{class:!0});var be=C(b);g=E(be,"DIV",{class:!0});var oe=C(g);B=E(oe,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),F=T(oe),p=ke(oe,"svg",{xmlns:!0,height:!0,viewBox:!0,width:!0,class:!0});var we=C(p);z=ke(we,"path",{d:!0,fill:!0}),C(z).forEach(h),we.forEach(h),oe.forEach(h),be.forEach(h),ve.forEach(h),this.h()},h(){v(s,"class","mr-2 text-4xl font-medium"),v(r,"class","text-xl font-medium"),v(e,"class","my-4 mr-8 p-4 pr-8 border rounded-lg border-primary-foreground"),v(k,"class","mr-2 text-4xl font-medium"),v(i,"class","text-xl font-medium"),v(f,"class","my-4 mr-8 p-4 pr-8 border rounded-lg border-primary-foreground"),v(B,"id","search-input"),v(B,"type","text"),v(B,"placeholder","Search datasets"),v(B,"class","h-10 pl-10 pr-4 rounded border border-primary-foreground bg-primary-foreground text-white placeholder-white font-medium focus:outline-none"),v(z,"d",Oe),v(z,"fill","white"),v(p,"xmlns","http://www.w3.org/2000/svg"),v(p,"height","48"),v(p,"viewBox","0 -960 960 960"),v(p,"width","48"),v(p,"class","absolute left-3 h-5 w-5 pointer-events-none"),v(g,"class","h-20 relative flex items-center"),v(b,"class","flex items-center space-x-2"),v(u,"class","grow self-end flex flex-row justify-end items-end")},m(H,U){A(H,e,U),N(e,s),N(s,a),N(e,n),N(e,r),A(H,o,U),A(H,f,U),N(f,k),N(k,w),N(f,D),N(f,i),A(H,m,U),A(H,u,U),N(u,b),N(b,g),N(g,B),N(g,F),N(g,p),N(p,z),G||(he=pe(B,"input",l[1]),G=!0)},p(H,U){var x;U&1&&t!==(t=((x=H[0])==null?void 0:x.length)+"")&&fe(a,t),U&1&&d!==(d=H[0].reduce(Se,0)+"")&&fe(w,d)},d(H){H&&(h(e),h(o),h(f),h(m),h(u)),G=!1,he()}}}function kt(l){let e,s,t=`<img src="${It}" alt="Logo Pixano" class="w-7 h-7"/> <span class="text-2xl font-semibold text-slate-50 uppercase">Pixano</span>`,a,n,r=l[0]&&Ne(l);return{c(){e=S("header"),s=S("div"),s.innerHTML=t,a=L(),n=S("div"),r&&r.c(),this.h()},l(c){e=E(c,"HEADER",{class:!0});var o=C(e);s=E(o,"DIV",{class:!0,"data-svelte-h":!0}),ce(s)!=="svelte-4zxcmy"&&(s.innerHTML=t),a=T(o),n=E(o,"DIV",{class:!0});var f=C(n);r&&r.l(f),f.forEach(h),o.forEach(h),this.h()},h(){v(s,"class","flex gap-4 items-center"),v(n,"class","flex pt-4 h-36 w-full items-center flex-wrap text-slate-50"),v(e,"class","p-4 w-full h-fit pt-8 px-20 xl:px-60 flex flex-col justify-evenly bg-primary font-Montserrat z-10")},m(c,o){A(c,e,o),N(e,s),N(e,a),N(e,n),r&&r.m(n,null)},p(c,[o]){c[0]?r?r.p(c,o):(r=Ne(c),r.c(),r.m(n,null)):r&&(r.d(1),r=null)},i:ee,o:ee,d(c){c&&h(e),r&&r.d()}}}const Se=(l,e)=>l+e.num_elements;function Dt(l,e,s){let{datasets:t}=e;const a=n=>{const r=n.currentTarget;Ve.update((c=[])=>c.map(o=>({...o,isFiltered:!o.name.toLocaleLowerCase().includes(r.value.toLocaleLowerCase())})))};return l.$$set=n=>{"datasets"in n&&s(0,t=n.datasets)},[t,a]}class Nt extends O{constructor(e){super(),q(this,e,Dt,kt,K,{datasets:0})}}const St=(l,e,s)=>{const t=l.findIndex(a=>a===s);if(t!==-1){const a=e==="previous"?t-1:t+1;return a===-1?l[l.length-1]:a===l.length?l[0]:l[a]}},Et=(l,e)=>{const s=l.findIndex(t=>t===e);return Math.floor(s/Ge)+1},Ee=[{name:"Dashboard",Icon:wt},{name:"Dataset",Icon:ht}];function Ce(l,e,s){const t=l.slice();return t[19]=e[s].name,t[20]=e[s].Icon,t}function Le(l){let e,s,t,a=`<img src="${Je}" alt="Logo Pixano" class="w-8 h-8 mx-2"/>`,n,r,c,o=l[1].name+"",f,k,d,w;return r=new _e({props:{tooltipContent:l[2]?"Back to dataset":"Back to home",$$slots:{default:[Ct]},$$scope:{ctx:l}}}),r.$on("click",l[9]),{c(){e=S("div"),s=S("div"),t=S("button"),t.innerHTML=a,n=L(),M(r.$$.fragment),c=L(),f=te(o),this.h()},l(D){e=E(D,"DIV",{class:!0});var i=C(e);s=E(i,"DIV",{class:!0});var _=C(s);t=E(_,"BUTTON",{class:!0,"data-svelte-h":!0}),ce(t)!=="svelte-13o3zhj"&&(t.innerHTML=a),n=T(_),P(r.$$.fragment,_),c=T(_),f=ne(_,o),_.forEach(h),i.forEach(h),this.h()},h(){v(t,"class","h-10 w-10"),v(s,"class","flex gap-4 items-center font-light"),v(e,"class","h-10 flex items-center font-semibold text-2xl")},m(D,i){A(D,e,i),N(e,s),N(s,t),N(s,n),V(r,s,null),N(s,c),N(s,f),k=!0,d||(w=pe(t,"click",l[12]),d=!0)},p(D,i){const _={};i&4&&(_.tooltipContent=D[2]?"Back to dataset":"Back to home"),i&8388608&&(_.$$scope={dirty:i,ctx:D}),r.$set(_),(!k||i&2)&&o!==(o=D[1].name+"")&&fe(f,o)},i(D){k||($(r.$$.fragment,D),k=!0)},o(D){I(r.$$.fragment,D),k=!1},d(D){D&&h(e),y(r),d=!1,w()}}}function Ct(l){let e,s;return e=new st({}),{c(){M(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,a){V(e,t,a),s=!0},i(t){s||($(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){y(e,t)}}}function Te(l){let e,s,t,a;const n=[Tt,Lt],r=[];function c(o,f){return o[3]?0:1}return e=c(l),s=r[e]=n[e](l),{c(){s.c(),t=ue()},l(o){s.l(o),t=ue()},m(o,f){r[e].m(o,f),A(o,t,f),a=!0},p(o,f){let k=e;e=c(o),e===k?r[e].p(o,f):(W(),I(r[k],1,1,()=>{r[k]=null}),Y(),s=r[e],s?s.p(o,f):(s=r[e]=n[e](o),s.c()),$(s,1),s.m(t.parentNode,t))},i(o){a||($(s),a=!0)},o(o){I(s),a=!1},d(o){o&&h(t),r[e].d(o)}}}function Lt(l){let e,s,t,a,n,r,c;return s=new _e({props:{tooltipContent:"Previous item",$$slots:{default:[At]},$$scope:{ctx:l}}}),s.$on("click",l[13]),r=new _e({props:{tooltipContent:"Next item",$$slots:{default:[Mt]},$$scope:{ctx:l}}}),r.$on("click",l[14]),{c(){e=S("div"),M(s.$$.fragment),t=L(),a=te(l[2]),n=L(),M(r.$$.fragment),this.h()},l(o){e=E(o,"DIV",{class:!0});var f=C(e);P(s.$$.fragment,f),t=T(f),a=ne(f,l[2]),n=T(f),P(r.$$.fragment,f),f.forEach(h),this.h()},h(){v(e,"class","flex items-center gap-4")},m(o,f){A(o,e,f),V(s,e,null),N(e,t),N(e,a),N(e,n),V(r,e,null),c=!0},p(o,f){const k={};f&8388608&&(k.$$scope={dirty:f,ctx:o}),s.$set(k),(!c||f&4)&&fe(a,o[2]);const d={};f&8388608&&(d.$$scope={dirty:f,ctx:o}),r.$set(d)},i(o){c||($(s.$$.fragment,o),$(r.$$.fragment,o),c=!0)},o(o){I(s.$$.fragment,o),I(r.$$.fragment,o),c=!1},d(o){o&&h(e),y(s),y(r)}}}function Tt(l){let e,s;return e=new qe({props:{class:"animate-spin"}}),{c(){M(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,a){V(e,t,a),s=!0},p:ee,i(t){s||($(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){y(e,t)}}}function At(l){let e,s;return e=new ot({}),{c(){M(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,a){V(e,t,a),s=!0},i(t){s||($(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){y(e,t)}}}function Mt(l){let e,s;return e=new ut({}),{c(){M(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,a){V(e,t,a),s=!0},i(t){s||($(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){y(e,t)}}}function Pt(l){let e,s,t,a,n;return e=new l[20]({props:{strokeWidth:1}}),{c(){M(e.$$.fragment),s=L(),t=te(l[19]),a=L()},l(r){P(e.$$.fragment,r),s=T(r),t=ne(r,l[19]),a=T(r)},m(r,c){V(e,r,c),A(r,s,c),A(r,t,c),A(r,a,c),n=!0},p:ee,i(r){n||($(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){r&&(h(s),h(t),h(a)),y(e,r)}}}function Ae(l){var a;let e,s;function t(){return l[15](l[19])}return e=new Ue({props:{isSelected:(a=l[0])==null?void 0:a.includes(`/${l[19]}`.toLowerCase()),$$slots:{default:[Pt]},$$scope:{ctx:l}}}),e.$on("click",t),{c(){M(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,r){V(e,n,r),s=!0},p(n,r){var o;l=n;const c={};r&1&&(c.isSelected=(o=l[0])==null?void 0:o.includes(`/${l[19]}`.toLowerCase())),r&8388608&&(c.$$scope={dirty:r,ctx:l}),e.$set(c)},i(n){s||($(e.$$.fragment,n),s=!0)},o(n){I(e.$$.fragment,n),s=!1},d(n){y(e,n)}}}function Me(l){let e,s;return e=new Qe({props:{message:"You have unsaved changes",confirm:"Save and continue",alternativeAction:"Continue without saving"}}),e.$on("confirm",l[7]),e.$on("alternative",l[8]),e.$on("cancel",l[16]),{c(){M(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,a){V(e,t,a),s=!0},p:ee,i(t){s||($(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){y(e,t)}}}function Vt(l){let e,s,t,a,n,r,c,o,f,k,d=l[1]&&Le(l),w=l[2]&&Te(l),D=De(Ee),i=[];for(let u=0;u<D.length;u+=1)i[u]=Ae(Ce(l,D,u));const _=u=>I(i[u],1,1,()=>{i[u]=null});let m=l[4]!=="none"&&Me(l);return{c(){e=S("header"),s=S("div"),d&&d.c(),t=L(),w&&w.c(),a=L(),n=S("div");for(let u=0;u<i.length;u+=1)i[u].c();r=L(),m&&m.c(),c=ue(),this.h()},l(u){e=E(u,"HEADER",{class:!0});var b=C(e);s=E(b,"DIV",{class:!0});var g=C(s);d&&d.l(g),t=T(g),w&&w.l(g),a=T(g),n=E(g,"DIV",{class:!0});var B=C(n);for(let F=0;F<i.length;F+=1)i[F].l(B);B.forEach(h),g.forEach(h),b.forEach(h),r=T(u),m&&m.l(u),c=ue(),this.h()},h(){v(n,"class","flex gap-4"),v(s,"class","h-20 p-5 flex justify-between items-center shrink-0 bg-white border-b border-slate-200 shadow-sm text-slate-800"),v(e,"class","w-full fixed z-40 font-Montserrat")},m(u,b){A(u,e,b),N(e,s),d&&d.m(s,null),N(s,t),w&&w.m(s,null),N(s,a),N(s,n);for(let g=0;g<i.length;g+=1)i[g]&&i[g].m(n,null);A(u,r,b),m&&m.m(u,b),A(u,c,b),o=!0,f||(k=pe(window,"keyup",l[6]),f=!0)},p(u,[b]){if(u[1]?d?(d.p(u,b),b&2&&$(d,1)):(d=Le(u),d.c(),$(d,1),d.m(s,t)):d&&(W(),I(d,1,1,()=>{d=null}),Y()),u[2]?w?(w.p(u,b),b&4&&$(w,1)):(w=Te(u),w.c(),$(w,1),w.m(s,a)):w&&(W(),I(w,1,1,()=>{w=null}),Y()),b&1027){D=De(Ee);let g;for(g=0;g<D.length;g+=1){const B=Ce(u,D,g);i[g]?(i[g].p(B,b),$(i[g],1)):(i[g]=Ae(B),i[g].c(),$(i[g],1),i[g].m(n,null))}for(W(),g=D.length;g<i.length;g+=1)_(g);Y()}u[4]!=="none"?m?(m.p(u,b),b&16&&$(m,1)):(m=Me(u),m.c(),$(m,1),m.m(c.parentNode,c)):m&&(W(),I(m,1,1,()=>{m=null}),Y())},i(u){if(!o){$(d),$(w);for(let b=0;b<D.length;b+=1)$(i[b]);$(m),o=!0}},o(u){I(d),I(w),i=i.filter(Boolean);for(let b=0;b<i.length;b+=1)I(i[b]);I(m),o=!1},d(u){u&&(h(e),h(r),h(c)),d&&d.d(),w&&w.d(),Be(i,u),m&&m.d(u),f=!1,k()}}}function yt(l,e,s){let{pageId:t}=e,{datasetItemsIds:a}=e,n,r,c,o,f="none",k="none";de.subscribe(p=>o=p.canSave),We.subscribe(p=>{s(3,c=p)});const d=async p=>{const z=St(a,p,r);if(z){const G=`/${n.id}/dataset/${z}`;if(o)return k=z,s(4,f=G);s(2,r=z),await me(G)}},w=async p=>{var z;return((z=p.target)==null?void 0:z.tagName)==="INPUT"?p.preventDefault():(p.key==="ArrowLeft"?await d("previous"):p.key==="ArrowRight"&&await d("next"),p.key)},D=async()=>{de.update(p=>({...p,shouldSave:!0})),await i()},i=async()=>{k!=="none"&&(s(2,r=k),k="none"),await me(f),s(4,f="none"),de.set({canSave:!1,shouldSave:!1})},_=async()=>{r?(ye.update(p=>(p.currentPage=Et(a,r),p)),await m(`/${n.id}/dataset`)):await m("/")},m=async p=>{if(o)return s(4,f=p);await me(p)},u=()=>m("/"),b=()=>d("previous"),g=()=>d("next"),B=p=>m(`/${n.id}/${p.toLocaleLowerCase()}`),F=()=>s(4,f="none");return l.$$set=p=>{"pageId"in p&&s(0,t=p.pageId),"datasetItemsIds"in p&&s(11,a=p.datasetItemsIds)},ie.subscribe(p=>s(1,n=p)),Pe.subscribe(p=>{s(2,r=p.params.itemId)}),[t,n,r,c,f,d,w,D,i,_,m,a,u,b,g,B,F]}class Bt extends O{constructor(e){super(),q(this,e,yt,Vt,K,{pageId:0,datasetItemsIds:11})}}const Ht=""+new URL("../assets/favicon.OuiISzV3.ico",import.meta.url).href;function jt(l){let e,s;return e=new Bt({props:{pageId:l[1],datasetItemsIds:l[2]}}),{c(){M(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,a){V(e,t,a),s=!0},p(t,a){const n={};a&2&&(n.pageId=t[1]),a&4&&(n.datasetItemsIds=t[2]),e.$set(n)},i(t){s||($(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){y(e,t)}}}function zt(l){let e,s;return e=new Nt({props:{datasets:l[0]}}),{c(){M(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,a){V(e,t,a),s=!0},p(t,a){const n={};a&1&&(n.datasets=t[0]),e.$set(n)},i(t){s||($(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){y(e,t)}}}function Ut(l){let e,s,t,a,n,r,c,o,f;const k=[zt,jt],d=[];function w(_,m){return _[1]==="/"?0:1}n=w(l),r=d[n]=k[n](l);const D=l[6].default,i=Z(D,l,l[5],null);return{c(){e=S("link"),s=S("meta"),t=L(),a=S("div"),r.c(),c=L(),o=S("main"),i&&i.c(),this.h()},l(_){const m=He("svelte-8x3pw",document.head);e=E(m,"LINK",{rel:!0,type:!0,href:!0}),s=E(m,"META",{name:!0,content:!0}),m.forEach(h),t=T(_),a=E(_,"DIV",{class:!0});var u=C(a);r.l(u),c=T(u),o=E(u,"MAIN",{class:!0});var b=C(o);i&&i.l(b),b.forEach(h),u.forEach(h),this.h()},h(){v(e,"rel","icon"),v(e,"type","image/svg"),v(e,"href",Ht),document.title="Pixano",v(s,"name","description"),v(s,"content","Pixano app"),v(o,"class","h-1 min-h-screen bg-slate-50"),v(a,"class","app")},m(_,m){N(document.head,e),N(document.head,s),A(_,t,m),A(_,a,m),d[n].m(a,null),N(a,c),N(a,o),i&&i.m(o,null),f=!0},p(_,[m]){let u=n;n=w(_),n===u?d[n].p(_,m):(W(),I(d[u],1,1,()=>{d[u]=null}),Y(),r=d[n],r?r.p(_,m):(r=d[n]=k[n](_),r.c()),$(r,1),r.m(a,c)),i&&i.p&&(!f||m&32)&&J(i,D,_,_[5],f?X(D,_[5],m,null):Q(_[5]),null)},i(_){f||($(r),$(i,_),f=!0)},o(_){I(r),I(i,_),f=!1},d(_){_&&(h(t),h(a)),h(e),h(s),d[n].d(),i&&i.d(_)}}}function Rt(l,e,s){let t;je(l,ie,i=>s(4,t=i));let{$$slots:a={},$$scope:n}=e,r,c,o,f,k;async function d(){c=await Fe(),Ze.set(c)}async function w(){try{const i=await Ke();s(0,r=i),Ve.set(i)}catch(i){console.error(i)}}ze(async()=>{await w(),await d()});const D=async i=>{i!==void 0&&s(2,k=await Re(i))};return l.$$set=i=>{"$$scope"in i&&s(5,n=i.$$scope)},l.$$.update=()=>{l.$$.dirty&25&&Pe.subscribe(i=>{if(s(1,o=i.route.id),s(3,f=i.params.dataset),f&&t==null){const _=r==null?void 0:r.find(m=>m.id===f);_&&ie.set(_)}}),l.$$.dirty&8&&D(f)},ie.subscribe(i=>{i&&ye.set(Ye)}),[r,o,k,f,t,n,a]}class en extends O{constructor(e){super(),q(this,e,Rt,Ut,K,{})}}export{en as component,xt as universal};
