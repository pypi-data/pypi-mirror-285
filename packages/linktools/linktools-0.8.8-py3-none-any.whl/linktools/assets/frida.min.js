(function(){function c(a,i,s){function l(r,e){if(!i[r]){if(!a[r]){var t="function"==typeof require&&require;if(!e&&t)return t(r,!0);if(u)return u(r,!0);var n=new Error("Cannot find module '"+r+"'");throw n.code="MODULE_NOT_FOUND",n}var o=i[r]={exports:{}};a[r][0].call(o.exports,function(e){var t=a[r][1][e];return l(t||e)},o,o.exports,c,a,i,s)}return i[r].exports}for(var u="function"==typeof require&&require,e=0;e<s.length;e++)l(s[e]);return l}return c})()({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ScriptLoader=void 0;var n=function(){function e(){var t=this;this.pendingEvents=[],this.flushTimer=null,this.flush=function(){if(null!==t.flushTimer&&(clearTimeout(t.flushTimer),t.flushTimer=null),0!==t.pendingEvents.length){var e=t.pendingEvents;t.pendingEvents=[],send({$events:e})}}}return e.prototype.emit=function(e,t,r){var n={};n[e]=t,null==r?(this.pendingEvents.push(n),this.pendingEvents.length>=50?this.flush():null===this.flushTimer&&(this.flushTimer=setTimeout(this.flush,50))):(this.flush(),send({$events:[n]},r))},e}(),o=function(){function e(){}return e.prototype.emit=function(e,t){l.emit("msg",e,t)},e}(),a=function(){function e(){this.DEBUG=1,this.INFO=2,this.WARNING=3,this.ERROR=4,this.$level=this.INFO;var e=function(r){return function(){for(var e="",t=0;t<arguments.length;t++)t>0&&(e+=" "),e+=pretty2String(arguments[t]);r(e)}};console.debug=e(this.d.bind(this)),console.info=e(this.i.bind(this)),console.warn=e(this.w.bind(this)),console.error=e(this.e.bind(this)),console.log=e(this.i.bind(this))}return Object.defineProperty(e.prototype,"level",{get:function(){return this.$level},enumerable:!1,configurable:!0}),e.prototype.setLevel=function(e){this.$level=e,this.d("Set log level: "+e)},e.prototype.d=function(e,t){this.$level<=this.DEBUG&&l.emit("log",{level:"debug",message:e},t)},e.prototype.i=function(e,t){this.$level<=this.INFO&&l.emit("log",{level:"info",message:e},t)},e.prototype.w=function(e,t){this.$level<=this.WARNING&&l.emit("log",{level:"warning",message:e},t)},e.prototype.e=function(e,t){this.$level<=this.ERROR&&l.emit("log",{level:"error",message:e},t)},e}(),i=function(){function e(){}return e.prototype.load=function(e,t){for(var r=0,n=e;r<n.length;r++){var o=n[r];try{var a=o.filename;a=(a=a.replace(/[\/\\]/g,"$")).replace(/[^A-Za-z0-9_$]+/g,"_"),a="fn_".concat(a).substring(0,255),(0,eval)("(function ".concat(a,"(parameters) {").concat(o.source,"\n})\n")+"//# sourceURL=".concat(o.filename))(t)}catch(e){var i=e.hasOwnProperty("stack")?e.stack:e;throw new Error("Unable to load ".concat(o.filename,": ").concat(i))}}},e}();r.ScriptLoader=i;var s=new i;rpc.exports={loadScripts:s.load.bind(s)};var l=new n,u={},c=e("./lib/c"),h=e("./lib/java"),p=e("./lib/android"),f=e("./lib/objc"),d=e("./lib/ios"),v=new o,g=new a,m=new c.CHelper,y=new h.JavaHelper,b=new p.AndroidHelper,C=new f.ObjCHelper,k=new d.IOSHelper;Object.defineProperties(globalThis,{Emitter:{enumerable:!0,value:v},Log:{enumerable:!0,value:g},CHelper:{enumerable:!0,value:m},JavaHelper:{enumerable:!0,value:y},AndroidHelper:{enumerable:!0,value:b},ObjCHelper:{enumerable:!0,value:C},IOSHelper:{enumerable:!0,value:k},isFunction:{enumerable:!1,value:function(e){return"[object Function]"===Object.prototype.toString.call(e)}},ignoreError:{enumerable:!1,value:function(e,t){void 0===t&&(t=void 0);try{return e()}catch(e){return g.d("Catch ignored error. "+e),t}}},parseBoolean:{enumerable:!1,value:function(e,t){if(void 0===t&&(t=void 0),"boolean"==typeof e)return e;if("string"==typeof e){var r=e.toLowerCase();if("true"===r)return!0;if("false"===r)return!1}return t}},pretty2String:{enumerable:!1,value:function(e){return"string"!=typeof e&&(e=pretty2Json(e)),JSON.stringify(e)}},pretty2Json:{enumerable:!1,value:function(e){if(!(e instanceof Object))return e;if(Array.isArray(e)){for(var t=[],r=0;r<e.length;r++)t.push(pretty2Json(e[r]));return t}return Java.available&&y.isJavaObject(e)?y.objectClass.toString.apply(e):ignoreError(function(){return e.toString()})}},getDebugSymbolFromAddress:{enumerable:!1,value:function(e){var t=e.toString();return void 0===u[t]&&(u[t]=DebugSymbol.fromAddress(e)),u[t]}}})},{"./lib/android":2,"./lib/c":3,"./lib/ios":4,"./lib/java":5,"./lib/objc":6}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AndroidHelper=void 0;var n=function(){function e(){this.$useClassCallbackMap=null}return e.prototype.setWebviewDebuggingEnabled=function(){Log.w("Android Enable Webview Debugging"),Java.perform(function(){var e="android.webkit.WebView";JavaHelper.hookMethods(e,"setWebContentsDebuggingEnabled",function(e,t){return Log.d("android.webkit.WebView.setWebContentsDebuggingEnabled: "+t[0]),t[0]=!0,this(e,t)}),JavaHelper.hookMethods(e,"loadUrl",function(e,t){return Log.d("android.webkit.WebView.loadUrl: "+t[0]),e.setWebContentsDebuggingEnabled(!0),this(e,t)});ignoreError(function(){return JavaHelper.hookMethods(e,"setWebContentsDebuggingEnabled",function(e,t){return Log.d("com.uc.webview.export.WebView.setWebContentsDebuggingEnabled: "+t[0]),t[0]=!0,this(e,t)})}),ignoreError(function(){return JavaHelper.hookMethods("com.uc.webview.export.WebView","loadUrl",function(e,t){return Log.d("com.uc.webview.export.WebView.loadUrl: "+t[0]),e.setWebContentsDebuggingEnabled(!0),this(e,t)})})})},e.prototype.bypassSslPinning=function(){Log.w("Android Bypass ssl pinning"),Java.perform(function(){var r=Java.use("java.util.Arrays");ignoreError(function(){return JavaHelper.hookMethods("com.android.org.conscrypt.TrustManagerImpl","checkServerTrusted",function(e,t){if(Log.d("SSL bypassing "+this),"void"!=this.returnType.type)return"pointer"==this.returnType.type&&"java.util.List"==this.returnType.className?r.asList(t[0]):void 0})}),ignoreError(function(){return JavaHelper.hookMethods("com.google.android.gms.org.conscrypt.Platform","checkServerTrusted",function(e,t){Log.d("SSL bypassing "+this)})}),ignoreError(function(){return JavaHelper.hookMethods("com.android.org.conscrypt.Platform","checkServerTrusted",function(e,t){Log.d("SSL bypassing "+this)})}),ignoreError(function(){return JavaHelper.hookMethods("okhttp3.CertificatePinner","check",function(e,t){if(Log.d("SSL bypassing "+this),"boolean"==this.returnType.type)return!0})}),ignoreError(function(){return JavaHelper.hookMethods("okhttp3.CertificatePinner","check$okhttp",function(e,t){Log.d("SSL bypassing "+this)})}),ignoreError(function(){return JavaHelper.hookMethods("com.android.okhttp.CertificatePinner","check",function(e,t){if(Log.d("SSL bypassing "+this),"boolean"==this.returnType.type)return!0})}),ignoreError(function(){return JavaHelper.hookMethods("com.android.okhttp.CertificatePinner","check$okhttp",function(e,t){Log.d("SSL bypassing "+this)})}),ignoreError(function(){return JavaHelper.hookMethods("com.android.org.conscrypt.TrustManagerImpl","verifyChain",function(e,t){return Log.d("SSL bypassing "+this),t[0]})})})},e.prototype.chooseClassLoader=function(t){Log.w("choose classloder: "+t),Java.perform(function(){Java.enumerateClassLoaders({onMatch:function(e){try{null!=e.findClass(t)&&(Log.i("choose classloader: "+e),Reflect.set(Java.classFactory,"loader",e))}catch(e){Log.e(pretty2Json(e))}},onComplete:function(){Log.d("enumerate classLoaders complete")}})})},e.prototype.traceClasses=function(r,n,o){void 0===n&&(n=void 0),void 0===o&&(o=void 0),r=null!=r?r.trim().toLowerCase():"",n=null!=n?n.trim().toLowerCase():"",o=null!=o?o:{stack:!0,args:!0},Log.w("trace classes, include: "+r+", exclude: "+n+", options: "+JSON.stringify(o)),Java.perform(function(){Java.enumerateLoadedClasses({onMatch:function(e){var t=e.toString().toLowerCase();t.indexOf(r)>=0&&(""==n||t.indexOf(n)<0)&&JavaHelper.hookAllMethods(e,JavaHelper.getEventImpl(o))},onComplete:function(){Log.d("enumerate classLoaders complete")}})})},e.prototype.runOnCreateContext=function(n){Java.perform(function(){JavaHelper.hookMethods("android.app.ContextImpl","createAppContext",function(e,t){var r=this(e,t);return n(r),r})})},e.prototype.runOnCreateApplication=function(n){Java.perform(function(){JavaHelper.hookMethods("android.app.LoadedApk","makeApplication",function(e,t){var r=this(e,t);return n(r),r})})},e.prototype.javaUse=function(r,n){var o=this;Java.perform(function(){var e=null;try{e=JavaHelper.findClass(r)}catch(e){var t;if(null==o.$useClassCallbackMap&&(o.$useClassCallbackMap=new Map,o.$registerUseClassCallback(o.$useClassCallbackMap)),o.$useClassCallbackMap.has(r))void 0!==(t=o.$useClassCallbackMap.get(r))&&t.add(n);else(t=new Set).add(n),o.$useClassCallbackMap.set(r,t);return}n(e)})},e.prototype.$registerUseClassCallback=function(a){var n=Java.use("java.util.HashSet").$new(),o=function(r){for(var o,e=a.entries(),t=function(){var e=o.value[0],t=o.value[1],n=null;try{n=JavaHelper.findClass(e,r)}catch(e){}null!=n&&(a.delete(e),t.forEach(function(e,t,r){e(n)}))};!(o=e.next()).done;)t()};JavaHelper.hookMethod("java.lang.Class","forName",["java.lang.String","boolean","java.lang.ClassLoader"],function(e,t){var r=t[2];return null==r||n.contains(r)||(n.add(r),o(r)),this(e,t)}),JavaHelper.hookMethod("java.lang.ClassLoader","loadClass",["java.lang.String","boolean"],function(e,t){var r=e;return n.contains(r)||(n.add(r),o(r)),this(e,t)})},e}();r.AndroidHelper=n},{}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CHelper=void 0;var n=function(){function e(){this.$funcCaches={}}return Object.defineProperty(e.prototype,"dlopen",{get:function(){return this.getExportFunction(null,"dlopen","pointer",["pointer","int"])},enumerable:!1,configurable:!0}),e.prototype.getExportFunction=function(e,t,r,n){var o=(e||"")+"|"+t;if(o in this.$funcCaches)return this.$funcCaches[o];var a=Module.findExportByName(e,t);if(null===a)throw Error("cannot find "+t);return this.$funcCaches[o]=new NativeFunction(a,r,n),this.$funcCaches[o]},e.prototype.hookFunctionWithOptions=function(e,t,r){return this.hookFunctionWithCallbacks(e,t,this.getEventImpl(r))},e.prototype.hookFunctionWithCallbacks=function(e,n,t){var r=Module.findExportByName(e,n);if(null===r)throw Error("cannot find "+n);var o={get:function(e,t,r){return"name"===t?n:e[t]}},a={};"onEnter"in t&&(a.onEnter=function(e){t.onEnter.call(new Proxy(this,o),e)}),"onLeave"in t&&(a.onLeave=function(e){t.onLeave.call(new Proxy(this,o),e)});var i=Interceptor.attach(r,a);return Log.i("Hook function: "+n+" ("+r+")"),i},e.prototype.hookFunction=function(e,o,a,i,s){var l=this.getExportFunction(e,o,a,i);if(null===l)throw Error("cannot find "+o);isFunction(s)||(s=this.getEventImpl(s));var t=i;Interceptor.replace(l,new NativeCallback(function(){for(var n=this,e=[],t=0;t<i.length;t++)e[t]=arguments[t];var r=new Proxy(l,{get:function(e,t,r){switch(t){case"name":return o;case"argumentTypes":return i;case"returnType":return a;case"context":return n.context;default:e[t]}},apply:function(e,t,r){return e.apply(null,r[0])}});return s.call(r,e)},a,t)),Log.i("Hook function: "+o+" ("+l+")")},e.prototype.getEventImpl=function(t){var l=new function(){for(var e in this.method=!0,this.thread=!1,this.stack=!1,this.args=!1,this.extras={},t)e in this?this[e]=t[e]:this.extras[e]=t[e]},e=function(e){var t={};for(var r in l.extras)t[r]=l.extras[r];!1!==l.method&&(t.method_name=this.name),!1!==l.thread&&(t.thread_id=Process.getCurrentThreadId()),!1!==l.args&&(t.args=pretty2Json(e),t.result=null,t.error=null);try{var n=this(e);return!1!==l.args&&(t.result=pretty2Json(n)),n}catch(e){throw!1!==l.args&&(t.error=pretty2Json(e)),e}finally{if(!1!==l.stack){for(var o=[],a="fuzzy"!==l.stack?Backtracer.ACCURATE:Backtracer.FUZZY,i=Thread.backtrace(this.context,a),s=0;s<i.length;s++)o.push(getDebugSymbolFromAddress(i[s]).toString());t.stack=o}Emitter.emit(t)}};return e.onLeave=function(e){var t={};for(var r in l.extras)t[r]=l.extras[r];if(!1!==l.method&&(t.method_name=this.name),!1!==l.thread&&(t.thread_id=Process.getCurrentThreadId()),!1!==l.args&&(t.result=pretty2Json(e)),!1!==l.stack){for(var n=[],o="fuzzy"!==l.stack?Backtracer.ACCURATE:Backtracer.FUZZY,a=Thread.backtrace(this.context,o),i=0;i<a.length;i++)n.push(getDebugSymbolFromAddress(a[i]).toString());t.stack=n}Emitter.emit(t)},e},e}();r.CHelper=n},{}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IOSHelper=void 0;var n=function(){function e(){}return e.prototype.bypassSslPinning=function(){Log.w("iOS Bypass ssl pinning");try{Module.ensureInitialized("libboringssl.dylib")}catch(t){Log.d("libboringssl.dylib module not loaded. Trying to manually load it."),Module.load("libboringssl.dylib")}var t=new NativeCallback(function(e,t){return Log.d("custom SSL context verify callback, returning SSL_VERIFY_NONE"),0},"int",["pointer","pointer"]);try{CHelper.hookFunction("libboringssl.dylib","SSL_set_custom_verify","void",["pointer","int","pointer"],function(e){return Log.d("SSL_set_custom_verify(), setting custom callback."),e[2]=t,this(e)})}catch(e){CHelper.hookFunction("libboringssl.dylib","SSL_CTX_set_custom_verify","void",["pointer","int","pointer"],function(e){return Log.d("SSL_CTX_set_custom_verify(), setting custom callback."),e[2]=t,this(e)})}CHelper.hookFunction("libboringssl.dylib","SSL_get_psk_identity","pointer",["pointer"],function(e){return Log.d('SSL_get_psk_identity(), returning "fakePSKidentity"'),Memory.allocUtf8String("fakePSKidentity")})},e}();r.IOSHelper=n},{}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.JavaHelper=void 0;var n=function(){function e(){this.excludeHookPackages=["java.","javax.","android.","androidx."]}return Object.defineProperty(e.prototype,"objectClass",{get:function(){return Java.use("java.lang.Object")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"classClass",{get:function(){return Java.use("java.lang.Class")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stringClass",{get:function(){return Java.use("java.lang.String")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"threadClass",{get:function(){return Java.use("java.lang.Thread")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"throwableClass",{get:function(){return Java.use("java.lang.Throwable")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uriClass",{get:function(){return Java.use("android.net.Uri")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"urlClass",{get:function(){return Java.use("java.net.URL")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mapClass",{get:function(){return Java.use("java.util.Map")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"applicationContext",{get:function(){return Java.use("android.app.ActivityThread").currentApplication().getApplicationContext()},enumerable:!1,configurable:!0}),e.prototype.isSameObject=function(e,t){return e===t||null!=e&&null!=t&&(!!e.hasOwnProperty("$isSameObject")&&e.$isSameObject(t))},e.prototype.getObjectHandle=function(e){if(null==e)return null;if(e.hasOwnProperty("$h"))return e.$h;throw new Error("not implemented for 'getObjectHandle'")},e.prototype.getClassName=function(e){var t=e.$className;if(null!=t)return t;if(null!=(t=e.__name__))return t;if(null!=e.$classWrapper){if(null!=(t=e.$classWrapper.$className))return t;if(null!=(t=e.$classWrapper.__name__))return t}Log.e("Cannot get class name: "+e)},e.prototype.getClassMethod=function(e,t){var r=e[t];return void 0!==r||"$"==t[0]&&void 0!==(r=e["_"+t])?r:void 0},e.prototype.$prettyClassName=function(e){if(e.startsWith("[L")&&e.endsWith(";"))return"".concat(e.substring(2,e.length-1),"[]");if(e.startsWith("["))switch(e.substring(1,2)){case"B":return"byte[]";case"C":return"char[]";case"D":return"double[]";case"F":return"float[]";case"I":return"int[]";case"S":return"short[]";case"J":return"long[]";case"Z":return"boolean[]";case"V":return"void[]"}return e},e.prototype.$defineMethodProperties=function(e){var o=this;Object.defineProperties(e,{className:{configurable:!0,enumerable:!0,writable:!1,value:this.getClassName(e.holder)},name:{configurable:!0,enumerable:!0,get:function(){var e=o.$prettyClassName(this.returnType.className),t=o.$prettyClassName(this.className)+"."+this.methodName,r="";if(this.argumentTypes.length>0){r=o.$prettyClassName(this.argumentTypes[0].className);for(var n=1;n<this.argumentTypes.length;n++)r=r+", "+o.$prettyClassName(this.argumentTypes[n].className)}return e+" "+t+"("+r+")"}},toString:{configurable:!0,value:function(){return this.name}}})},e.prototype.findClass=function(e,t){if(void 0===t&&(t=void 0),void 0!==t&&null!=t)return Java.ClassFactory.get(t).use(e);if(parseInt(Java.androidVersion)<7)return Java.use(e);var r=null,n=Java.enumerateClassLoadersSync();for(var o in n)try{var a=this.findClass(e,n[o]);if(null!=a)return a}catch(e){null==r&&(r=e)}throw r},e.prototype.$hookMethod=function(e,t){if(void 0===t&&(t=null),null!=t){var r=new Proxy(e,{apply:function(e,t,r){var n=r[0],o=r[1];return e.apply(n,o)}});isFunction(t)||(t=this.getEventImpl(t)),e.implementation=function(){return t.call(r,this,Array.prototype.slice.call(arguments))},Log.i("Hook method: "+e)}else e.implementation=null,Log.i("Unhook method: "+e)},e.prototype.hookMethod=function(e,t,r,n){void 0===n&&(n=null);var o=t;if("string"==typeof o){var a=o,i=e;"string"==typeof i&&(i=this.findClass(i));var s=this.getClassMethod(i,a);if(void 0===s||void 0===s.overloads)throw Error("Cannot find method: "+this.getClassName(i)+"."+a);if(null!=r){var l=r;for(var u in l)"string"!=typeof l[u]&&(l[u]=this.getClassName(l[u]));o=s.overload.apply(s,l)}else{if(1!=s.overloads.length)throw Error(this.getClassName(i)+"."+a+" has too many overloads");o=s.overloads[0]}}this.$defineMethodProperties(o),this.$hookMethod(o,n)},e.prototype.hookMethods=function(e,t,r){void 0===r&&(r=null);var n=e;"string"==typeof n&&(n=this.findClass(n));var o=this.getClassMethod(n,t);if(void 0===o||void 0===o.overloads)throw Error("Cannot find method: "+this.getClassName(n)+"."+t);for(var a=0;a<o.overloads.length;a++){var i=o.overloads[a];void 0!==i.returnType&&void 0!==i.returnType.className&&(this.$defineMethodProperties(i),this.$hookMethod(i,r))}},e.prototype.hookAllConstructors=function(e,t){void 0===t&&(t=null);var r=e;"string"==typeof r&&(r=this.findClass(r)),this.hookMethods(r,"$init",t)},e.prototype.$isExcludeClass=function(e){for(var t in this.excludeHookPackages)if(0==e.indexOf(this.excludeHookPackages[t]))return!0;return!1},e.prototype.hookAllMethods=function(e,t){void 0===t&&(t=null);var r=e;"string"==typeof r&&(r=this.findClass(r));for(var n=[],o=null,a=r.class;null!=a;){for(var i=a.getDeclaredMethods(),s=0;s<i.length;s++){var l=i[s].getName();n.indexOf(l)<0&&(n.push(l),this.hookMethods(r,l,t))}if(o=a.getSuperclass(),a.$dispose(),null==o)break;if(a=Java.cast(o,this.classClass),this.$isExcludeClass(a.getName()))break}},e.prototype.hookClass=function(e,t){void 0===t&&(t=null);var r=e;"string"==typeof r&&(r=this.findClass(r)),this.hookAllConstructors(r,t),this.hookAllMethods(r,t)},e.prototype.getEventImpl=function(t){var a=this,i=new function(){for(var e in this.method=!0,this.thread=!1,this.stack=!1,this.args=!1,this.extras={},t)e in this?this[e]=t[e]:this.extras[e]=t[e]};return function(e,t){var r={};for(var n in i.extras)r[n]=i.extras[n];!1!==i.method&&(r.class_name=e.$className,r.method_name=this.name,r.method_simple_name=this.methodName),!1!==i.thread&&(r.thread_id=Process.getCurrentThreadId(),r.thread_name=a.threadClass.currentThread().getName()),!1!==i.args&&(r.args=pretty2Json(t),r.result=null,r.error=null);try{var o=this(e,t);return!1!==i.args&&(r.result=pretty2Json(o)),o}catch(e){throw!1!==i.args&&(r.error=pretty2Json(e)),e}finally{!1!==i.stack&&(r.stack=pretty2Json(a.getStackTrace())),Emitter.emit(r)}}},e.prototype.isJavaObject=function(e){if(e instanceof Object&&e.hasOwnProperty("class")&&e.class instanceof Object){var t=e.class;if(t.hasOwnProperty("getName")&&t.hasOwnProperty("getDeclaredClasses")&&t.hasOwnProperty("getDeclaredFields")&&t.hasOwnProperty("getDeclaredMethods"))return!0}return!1},e.prototype.isJavaArray=function(e){if(e instanceof Object&&e.hasOwnProperty("class")&&e.class instanceof Object){var t=e.class;if(t.hasOwnProperty("isArray")&&t.isArray())return!0}return!1},e.prototype.fromJavaArray=function(e,t){var r=e;"string"==typeof r&&(r=this.findClass(r));for(var n=[],o=Java.vm.getEnv(),a=0;a<o.getArrayLength(t.$handle);a++)n.push(Java.cast(o.getObjectArrayElement(t.$handle,a),r));return n},e.prototype.getJavaEnumValue=function(e,t){var r=e;"string"==typeof r&&(r=this.findClass(r));var n=r.class.getEnumConstants();n instanceof Array||(n=this.fromJavaArray(r,n));for(var o=0;o<n.length;o++)if(n[o].toString()===t)return n[o];throw new Error("Name of "+t+" does not match "+r)},e.prototype.getStackTrace=function(){for(var e=[],t=this.throwableClass.$new().getStackTrace(),r=0;r<t.length;r++)e.push(t[r]);return e},e}();r.JavaHelper=n},{}],6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ObjCHelper=void 0;var n=function(){function e(){}return e.prototype.$defineMethodProperties=function(e,t){var r=t.origImplementation||t.implementation,n=e.toString(),o=ObjC.selectorAsString(t.selector),a=ObjC.classes.NSThread.hasOwnProperty(o);Object.defineProperties(t,{className:{configurable:!0,enumerable:!0,get:function(){return n}},methodName:{configurable:!0,enumerable:!0,get:function(){return o}},name:{configurable:!0,enumerable:!0,get:function(){return(a?"+":"-")+"["+n+" "+o+"]"}},origImplementation:{configurable:!0,enumerable:!0,get:function(){return r}},toString:{value:function(){return this.name}}})},e.prototype.$hookMethod=function(o,i){void 0===i&&(i=null),null!=i?(isFunction(i)||(i=this.getEventImpl(i)),o.implementation=ObjC.implement(o,function(){var n=this,e=Array.prototype.slice.call(arguments),t=e.shift(),a=e.shift(),r=new Proxy(o,{get:function(e,t,r){return t in n?n[t]:e[t]},apply:function(e,t,r){var n=r[0],o=r[1];return e.origImplementation.apply(null,[].concat(n,a,o))}});return i.call(r,t,e)}),Log.i("Hook method: "+o)):(o.implementation=o.origImplementation,Log.i("Unhook method: "+pretty2String(o)))},e.prototype.hookMethod=function(e,t,r){void 0===r&&(r=null);var n=e;if("string"==typeof n&&(n=ObjC.classes[n]),void 0===n)throw Error('cannot find class "'+e+'"');var o=t;if("string"==typeof o&&(o=n[o]),void 0===o)throw Error('cannot find method "'+t+'" in class "'+n+'"');this.$defineMethodProperties(n,o),this.$hookMethod(o,r)},e.prototype.hookMethods=function(e,t,r){void 0===r&&(r=null);var n=e;if("string"==typeof n&&(n=ObjC.classes[n]),void 0===n)throw Error('cannot find class "'+e+'"');for(var o=n.$ownMethods.length,a=0;a<o;a++){var i=n.$ownMethods[a];if(i.indexOf(t)>=0){var s=n[i];this.$defineMethodProperties(n,s),this.$hookMethod(s,r)}}},e.prototype.getEventImpl=function(t){var c=this,h=new function(){for(var e in this.method=!0,this.thread=!1,this.stack=!1,this.args=!1,this.extras={},t)e in this?this[e]=t[e]:this.extras[e]=t[e]};return function(e,t){var r={};for(var n in h.extras)r[n]=h.extras[n];if(!1!==h.method&&(r.class_name=new ObjC.Object(e).$className,r.method_name=this.name,r.method_simple_name=this.methodName),!1!==h.thread&&(r.thread_id=Process.getCurrentThreadId(),r.thread_name=ObjC.classes.NSThread.currentThread().name().toString()),!1!==h.args){for(var o=[],a=0;a<t.length;a++)o.push(c.convert2ObjcObject(t[a]));r.args=pretty2Json(o),r.result=null,r.error=null}try{var i=this(e,t);return!1!==h.args&&(r.result=pretty2Json(c.convert2ObjcObject(i))),i}catch(e){throw!1!==h.args&&(r.error=pretty2Json(e)),e}finally{if(!1!==h.stack){var s=[],l="fuzzy"!==h.stack?Backtracer.ACCURATE:Backtracer.FUZZY,u=Thread.backtrace(this.context,l);for(a=0;a<u.length;a++)s.push(getDebugSymbolFromAddress(u[a]).toString());r.stack=s}Emitter.emit(r)}}},e.prototype.convert2ObjcObject=function(e){return e instanceof NativePointer||"object"==typeof e&&e.hasOwnProperty("handle")?new ObjC.Object(e):e},e}();r.ObjCHelper=n},{}]},{},[1]);