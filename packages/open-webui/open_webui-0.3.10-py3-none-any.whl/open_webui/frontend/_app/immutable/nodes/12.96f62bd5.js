import{s as Qt,p as $t,W as te,P as ie,w as jt,o as ce,f as p,l as Q,a as B,g,h as w,m as G,d as o,c as H,R as Dt,j as n,i as j,r as a,Q as Ft,u as ft,O as Se,n as ot,v as ee,M as ze,C as ue,K as Be,e as pe,z as Ht,A as Nt}from"../chunks/scheduler.8ceb707f.js";import{S as le,i as se,f as ae,b as Et,d as Tt,m as It,a as rt,t as vt,e as Vt,g as Yt,c as Kt}from"../chunks/index.07e72a31.js";import{g as Pe}from"../chunks/globals.7f7f1b26.js";import{e as Zt}from"../chunks/each.0e379b97.js";import{a as yt}from"../chunks/Toaster.svelte_svelte_type_style_lang.a1b53f72.js";import{f as je}from"../chunks/FileSaver.min.898eb36f.js";import{w as xt,S as He,z as Ne,W as Fe,n as $e}from"../chunks/index.66fe6140.js";import{u as qe,g as Ct,t as ge,d as _e,c as we}from"../chunks/index.8b697940.js";import{i as Re,p as Qe}from"../chunks/index.b3de3b09.js";import{k as Ge,t as Je}from"../chunks/index.a7efe246.js";import{C as Ce}from"../chunks/Checkbox.3d101069.js";import"../chunks/dayjs.min.1e504c00.js";import{M as Ue}from"../chunks/Modal.9e048b4e.js";import{T as Oe}from"../chunks/Tags.cd9a5a6b.js";import"../chunks/sha256.65a6c54a.js";import{A as We}from"../chunks/AddFilesPlaceholder.685275a7.js";import{t as Xe}from"../chunks/index.973c17cf.js";function Ye(e){let t,l,s,f=e[3].t("Edit Doc")+"",u,r,d,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',_,i,h,b,k,x,M,L=e[3].t("Name Tag")+"",E,F,y,N,J="#",mt,P,O,it,tt,$=e[3].t("Title")+"",ct,nt,A,X,ut,dt,et,U=e[3].t("Tags")+"",z,q,c,S,T,D,C=e[3].t("Save")+"",Y,R,pt,K;return c=new Oe({props:{tags:e[1],addTag:e[6],deleteTag:e[7]}}),{c(){t=p("div"),l=p("div"),s=p("div"),u=Q(f),r=B(),d=p("button"),d.innerHTML=m,_=B(),i=p("div"),h=p("div"),b=p("form"),k=p("div"),x=p("div"),M=p("div"),E=Q(L),F=B(),y=p("div"),N=p("div"),N.textContent=J,mt=B(),P=p("input"),O=B(),it=p("div"),tt=p("div"),ct=Q($),nt=B(),A=p("div"),X=p("input"),ut=B(),dt=p("div"),et=p("div"),z=Q(U),q=B(),Et(c.$$.fragment),S=B(),T=p("div"),D=p("button"),Y=Q(C),this.h()},l(I){t=g(I,"DIV",{});var W=w(t);l=g(W,"DIV",{class:!0});var Z=w(l);s=g(Z,"DIV",{class:!0});var Mt=w(s);u=G(Mt,f),Mt.forEach(o),r=H(Z),d=g(Z,"BUTTON",{class:!0,"data-svelte-h":!0}),Dt(d)!=="svelte-745w2y"&&(d.innerHTML=m),Z.forEach(o),_=H(W),i=g(W,"DIV",{class:!0});var Lt=w(i);h=g(Lt,"DIV",{class:!0});var Ut=w(h);b=g(Ut,"FORM",{class:!0});var St=w(b);k=g(St,"DIV",{class:!0});var _t=w(k);x=g(_t,"DIV",{class:!0});var Ot=w(x);M=g(Ot,"DIV",{class:!0});var wt=w(M);E=G(wt,L),wt.forEach(o),F=H(Ot),y=g(Ot,"DIV",{class:!0});var Bt=w(y);N=g(Bt,"DIV",{class:!0,"data-svelte-h":!0}),Dt(N)!=="svelte-1xdm6fj"&&(N.textContent=J),mt=H(Bt),P=g(Bt,"INPUT",{class:!0,type:!0,autocomplete:!0}),Bt.forEach(o),Ot.forEach(o),O=H(_t),it=g(_t,"DIV",{class:!0});var At=w(it);tt=g(At,"DIV",{class:!0});var st=w(tt);ct=G(st,$),st.forEach(o),nt=H(At),A=g(At,"DIV",{class:!0});var gt=w(A);X=g(gt,"INPUT",{class:!0,type:!0,autocomplete:!0}),gt.forEach(o),At.forEach(o),ut=H(_t),dt=g(_t,"DIV",{class:!0});var zt=w(dt);et=g(zt,"DIV",{class:!0});var qt=w(et);z=G(qt,U),qt.forEach(o),q=H(zt),Tt(c.$$.fragment,zt),zt.forEach(o),_t.forEach(o),S=H(St),T=g(St,"DIV",{class:!0});var at=w(T);D=g(at,"BUTTON",{class:!0,type:!0});var bt=w(D);Y=G(bt,C),bt.forEach(o),at.forEach(o),St.forEach(o),Ut.forEach(o),Lt.forEach(o),W.forEach(o),this.h()},h(){n(s,"class","text-lg font-medium self-center"),n(d,"class","self-center"),n(l,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),n(M,"class","mb-1 text-xs text-gray-500"),n(N,"class","bg-gray-200 dark:bg-gray-800 font-semibold px-3 py-0.5 border border-r-0 dark:border-gray-800 rounded-l-xl flex items-center"),n(P,"class","w-full rounded-r-xl py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 disabled:text-gray-500 dark:disabled:text-gray-500 outline-none svelte-1vx7r9s"),n(P,"type","text"),n(P,"autocomplete","off"),P.required=!0,n(y,"class","flex flex-1"),n(x,"class","flex flex-col w-full"),n(tt,"class","mb-1 text-xs text-gray-500"),n(X,"class","w-full rounded-xl py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none svelte-1vx7r9s"),n(X,"type","text"),n(X,"autocomplete","off"),X.required=!0,n(A,"class","flex-1"),n(it,"class","flex flex-col w-full"),n(et,"class","mb-2 text-xs text-gray-500"),n(dt,"class","flex flex-col w-full"),n(k,"class","flex flex-col space-y-1.5"),n(D,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(D,"type","submit"),n(T,"class","flex justify-end pt-5 text-sm font-medium"),n(b,"class","flex flex-col w-full"),n(h,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),n(i,"class","flex flex-col md:flex-row w-full px-5 py-4 md:space-x-4 dark:text-gray-200")},m(I,W){j(I,t,W),a(t,l),a(l,s),a(s,u),a(l,r),a(l,d),a(t,_),a(t,i),a(i,h),a(h,b),a(b,k),a(k,x),a(x,M),a(M,E),a(x,F),a(x,y),a(y,N),a(y,mt),a(y,P),Ft(P,e[2].name),a(k,O),a(k,it),a(it,tt),a(tt,ct),a(it,nt),a(it,A),a(A,X),Ft(X,e[2].title),a(k,ut),a(k,dt),a(dt,et),a(et,z),a(dt,q),It(c,dt,null),a(b,S),a(b,T),a(T,D),a(D,Y),R=!0,pt||(K=[ft(d,"click",e[9]),ft(P,"input",e[10]),ft(X,"input",e[11]),ft(b,"submit",Se(e[12]))],pt=!0)},p(I,W){(!R||W&8)&&f!==(f=I[3].t("Edit Doc")+"")&&ot(u,f),(!R||W&8)&&L!==(L=I[3].t("Name Tag")+"")&&ot(E,L),W&4&&P.value!==I[2].name&&Ft(P,I[2].name),(!R||W&8)&&$!==($=I[3].t("Title")+"")&&ot(ct,$),W&4&&X.value!==I[2].title&&Ft(X,I[2].title),(!R||W&8)&&U!==(U=I[3].t("Tags")+"")&&ot(z,U);const Z={};W&2&&(Z.tags=I[1]),c.$set(Z),(!R||W&8)&&C!==(C=I[3].t("Save")+"")&&ot(Y,C)},i(I){R||(rt(c.$$.fragment,I),R=!0)},o(I){vt(c.$$.fragment,I),R=!1},d(I){I&&o(t),Vt(c),pt=!1,ee(K)}}}function Ke(e){let t,l,s;function f(r){e[13](r)}let u={size:"sm",$$slots:{default:[Ye]},$$scope:{ctx:e}};return e[0]!==void 0&&(u.show=e[0]),t=new Ue({props:u}),$t.push(()=>ae(t,"show",f)),{c(){Et(t.$$.fragment)},l(r){Tt(t.$$.fragment,r)},m(r,d){It(t,r,d),s=!0},p(r,[d]){const m={};d&16399&&(m.$$scope={dirty:d,ctx:r}),!l&&d&1&&(l=!0,m.show=r[0],te(()=>l=!1)),t.$set(m)},i(r){s||(rt(t.$$.fragment,r),s=!0)},o(r){vt(t.$$.fragment,r),s=!1},d(r){Vt(t,r)}}}function Ze(e,t,l){let s;const f=ie("i18n");jt(e,f,E=>l(3,s=E));let{show:u=!1}=t,{selectedDoc:r}=t,d=[],m={name:"",title:"",content:null};const _=async()=>{await qe(localStorage.token,r.name,{title:m.title,name:m.name}).catch(F=>{yt.error(F)})&&(l(0,u=!1),xt.set(await Ct(localStorage.token)))},i=async E=>{!d.find(F=>F.name===E)&&E!==""?(l(1,d=[...d,{name:E}]),await ge(localStorage.token,m.name,{name:m.name,tags:d}),xt.set(await Ct(localStorage.token))):console.log("tag already exists")},h=async E=>{l(1,d=d.filter(F=>F.name!==E)),await ge(localStorage.token,m.name,{name:m.name,tags:d}),xt.set(await Ct(localStorage.token))};ce(()=>{var E;r&&(l(2,m=JSON.parse(JSON.stringify(r))),l(1,d=((E=m==null?void 0:m.content)==null?void 0:E.tags)??[]))});const b=()=>{l(0,u=!1)};function k(){m.name=this.value,l(2,m)}function x(){m.title=this.value,l(2,m)}const M=()=>{_()};function L(E){u=E,l(0,u)}return e.$$set=E=>{"show"in E&&l(0,u=E.show),"selectedDoc"in E&&l(8,r=E.selectedDoc)},[u,d,m,s,f,_,i,h,r,b,k,x,M,L]}class tl extends le{constructor(t){super(),se(this,t,Ze,Ke,Qt,{show:0,selectedDoc:8})}}function el(e){let t=e[4].t("Click here to select documents.")+"",l;return{c(){l=Q(t)},l(s){l=G(s,t)},m(s,f){j(s,l,f)},p(s,f){f&16&&t!==(t=s[4].t("Click here to select documents.")+"")&&ot(l,t)},d(s){s&&o(l)}}}function ll(e){let t=e[2].length>0?`${e[2].length}`:"",l,s;return{c(){l=Q(t),s=Q(" document(s) selected.")},l(f){l=G(f,t),s=G(f," document(s) selected.")},m(f,u){j(f,l,u),j(f,s,u)},p(f,u){u&4&&t!==(t=f[2].length>0?`${f[2].length}`:"")&&ot(l,t)},d(f){f&&(o(l),o(s))}}}function sl(e){let t,l,s,f=e[4].t("Add Docs")+"",u,r,d,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',_,i,h,b,k,x,M,L,E,F,y,N,J=e[4].t("Tags")+"",mt,P,O,it,tt,$,ct=e[4].t("Save")+"",nt,A,X,ut;function dt(z,q){return z[2]?ll:el}let et=dt(e),U=et(e);return O=new Oe({props:{tags:e[3],addTag:e[7],deleteTag:e[8]}}),{c(){t=p("div"),l=p("div"),s=p("div"),u=Q(f),r=B(),d=p("button"),d.innerHTML=m,_=B(),i=p("div"),h=p("div"),b=p("form"),k=p("div"),x=p("input"),M=B(),L=p("button"),U.c(),E=B(),F=p("div"),y=p("div"),N=p("div"),mt=Q(J),P=B(),Et(O.$$.fragment),it=B(),tt=p("div"),$=p("button"),nt=Q(ct),this.h()},l(z){t=g(z,"DIV",{});var q=w(t);l=g(q,"DIV",{class:!0});var c=w(l);s=g(c,"DIV",{class:!0});var S=w(s);u=G(S,f),S.forEach(o),r=H(c),d=g(c,"BUTTON",{class:!0,"data-svelte-h":!0}),Dt(d)!=="svelte-745w2y"&&(d.innerHTML=m),c.forEach(o),_=H(q),i=g(q,"DIV",{class:!0});var T=w(i);h=g(T,"DIV",{class:!0});var D=w(h);b=g(D,"FORM",{class:!0});var C=w(b);k=g(C,"DIV",{class:!0});var Y=w(k);x=g(Y,"INPUT",{id:!0,type:!0,class:!0}),M=H(Y),L=g(Y,"BUTTON",{class:!0,type:!0});var R=w(L);U.l(R),R.forEach(o),Y.forEach(o),E=H(C),F=g(C,"DIV",{class:!0});var pt=w(F);y=g(pt,"DIV",{class:!0});var K=w(y);N=g(K,"DIV",{class:!0});var I=w(N);mt=G(I,J),I.forEach(o),P=H(K),Tt(O.$$.fragment,K),K.forEach(o),pt.forEach(o),it=H(C),tt=g(C,"DIV",{class:!0});var W=w(tt);$=g(W,"BUTTON",{class:!0,type:!0});var Z=w($);nt=G(Z,ct),Z.forEach(o),W.forEach(o),C.forEach(o),D.forEach(o),T.forEach(o),q.forEach(o),this.h()},h(){n(s,"class","text-lg font-medium self-center"),n(d,"class","self-center"),n(l,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),n(x,"id","upload-doc-input"),x.hidden=!0,n(x,"type","file"),x.multiple=!0,n(x,"class","svelte-1vx7r9s"),n(L,"class","w-full text-sm font-medium py-3 bg-gray-100 hover:bg-gray-200 dark:bg-gray-850 dark:hover:bg-gray-800 text-center rounded-xl"),n(L,"type","button"),n(k,"class","mb-3 w-full"),n(N,"class","mb-1.5 text-xs text-gray-500"),n(y,"class","flex flex-col w-full"),n(F,"class","flex flex-col space-y-1.5"),n($,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n($,"type","submit"),n(tt,"class","flex justify-end pt-5 text-sm font-medium"),n(b,"class","flex flex-col w-full"),n(h,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),n(i,"class","flex flex-col md:flex-row w-full px-5 py-4 md:space-x-4 dark:text-gray-200")},m(z,q){j(z,t,q),a(t,l),a(l,s),a(s,u),a(l,r),a(l,d),a(t,_),a(t,i),a(i,h),a(h,b),a(b,k),a(k,x),e[11](x),a(k,M),a(k,L),U.m(L,null),a(b,E),a(b,F),a(F,y),a(y,N),a(N,mt),a(y,P),It(O,y,null),a(b,it),a(b,tt),a(tt,$),a($,nt),A=!0,X||(ut=[ft(d,"click",e[10]),ft(x,"change",e[12]),ft(L,"click",e[13]),ft(b,"submit",Se(e[14]))],X=!0)},p(z,q){(!A||q&16)&&f!==(f=z[4].t("Add Docs")+"")&&ot(u,f),et===(et=dt(z))&&U?U.p(z,q):(U.d(1),U=et(z),U&&(U.c(),U.m(L,null))),(!A||q&16)&&J!==(J=z[4].t("Tags")+"")&&ot(mt,J);const c={};q&8&&(c.tags=z[3]),O.$set(c),(!A||q&16)&&ct!==(ct=z[4].t("Save")+"")&&ot(nt,ct)},i(z){A||(rt(O.$$.fragment,z),A=!0)},o(z){vt(O.$$.fragment,z),A=!1},d(z){z&&o(t),e[11](null),U.d(),Vt(O),X=!1,ee(ut)}}}function al(e){let t,l,s;function f(r){e[15](r)}let u={size:"sm",$$slots:{default:[sl]},$$scope:{ctx:e}};return e[0]!==void 0&&(u.show=e[0]),t=new Ue({props:u}),$t.push(()=>ae(t,"show",f)),{c(){Et(t.$$.fragment)},l(r){Tt(t.$$.fragment,r)},m(r,d){It(t,r,d),s=!0},p(r,[d]){const m={};d&131103&&(m.$$scope={dirty:d,ctx:r}),!l&&d&1&&(l=!0,m.show=r[0],te(()=>l=!1)),t.$set(m)},i(r){s||(rt(t.$$.fragment,r),s=!0)},o(r){vt(t.$$.fragment,r),s=!1},d(r){Vt(t,r)}}}function nl(e,t,l){let s;const f=ie("i18n");jt(e,f,y=>l(4,s=y));let{show:u=!1}=t,{uploadDoc:r}=t,d,m,_=[];const i=async()=>{if(m&&m.length>0){for(const y of m)console.log(y,y.name.split(".").at(-1)),He.includes(y.type)||Ne.includes(y.name.split(".").at(-1))||yt.error(`Unknown File Type '${y.type}', but accepting and treating as plain text`),r(y);l(2,m=null),l(1,d.value="",d)}else yt.error(s.t("File not found."));l(0,u=!1),xt.set(await Ct(localStorage.token))},h=async y=>{!_.find(N=>N.name===y)&&y!==""?l(3,_=[..._,{name:y}]):console.log("tag already exists")},b=async y=>{l(3,_=_.filter(N=>N.name!==y))};ce(()=>{});const k=()=>{l(0,u=!1)};function x(y){$t[y?"unshift":"push"](()=>{d=y,l(1,d)})}function M(){m=this.files,l(2,m)}const L=()=>{d.click()},E=()=>{i()};function F(y){u=y,l(0,u)}return e.$$set=y=>{"show"in y&&l(0,u=y.show),"uploadDoc"in y&&l(9,r=y.uploadDoc)},[u,d,m,_,s,f,i,h,b,r,k,x,M,L,E,F]}class rl extends le{constructor(t){super(),se(this,t,nl,al,Qt,{show:0,uploadDoc:9})}}const{document:oe}=Pe;function be(e,t,l){const s=e.slice();return s[35]=t[l],s[36]=t,s[37]=l,s}function ke(e,t,l){const s=e.slice();return s[38]=t[l],s}function ye(e){let t,l,s,f,u,r,d;return u=new We({props:{$$slots:{default:[ol]},$$scope:{ctx:e}}}),{c(){t=p("div"),l=p("div"),s=p("div"),f=p("div"),Et(u.$$.fragment),this.h()},l(m){t=g(m,"DIV",{class:!0,id:!0,role:!0,"aria-label":!0});var _=w(t);l=g(_,"DIV",{class:!0});var i=w(l);s=g(i,"DIV",{class:!0});var h=w(s);f=g(h,"DIV",{class:!0});var b=w(f);Tt(u.$$.fragment,b),b.forEach(o),h.forEach(o),i.forEach(o),_.forEach(o),this.h()},h(){n(f,"class","max-w-md"),n(s,"class","m-auto pt-64 flex flex-col justify-center"),n(l,"class","absolute w-full h-full backdrop-blur bg-gray-800/40 flex justify-center"),n(t,"class",r="fixed "+(e[13]?"left-0 md:left-[260px] md:w-[calc(100%-260px)]":"left-0")+" w-full h-full flex z-50 touch-none pointer-events-none"),n(t,"id","dropzone"),n(t,"role","region"),n(t,"aria-label","Drag and Drop Container")},m(m,_){j(m,t,_),a(t,l),a(l,s),a(s,f),It(u,f,null),d=!0},p(m,_){const i={};_[1]&1024&&(i.$$scope={dirty:_,ctx:m}),u.$set(i),(!d||_[0]&8192&&r!==(r="fixed "+(m[13]?"left-0 md:left-[260px] md:w-[calc(100%-260px)]":"left-0")+" w-full h-full flex z-50 touch-none pointer-events-none"))&&n(t,"class",r)},i(m){d||(rt(u.$$.fragment,m),d=!0)},o(m){vt(u.$$.fragment,m),d=!1},d(m){m&&o(t),Vt(u)}}}function ol(e){let t,l="Drop any files here to add to my documents";return{c(){t=p("div"),t.textContent=l,this.h()},l(s){t=g(s,"DIV",{class:!0,"data-svelte-h":!0}),Dt(t)!=="svelte-19eg75t"&&(t.textContent=l),this.h()},h(){n(t,"class","mt-2 text-center text-sm dark:text-gray-200 w-full")},m(s,f){j(s,t,f)},p:ue,d(s){s&&o(t)}}}function xe(e){let t,l,s;function f(r){e[19](r)}let u={selectedDoc:e[8]};return e[7]!==void 0&&(u.show=e[7]),t=new tl({props:u}),$t.push(()=>ae(t,"show",f)),{c(){Et(t.$$.fragment)},l(r){Tt(t.$$.fragment,r)},m(r,d){It(t,r,d),s=!0},p(r,d){const m={};d[0]&256&&(m.selectedDoc=r[8]),!l&&d[0]&128&&(l=!0,m.show=r[7],te(()=>l=!1)),t.$set(m)},i(r){s||(rt(t.$$.fragment,r),s=!0)},o(r){vt(t.$$.fragment,r),s=!1},d(r){Vt(t,r)}}}function De(e){let t,l,s,f,u,r;s=new Ce({props:{state:e[10].filter(Ie).length===e[10].length?"checked":"unchecked",indeterminate:e[10].filter(Ve).length>0&&e[10].filter(Me).length!==e[10].length}}),s.$on("change",e[23]);function d(i,h){return h[0]&1024&&(u=null),u==null&&(u=i[10].filter(ml).length===0),u?cl:il}let m=d(e,[-1,-1]),_=m(e);return{c(){t=p("div"),l=p("div"),Et(s.$$.fragment),f=B(),_.c(),this.h()},l(i){t=g(i,"DIV",{class:!0});var h=w(t);l=g(h,"DIV",{class:!0});var b=w(l);Tt(s.$$.fragment,b),b.forEach(o),f=H(h),_.l(h),h.forEach(o),this.h()},h(){n(l,"class","ml-0.5 pr-3 my-auto flex items-center"),n(t,"class","px-2.5 pt-1 flex gap-1 flex-wrap")},m(i,h){j(i,t,h),a(t,l),It(s,l,null),a(t,f),_.m(t,null),r=!0},p(i,h){const b={};h[0]&1024&&(b.state=i[10].filter(Ie).length===i[10].length?"checked":"unchecked"),h[0]&1024&&(b.indeterminate=i[10].filter(Ve).length>0&&i[10].filter(Me).length!==i[10].length),s.$set(b),m===(m=d(i,h))&&_?_.p(i,h):(_.d(1),_=m(i),_&&(_.c(),_.m(t,null)))},i(i){r||(rt(s.$$.fragment,i),r=!0)},o(i){vt(s.$$.fragment,i),r=!1},d(i){i&&o(t),Vt(s),_.d()}}}function il(e){let t,l,s=e[10].filter(Le).length+"",f,u,r,d,m,_,i=e[11].t("delete")+"",h,b,k;return{c(){t=p("div"),l=p("div"),f=Q(s),u=Q(" Selected"),r=B(),d=p("div"),m=p("button"),_=p("div"),h=Q(i),this.h()},l(x){t=g(x,"DIV",{class:!0});var M=w(t);l=g(M,"DIV",{class:!0});var L=w(l);f=G(L,s),u=G(L," Selected"),L.forEach(o),r=H(M),d=g(M,"DIV",{class:!0});var E=w(d);m=g(E,"BUTTON",{class:!0});var F=w(m);_=g(F,"DIV",{class:!0});var y=w(_);h=G(y,i),y.forEach(o),F.forEach(o),E.forEach(o),M.forEach(o),this.h()},h(){n(l,"class","text-xs font-medium py-0.5 self-center mr-1"),n(_,"class","text-xs font-medium self-center line-clamp-1"),n(m,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white"),n(d,"class","flex gap-1"),n(t,"class","flex-1 flex w-full justify-between items-center")},m(x,M){j(x,t,M),a(t,l),a(l,f),a(l,u),a(t,r),a(t,d),a(d,m),a(m,_),a(_,h),b||(k=ft(m,"click",e[26]),b=!0)},p(x,M){M[0]&1024&&s!==(s=x[10].filter(Le).length+"")&&ot(f,s),M[0]&2048&&i!==(i=x[11].t("delete")+"")&&ot(h,i)},d(x){x&&o(t),b=!1,k()}}}function cl(e){let t,l,s=e[11].t("all")+"",f,u,r,d,m,_=Zt(e[5]),i=[];for(let h=0;h<_.length;h+=1)i[h]=Ee(ke(e,_,h));return{c(){t=p("button"),l=p("div"),f=Q(s),u=B();for(let h=0;h<i.length;h+=1)i[h].c();r=pe(),this.h()},l(h){t=g(h,"BUTTON",{class:!0});var b=w(t);l=g(b,"DIV",{class:!0});var k=w(l);f=G(k,s),k.forEach(o),b.forEach(o),u=H(h);for(let x=0;x<i.length;x+=1)i[x].l(h);r=pe(),this.h()},h(){n(l,"class","text-xs font-medium self-center line-clamp-1"),n(t,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white")},m(h,b){j(h,t,b),a(t,l),a(l,f),j(h,u,b);for(let k=0;k<i.length;k+=1)i[k]&&i[k].m(h,b);j(h,r,b),d||(m=ft(t,"click",e[24]),d=!0)},p(h,b){if(b[0]&2048&&s!==(s=h[11].t("all")+"")&&ot(f,s),b[0]&34){_=Zt(h[5]);let k;for(k=0;k<_.length;k+=1){const x=ke(h,_,k);i[k]?i[k].p(x,b):(i[k]=Ee(x),i[k].c(),i[k].m(r.parentNode,r))}for(;k<i.length;k+=1)i[k].d(1);i.length=_.length}},d(h){h&&(o(t),o(u),o(r)),Be(i,h),d=!1,m()}}}function Ee(e){let t,l,s,f=e[38]+"",u,r,d,m;function _(){return e[25](e[38])}return{c(){t=p("button"),l=p("div"),s=Q("#"),u=Q(f),r=B(),this.h()},l(i){t=g(i,"BUTTON",{class:!0});var h=w(t);l=g(h,"DIV",{class:!0});var b=w(l);s=G(b,"#"),u=G(b,f),b.forEach(o),r=H(h),h.forEach(o),this.h()},h(){n(l,"class","text-xs font-medium self-center line-clamp-1"),n(t,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white")},m(i,h){j(i,t,h),a(t,l),a(l,s),a(l,u),a(t,r),d||(m=ft(t,"click",_),d=!0)},p(i,h){e=i,h[0]&32&&f!==(f=e[38]+"")&&ot(u,f)},d(i){i&&o(t),d=!1,m()}}}function ul(e){let t,l,s,f,u,r;return{c(){t=Ht("svg"),l=Ht("style"),s=Q(`.spinner_qM83 {
										animation: spinner_8HQG 1.05s infinite;
									}
									.spinner_oXPr {
										animation-delay: 0.1s;
									}
									.spinner_ZTLf {
										animation-delay: 0.2s;
									}
									@keyframes spinner_8HQG {
										0%,
										57.14% {
											animation-timing-function: cubic-bezier(0.33, 0.66, 0.66, 1);
											transform: translate(0);
										}
										28.57% {
											animation-timing-function: cubic-bezier(0.33, 0, 0.66, 0.33);
											transform: translateY(-6px);
										}
										100% {
											transform: translate(0);
										}
									}
								`),f=Ht("circle"),u=Ht("circle"),r=Ht("circle"),this.h()},l(d){t=Nt(d,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var m=w(t);l=Nt(m,"style",{});var _=w(l);s=G(_,`.spinner_qM83 {
										animation: spinner_8HQG 1.05s infinite;
									}
									.spinner_oXPr {
										animation-delay: 0.1s;
									}
									.spinner_ZTLf {
										animation-delay: 0.2s;
									}
									@keyframes spinner_8HQG {
										0%,
										57.14% {
											animation-timing-function: cubic-bezier(0.33, 0.66, 0.66, 1);
											transform: translate(0);
										}
										28.57% {
											animation-timing-function: cubic-bezier(0.33, 0, 0.66, 0.33);
											transform: translateY(-6px);
										}
										100% {
											transform: translate(0);
										}
									}
								`),_.forEach(o),f=Nt(m,"circle",{class:!0,cx:!0,cy:!0,r:!0}),w(f).forEach(o),u=Nt(m,"circle",{class:!0,cx:!0,cy:!0,r:!0}),w(u).forEach(o),r=Nt(m,"circle",{class:!0,cx:!0,cy:!0,r:!0}),w(r).forEach(o),m.forEach(o),this.h()},h(){n(f,"class","spinner_qM83"),n(f,"cx","4"),n(f,"cy","12"),n(f,"r","2.5"),n(u,"class","spinner_qM83 spinner_oXPr"),n(u,"cx","12"),n(u,"cy","12"),n(u,"r","2.5"),n(r,"class","spinner_qM83 spinner_ZTLf"),n(r,"cx","20"),n(r,"cy","12"),n(r,"r","2.5"),n(t,"class","w-6 h-6 translate-y-[0.5px]"),n(t,"fill","currentColor"),n(t,"viewBox","0 0 24 24"),n(t,"xmlns","http://www.w3.org/2000/svg")},m(d,m){j(d,t,m),a(t,l),a(l,s),a(t,f),a(t,u),a(t,r)},d(d){d&&o(t)}}}function dl(e){let t,l,s;return{c(){t=Ht("svg"),l=Ht("path"),s=Ht("path"),this.h()},l(f){t=Nt(f,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var u=w(t);l=Nt(u,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),w(l).forEach(o),s=Nt(u,"path",{d:!0}),w(s).forEach(o),u.forEach(o),this.h()},h(){n(l,"fill-rule","evenodd"),n(l,"d","M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z"),n(l,"clip-rule","evenodd"),n(s,"d","M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"),n(t,"xmlns","http://www.w3.org/2000/svg"),n(t,"viewBox","0 0 24 24"),n(t,"fill","currentColor"),n(t,"class","w-6 h-6")},m(f,u){j(f,t,u),a(t,l),a(t,s)},d(f){f&&o(t)}}}function Te(e){var S;let t,l,s,f,u,r,d,m,_,i,h,b=e[35].name+"",k,x,M=e[35].filename+"",L,E,F,y,N=e[35].title+"",J,mt,P,O,it='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"></path></svg>',tt,$,ct='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"></path></svg>',nt,A,X,ut;s=new Ce({props:{state:((S=e[35])==null?void 0:S.selected)??"unchecked"}});function dt(T,D){return T[35]?dl:ul}let et=dt(e),U=et(e);function z(...T){return e[27](e[35],...T)}function q(...T){return e[28](e[35],...T)}function c(){return e[29](e[35],e[36],e[37])}return{c(){t=p("button"),l=p("div"),Et(s.$$.fragment),f=B(),u=p("div"),r=p("div"),d=p("div"),U.c(),m=B(),_=p("div"),i=p("div"),h=Q("#"),k=Q(b),x=Q(" ("),L=Q(M),E=Q(")"),F=B(),y=p("div"),J=Q(N),mt=B(),P=p("div"),O=p("button"),O.innerHTML=it,tt=B(),$=p("button"),$.innerHTML=ct,nt=B(),this.h()},l(T){t=g(T,"BUTTON",{class:!0});var D=w(t);l=g(D,"DIV",{class:!0});var C=w(l);Tt(s.$$.fragment,C),C.forEach(o),f=H(D),u=g(D,"DIV",{class:!0});var Y=w(u);r=g(Y,"DIV",{class:!0});var R=w(r);d=g(R,"DIV",{class:!0});var pt=w(d);U.l(pt),pt.forEach(o),m=H(R),_=g(R,"DIV",{class:!0});var K=w(_);i=g(K,"DIV",{class:!0});var I=w(i);h=G(I,"#"),k=G(I,b),x=G(I," ("),L=G(I,M),E=G(I,")"),I.forEach(o),F=H(K),y=g(K,"DIV",{class:!0});var W=w(y);J=G(W,N),W.forEach(o),K.forEach(o),R.forEach(o),Y.forEach(o),mt=H(D),P=g(D,"DIV",{class:!0});var Z=w(P);O=g(Z,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Dt(O)!=="svelte-105zedk"&&(O.innerHTML=it),tt=H(Z),$=g(Z,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Dt($)!=="svelte-13wl5iz"&&($.innerHTML=ct),Z.forEach(o),nt=H(D),D.forEach(o),this.h()},h(){n(l,"class","my-auto flex items-center"),n(d,"class","p-2.5 bg-red-400 text-white rounded-lg"),n(i,"class","font-semibold line-clamp-1"),n(y,"class","text-xs overflow-hidden text-ellipsis line-clamp-1"),n(_,"class","self-center flex-1"),n(r,"class","flex items-center space-x-3"),n(u,"class","flex flex-1 space-x-4 cursor-pointer w-full"),n(O,"class","self-center w-fit text-sm z-20 px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),n(O,"type","button"),n($,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),n($,"type","button"),n(P,"class","flex flex-row space-x-1 self-center"),n(t,"class","flex space-x-4 cursor-pointer text-left w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-xl")},m(T,D){j(T,t,D),a(t,l),It(s,l,null),a(t,f),a(t,u),a(u,r),a(r,d),U.m(d,null),a(r,m),a(r,_),a(_,i),a(i,h),a(i,k),a(i,x),a(i,L),a(i,E),a(_,F),a(_,y),a(y,J),a(t,mt),a(t,P),a(P,O),a(P,tt),a(P,$),a(t,nt),A=!0,X||(ut=[ft(O,"click",z),ft($,"click",q),ft(t,"click",c)],X=!0)},p(T,D){var Y;e=T;const C={};D[0]&1024&&(C.state=((Y=e[35])==null?void 0:Y.selected)??"unchecked"),s.$set(C),et!==(et=dt(e))&&(U.d(1),U=et(e),U&&(U.c(),U.m(d,null))),(!A||D[0]&1024)&&b!==(b=e[35].name+"")&&ot(k,b),(!A||D[0]&1024)&&M!==(M=e[35].filename+"")&&ot(L,M),(!A||D[0]&1024)&&N!==(N=e[35].title+"")&&ot(J,N)},i(T){A||(rt(s.$$.fragment,T),A=!0)},o(T){vt(s.$$.fragment,T),A=!1},d(T){T&&o(t),Vt(s),U.d(),X=!1,ee(ut)}}}function fl(e){let t,l,s,f=e[8],u,r,d,m,_,i,h,b=e[11].t("Documents")+"",k,x,M,L,E,F='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',y,N,J,mt,P,O,it='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',tt,$,ct,nt,A,X,ut,dt,et=e[11].t("Use '#' in the prompt input to load and select your documents.")+"",U,z,q,c,S,T,D,C,Y=e[11].t("Import Documents Mapping")+"",R,pt,K,I='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',W,Z,Mt,Lt=e[11].t("Export Documents Mapping")+"",Ut,St,_t,Ot='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',wt,Bt,At;oe.title=t=`
		`+e[11].t("Documents")+" | "+e[12]+`
	`;let st=e[9]&&ye(e),gt=xe(e);function zt(v){e[20](v)}let qt={uploadDoc:e[18]};e[6]!==void 0&&(qt.show=e[6]),r=new rl({props:qt}),$t.push(()=>ae(r,"show",zt));let at=e[5].length>0&&De(e),bt=Zt(e[10]),lt=[];for(let v=0;v<bt.length;v+=1)lt[v]=Te(be(e,bt,v));const Ae=v=>vt(lt[v],1,1,()=>{lt[v]=null});return{c(){l=B(),st&&st.c(),s=B(),gt.c(),u=B(),Et(r.$$.fragment),m=B(),_=p("div"),i=p("div"),h=p("div"),k=Q(b),x=B(),M=p("div"),L=p("div"),E=p("div"),E.innerHTML=F,y=B(),N=p("input"),mt=B(),P=p("div"),O=p("button"),O.innerHTML=it,tt=B(),$=p("hr"),ct=B(),at&&at.c(),nt=B(),A=p("div");for(let v=0;v<lt.length;v+=1)lt[v].c();X=B(),ut=p("div"),dt=Q("ⓘ "),U=Q(et),z=B(),q=p("div"),c=p("div"),S=p("input"),T=B(),D=p("button"),C=p("div"),R=Q(Y),pt=B(),K=p("div"),K.innerHTML=I,W=B(),Z=p("button"),Mt=p("div"),Ut=Q(Lt),St=B(),_t=p("div"),_t.innerHTML=Ot,this.h()},l(v){ze("svelte-vxyf60",oe.head).forEach(o),l=H(v),st&&st.l(v),s=H(v),gt.l(v),u=H(v),Tt(r.$$.fragment,v),m=H(v),_=g(v,"DIV",{class:!0});var kt=w(_);i=g(kt,"DIV",{class:!0});var ht=w(i);h=g(ht,"DIV",{class:!0});var Rt=w(h);k=G(Rt,b),Rt.forEach(o),ht.forEach(o),kt.forEach(o),x=H(v),M=g(v,"DIV",{class:!0});var Gt=w(M);L=g(Gt,"DIV",{class:!0});var Jt=w(L);E=g(Jt,"DIV",{class:!0,"data-svelte-h":!0}),Dt(E)!=="svelte-v38fm1"&&(E.innerHTML=F),y=H(Jt),N=g(Jt,"INPUT",{class:!0,placeholder:!0}),Jt.forEach(o),mt=H(Gt),P=g(Gt,"DIV",{});var de=w(P);O=g(de,"BUTTON",{class:!0,"data-svelte-h":!0}),Dt(O)!=="svelte-1rxkyow"&&(O.innerHTML=it),de.forEach(o),Gt.forEach(o),tt=H(v),$=g(v,"HR",{class:!0}),ct=H(v),at&&at.l(v),nt=H(v),A=g(v,"DIV",{class:!0});var fe=w(A);for(let re=0;re<lt.length;re+=1)lt[re].l(fe);fe.forEach(o),X=H(v),ut=g(v,"DIV",{class:!0});var ne=w(ut);dt=G(ne,"ⓘ "),U=G(ne,et),ne.forEach(o),z=H(v),q=g(v,"DIV",{class:!0});var me=w(q);c=g(me,"DIV",{class:!0});var Pt=w(c);S=g(Pt,"INPUT",{id:!0,type:!0,accept:!0}),T=H(Pt),D=g(Pt,"BUTTON",{class:!0});var Wt=w(D);C=g(Wt,"DIV",{class:!0});var he=w(C);R=G(he,Y),he.forEach(o),pt=H(Wt),K=g(Wt,"DIV",{class:!0,"data-svelte-h":!0}),Dt(K)!=="svelte-aqr4dt"&&(K.innerHTML=I),Wt.forEach(o),W=H(Pt),Z=g(Pt,"BUTTON",{class:!0});var Xt=w(Z);Mt=g(Xt,"DIV",{class:!0});var ve=w(Mt);Ut=G(ve,Lt),ve.forEach(o),St=H(Xt),_t=g(Xt,"DIV",{class:!0,"data-svelte-h":!0}),Dt(_t)!=="svelte-1n7zye"&&(_t.innerHTML=Ot),Xt.forEach(o),Pt.forEach(o),me.forEach(o),this.h()},h(){n(h,"class","text-lg font-semibold self-center"),n(i,"class","flex justify-between items-center"),n(_,"class","mb-3"),n(E,"class","self-center ml-1 mr-3"),n(N,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),n(N,"placeholder",J=e[11].t("Search Documents")),n(L,"class","flex flex-1"),n(O,"class","px-2 py-2 rounded-xl border border-gray-200 dark:border-gray-600 dark:border-0 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 transition font-medium text-sm flex items-center space-x-1"),n(M,"class","flex w-full space-x-2"),n($,"class","dark:border-gray-850 my-2.5"),n(A,"class","my-3 mb-5"),n(ut,"class","text-gray-500 text-xs mt-1 mb-2"),n(S,"id","documents-import-input"),n(S,"type","file"),n(S,"accept",".json"),S.hidden=!0,n(C,"class","self-center mr-2 font-medium line-clamp-1"),n(K,"class","self-center"),n(D,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),n(Mt,"class","self-center mr-2 font-medium line-clamp-1"),n(_t,"class","self-center"),n(Z,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),n(c,"class","flex space-x-2"),n(q,"class","flex justify-end w-full mb-2")},m(v,V){j(v,l,V),st&&st.m(v,V),j(v,s,V),gt.m(v,V),j(v,u,V),It(r,v,V),j(v,m,V),j(v,_,V),a(_,i),a(i,h),a(h,k),j(v,x,V),j(v,M,V),a(M,L),a(L,E),a(L,y),a(L,N),Ft(N,e[0]),a(M,mt),a(M,P),a(P,O),j(v,tt,V),j(v,$,V),j(v,ct,V),at&&at.m(v,V),j(v,nt,V),j(v,A,V);for(let kt=0;kt<lt.length;kt+=1)lt[kt]&&lt[kt].m(A,null);j(v,X,V),j(v,ut,V),a(ut,dt),a(ut,U),j(v,z,V),j(v,q,V),a(q,c),a(c,S),e[30](S),a(c,T),a(c,D),a(D,C),a(C,R),a(D,pt),a(D,K),a(c,W),a(c,Z),a(Z,Mt),a(Mt,Ut),a(Z,St),a(Z,_t),wt=!0,Bt||(At=[ft(N,"input",e[21]),ft(O,"click",e[22]),ft(S,"change",e[31]),ft(S,"change",e[32]),ft(D,"click",e[33]),ft(Z,"click",e[34])],Bt=!0)},p(v,V){(!wt||V[0]&6144)&&t!==(t=`
		`+v[11].t("Documents")+" | "+v[12]+`
	`)&&(oe.title=t),v[9]?st?(st.p(v,V),V[0]&512&&rt(st,1)):(st=ye(v),st.c(),rt(st,1),st.m(s.parentNode,s)):st&&(Yt(),vt(st,1,1,()=>{st=null}),Kt()),V[0]&256&&Qt(f,f=v[8])?(Yt(),vt(gt,1,1,ue),Kt(),gt=xe(v),gt.c(),rt(gt,1),gt.m(u.parentNode,u)):gt.p(v,V);const kt={};if(!d&&V[0]&64&&(d=!0,kt.show=v[6],te(()=>d=!1)),r.$set(kt),(!wt||V[0]&2048)&&b!==(b=v[11].t("Documents")+"")&&ot(k,b),(!wt||V[0]&2048&&J!==(J=v[11].t("Search Documents")))&&n(N,"placeholder",J),V[0]&1&&N.value!==v[0]&&Ft(N,v[0]),v[5].length>0?at?(at.p(v,V),V[0]&32&&rt(at,1)):(at=De(v),at.c(),rt(at,1),at.m(nt.parentNode,nt)):at&&(Yt(),vt(at,1,1,()=>{at=null}),Kt()),V[0]&66944){bt=Zt(v[10]);let ht;for(ht=0;ht<bt.length;ht+=1){const Rt=be(v,bt,ht);lt[ht]?(lt[ht].p(Rt,V),rt(lt[ht],1)):(lt[ht]=Te(Rt),lt[ht].c(),rt(lt[ht],1),lt[ht].m(A,null))}for(Yt(),ht=bt.length;ht<lt.length;ht+=1)Ae(ht);Kt()}(!wt||V[0]&2048)&&et!==(et=v[11].t("Use '#' in the prompt input to load and select your documents.")+"")&&ot(U,et),(!wt||V[0]&2048)&&Y!==(Y=v[11].t("Import Documents Mapping")+"")&&ot(R,Y),(!wt||V[0]&2048)&&Lt!==(Lt=v[11].t("Export Documents Mapping")+"")&&ot(Ut,Lt)},i(v){if(!wt){rt(st),rt(gt),rt(r.$$.fragment,v),rt(at);for(let V=0;V<bt.length;V+=1)rt(lt[V]);wt=!0}},o(v){vt(st),vt(gt),vt(r.$$.fragment,v),vt(at),lt=lt.filter(Boolean);for(let V=0;V<lt.length;V+=1)vt(lt[V]);wt=!1},d(v){v&&(o(l),o(s),o(u),o(m),o(_),o(x),o(M),o(tt),o($),o(ct),o(nt),o(A),o(X),o(ut),o(z),o(q)),st&&st.d(v),gt.d(v),Vt(r,v),at&&at.d(v),Be(lt,v),e[30](null),Bt=!1,ee(At)}}}const ml=e=>(e==null?void 0:e.selected)==="checked",Ie=e=>(e==null?void 0:e.selected)==="checked",Ve=e=>(e==null?void 0:e.selected)==="checked",Me=e=>(e==null?void 0:e.selected)==="checked",Le=e=>(e==null?void 0:e.selected)==="checked";function hl(e,t,l){let s,f,u,r;jt(e,xt,c=>l(2,s=c)),jt(e,Fe,c=>l(12,u=c)),jt(e,$e,c=>l(13,r=c));const{saveAs:d}=je,m=ie("i18n");jt(e,m,c=>l(11,f=c));let _="",i="",h,b=[],k=!1,x=!1,M,L="",E=!1;const F=async c=>{await _e(localStorage.token,c),await xt.set(await Ct(localStorage.token))},y=async c=>{await Promise.all(c.map(async S=>await _e(localStorage.token,S.name))),await xt.set(await Ct(localStorage.token))},N=async c=>{if(console.log(c),["audio/mpeg","audio/wav"].includes(c.type)){const D=await Xe(localStorage.token,c).catch(C=>(yt.error(C),null));if(D){console.log(D);const C=new Blob([D.text],{type:"text/plain"});c=Ge(C,`${c.name}.txt`)}}const S=await Re(localStorage.token,c).catch(D=>(yt.error(D),null)),T=await Qe(localStorage.token,S.id).catch(D=>(yt.error(D),null));T&&(await we(localStorage.token,T.collection_name,T.filename,Je(T.filename),T.filename).catch(D=>(yt.error(D),null)),await xt.set(await Ct(localStorage.token)))};ce(()=>{xt.subscribe(C=>{l(5,b=C.reduce((Y,R,pt,K)=>{var I;return[...new Set([...Y,...(((I=R==null?void 0:R.content)==null?void 0:I.tags)??[]).map(W=>W.name)])]},[]))});const c=document.querySelector("body"),S=C=>{C.preventDefault(),l(9,E=!0)},T=()=>{l(9,E=!1)},D=async C=>{var Y,R;if(C.preventDefault(),(Y=C.dataTransfer)!=null&&Y.files){let pt=new FileReader;pt.onload=I=>{files=[...files,{type:"image",url:`${I.target.result}`}]};const K=(R=C.dataTransfer)==null?void 0:R.files;if(K&&K.length>0)for(const I of K)console.log(I,I.name.split(".").at(-1)),He.includes(I.type)||Ne.includes(I.name.split(".").at(-1))||yt.error(`Unknown File Type '${I.type}', but accepting and treating as plain text`),N(I);else yt.error(f.t("File not found."))}l(9,E=!1)};return c==null||c.addEventListener("dragover",S),c==null||c.addEventListener("drop",D),c==null||c.addEventListener("dragleave",T),()=>{c==null||c.removeEventListener("dragover",S),c==null||c.removeEventListener("drop",D),c==null||c.removeEventListener("dragleave",T)}});let J;function mt(c){x=c,l(7,x)}function P(c){k=c,l(6,k)}function O(){i=this.value,l(0,i)}const it=()=>{l(6,k=!0)},tt=c=>{c.detail==="checked"?l(10,J=J.map(S=>({...S,selected:"checked"}))):c.detail==="unchecked"&&l(10,J=J.map(S=>({...S,selected:"unchecked"})))},$=async()=>{l(1,L="")},ct=async c=>{l(1,L=c)},nt=async()=>{y(J.filter(c=>c.selected==="checked"))},A=async(c,S)=>{S.stopPropagation(),l(7,x=!x),l(8,M=c)},X=(c,S)=>{S.stopPropagation(),F(c.name)},ut=(c,S,T)=>{(c==null?void 0:c.selected)==="checked"?l(10,S[T].selected="unchecked",J):l(10,S[T].selected="checked",J)};function dt(c){$t[c?"unshift":"push"](()=>{h=c,l(4,h)})}function et(){_=this.files,l(3,_)}const U=()=>{console.log(_);const c=new FileReader;c.onload=async S=>{const T=JSON.parse(S.target.result);console.log(T);for(const D of T)await we(localStorage.token,D.collection_name,D.filename,D.name,D.title).catch(C=>(yt.error(C),null));await xt.set(await Ct(localStorage.token))},c.readAsText(_[0])},z=()=>{h.click()},q=async()=>{let c=new Blob([JSON.stringify(s)],{type:"application/json"});d(c,`documents-mapping-export-${Date.now()}.json`)};return e.$$.update=()=>{e.$$.dirty[0]&7&&l(10,J=s.filter(c=>{var S;return(L===""||(((S=c==null?void 0:c.content)==null?void 0:S.tags)??[]).map(T=>T.name).includes(L))&&(i===""||c.name.includes(i))}))},[i,L,s,_,h,b,k,x,M,E,J,f,u,r,d,m,F,y,N,mt,P,O,it,tt,$,ct,nt,A,X,ut,dt,et,U,z,q]}class vl extends le{constructor(t){super(),se(this,t,hl,fl,Qt,{},null,[-1,-1])}}function pl(e){let t,l;return t=new vl({}),{c(){Et(t.$$.fragment)},l(s){Tt(t.$$.fragment,s)},m(s,f){It(t,s,f),l=!0},p:ue,i(s){l||(rt(t.$$.fragment,s),l=!0)},o(s){vt(t.$$.fragment,s),l=!1},d(s){Vt(t,s)}}}class Nl extends le{constructor(t){super(),se(this,t,null,pl,Qt,{})}}export{Nl as component};
//# sourceMappingURL=12.96f62bd5.js.map
