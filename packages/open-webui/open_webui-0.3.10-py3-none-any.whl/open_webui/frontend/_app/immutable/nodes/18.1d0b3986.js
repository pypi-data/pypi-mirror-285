import{s as Ks,f as d,a as w,l as N,g as _,h as p,c as I,R as Rt,m as P,d as u,j as o,i as O,r as n,u as X,n as C,v as jl,w as Lt,P as Zs,o as Gs,p as Ft,Q as ge,O as Qs,W as dl,K as Ul,T as xs,U as ys,C as Hl,X as $s,z as Es,A as Ds,S as Ts,e as Vs}from"../chunks/scheduler.8ceb707f.js";import{S as ea,i as ta,a as G,t as ie,c as Ol,f as _l,b as It,d as yt,m as Et,g as Bl,e as Dt}from"../chunks/index.07e72a31.js";import{e as Tt}from"../chunks/each.0e379b97.js";import{a as la}from"../chunks/Toaster.svelte_svelte_type_style_lang.a1b53f72.js";import{g as fl}from"../chunks/navigation.0b220c4f.js";import{p as sa}from"../chunks/stores.6f65b3f9.js";import{h as Ss,j as aa,k as ra}from"../chunks/index.66fe6140.js";import"../chunks/sha256.65a6c54a.js";import{u as na}from"../chunks/index.0b36ebab.js";import{A as oa}from"../chunks/AdvancedParams.94f6fb31.js";import{b as ia}from"../chunks/index.5c259461.js";import{C as ca}from"../chunks/Checkbox.3d101069.js";import{T as ua}from"../chunks/Tags.cd9a5a6b.js";import{K as fa,T as da,F as _a}from"../chunks/FiltersSelector.f79f4001.js";function As(s,e,t){const a=s.slice();return a[48]=e[t],a}function Ns(s,e,t){const a=s.slice();return a[51]=e[t],a[52]=e,a[53]=t,a}function Ps(s,e,t){const a=s.slice();return a[17]=e[t],a}function Ms(s){var Kl,Zl,Gl,Ql,xl,$l;let e,t,a,l,r,m,g,k,V,E=s[14].t("Name")+"",D,S,A,h,v,T,i,y,B,Y=s[14].t("Model ID")+"",K,be,xe,ze,x,$e,Vt,et,ce,ke,Me,We=s[14].t("Description")+"",tt,St,ue,At,Nt,lt,Pt,we,Ce,Oe,Je=s[14].t("Model Params")+"",st,zt,ae,ye,qe,at=s[14].t("System Prompt")+"",b,j,Ie,F,fe,$,ee,te=s[14].t("Advanced Params")+"",re,Be,Q,je,rt,Xe,nt,ne,oe,de,Ue,Mt=s[14].t("Prompt suggestions")+"",Wt,pl,Ee,hl,ml,vl,ot,De,gl,bl,it,Te,kl,wl,ct,Ve,Il,yl,He,ut,ft,Ct=s[14].t("Capabilities")+"",Jt,El,Ye,Dl,Le,dt,_t,Ot=s[14].t("Tags")+"",qt,Tl,pt,Fe,Vl,Se,Re,ht,Bt=s[14].t("JSON Preview")+"",Xt,Sl,Ae,Al,Nl,mt,le,vt,jt=s[14].t("Save & Update")+"",Yt,Pl,Kt,U,Ml,Ll;function Fl(c,f){return c[7].meta.profile_image_url?ha:pa}let Zt=Fl(s),_e=Zt(s),R=s[17].preset&&Cs(s);function Rl(c,f){return c[7].meta.description===null?va:ma}let Gt=Rl(s),pe=Gt(s),z=s[7].meta.description!==null&&Bs(s);function zl(c,f){return c[3]?ba:ga}let Qt=zl(s),he=Qt(s),H=s[3]&&js(s);function Wl(c,f){var se,Ne;return(((Ne=(se=c[7])==null?void 0:se.meta)==null?void 0:Ne.suggestion_prompts)??null)===null?wa:ka}let xt=Wl(s),me=xt(s),W=(((Zl=(Kl=s[7])==null?void 0:Kl.meta)==null?void 0:Zl.suggestion_prompts)??null)!==null&&Us(s),J=((Ql=(Gl=s[7])==null?void 0:Gl.meta)==null?void 0:Ql.suggestion_prompts)&&Hs(s);function Js(c){s[38](c)}let Jl={};s[10]!==void 0&&(Jl.knowledge=s[10]),De=new fa({props:Jl}),Ft.push(()=>_l(De,"knowledge",Js));function qs(c){s[39](c)}let ql={tools:s[15]};s[11]!==void 0&&(ql.selectedToolIds=s[11]),Te=new da({props:ql}),Ft.push(()=>_l(Te,"selectedToolIds",qs));function Xs(c){s[40](c)}let Xl={filters:s[16].filter(Ws)};s[12]!==void 0&&(Xl.selectedFilterIds=s[12]),Ve=new _a({props:Xl}),Ft.push(()=>_l(Ve,"selectedFilterIds",Xs));let Ke=Tt(Object.keys(s[9])),M=[];for(let c=0;c<Ke.length;c+=1)M[c]=Fs(As(s,Ke,c));const Ys=c=>ie(M[c],1,1,()=>{M[c]=null});Fe=new ua({props:{tags:(($l=(xl=s[7])==null?void 0:xl.meta)==null?void 0:$l.tags)??[],deleteTag:s[42],addTag:s[43]}});function Yl(c,f){return c[4]?Da:Ea}let $t=Yl(s),ve=$t(s),q=s[4]&&Rs(s),Z=s[0]&&zs();return{c(){e=d("form"),t=d("div"),a=d("div"),l=d("button"),_e.c(),m=w(),g=d("div"),k=d("div"),V=d("div"),D=N(E),S=N("*"),A=w(),h=d("div"),v=d("input"),i=w(),y=d("div"),B=d("div"),K=N(Y),be=N("*"),xe=w(),ze=d("div"),x=d("input"),Vt=w(),R&&R.c(),et=w(),ce=d("div"),ke=d("div"),Me=d("div"),tt=N(We),St=w(),ue=d("button"),pe.c(),At=w(),z&&z.c(),Nt=w(),lt=d("hr"),Pt=w(),we=d("div"),Ce=d("div"),Oe=d("div"),st=N(Je),zt=w(),ae=d("div"),ye=d("div"),qe=d("div"),b=N(at),j=w(),Ie=d("div"),F=d("textarea"),fe=w(),$=d("div"),ee=d("div"),re=N(te),Be=w(),Q=d("button"),he.c(),je=w(),H&&H.c(),rt=w(),Xe=d("hr"),nt=w(),ne=d("div"),oe=d("div"),de=d("div"),Ue=d("div"),Wt=N(Mt),pl=w(),Ee=d("button"),me.c(),hl=w(),W&&W.c(),ml=w(),J&&J.c(),vl=w(),ot=d("div"),It(De.$$.fragment),bl=w(),it=d("div"),It(Te.$$.fragment),wl=w(),ct=d("div"),It(Ve.$$.fragment),yl=w(),He=d("div"),ut=d("div"),ft=d("div"),Jt=N(Ct),El=w(),Ye=d("div");for(let c=0;c<M.length;c+=1)M[c].c();Dl=w(),Le=d("div"),dt=d("div"),_t=d("div"),qt=N(Ot),Tl=w(),pt=d("div"),It(Fe.$$.fragment),Vl=w(),Se=d("div"),Re=d("div"),ht=d("div"),Xt=N(Bt),Sl=w(),Ae=d("button"),ve.c(),Al=w(),q&&q.c(),Nl=w(),mt=d("div"),le=d("button"),vt=d("div"),Yt=N(jt),Pl=w(),Z&&Z.c(),this.h()},l(c){e=_(c,"FORM",{class:!0});var f=p(e);t=_(f,"DIV",{class:!0});var se=p(t);a=_(se,"DIV",{class:!0});var Ne=p(a);l=_(Ne,"BUTTON",{class:!0,type:!0});var gt=p(l);_e.l(gt),gt.forEach(u),Ne.forEach(u),se.forEach(u),m=I(f),g=_(f,"DIV",{class:!0});var Pe=p(g);k=_(Pe,"DIV",{class:!0});var Ze=p(k);V=_(Ze,"DIV",{class:!0});var bt=p(V);D=P(bt,E),S=P(bt,"*"),bt.forEach(u),A=I(Ze),h=_(Ze,"DIV",{});var Ut=p(h);v=_(Ut,"INPUT",{class:!0,placeholder:!0}),Ut.forEach(u),Ze.forEach(u),i=I(Pe),y=_(Pe,"DIV",{class:!0});var Ge=p(y);B=_(Ge,"DIV",{class:!0});var kt=p(B);K=P(kt,Y),be=P(kt,"*"),kt.forEach(u),xe=I(Ge),ze=_(Ge,"DIV",{});var Ht=p(ze);x=_(Ht,"INPUT",{class:!0,placeholder:!0}),Ht.forEach(u),Ge.forEach(u),Pe.forEach(u),Vt=I(f),R&&R.l(f),et=I(f),ce=_(f,"DIV",{class:!0});var L=p(ce);ke=_(L,"DIV",{class:!0});var Qe=p(ke);Me=_(Qe,"DIV",{class:!0});var es=p(Me);tt=P(es,We),es.forEach(u),St=I(Qe),ue=_(Qe,"BUTTON",{class:!0,type:!0});var ts=p(ue);pe.l(ts),ts.forEach(u),Qe.forEach(u),At=I(L),z&&z.l(L),L.forEach(u),Nt=I(f),lt=_(f,"HR",{class:!0}),Pt=I(f),we=_(f,"DIV",{class:!0});var el=p(we);Ce=_(el,"DIV",{class:!0});var ls=p(Ce);Oe=_(ls,"DIV",{class:!0});var ss=p(Oe);st=P(ss,Je),ss.forEach(u),ls.forEach(u),zt=I(el),ae=_(el,"DIV",{class:!0});var wt=p(ae);ye=_(wt,"DIV",{class:!0});var tl=p(ye);qe=_(tl,"DIV",{class:!0});var as=p(qe);b=P(as,at),as.forEach(u),j=I(tl),Ie=_(tl,"DIV",{});var rs=p(Ie);F=_(rs,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),p(F).forEach(u),rs.forEach(u),tl.forEach(u),fe=I(wt),$=_(wt,"DIV",{class:!0});var ll=p($);ee=_(ll,"DIV",{class:!0});var ns=p(ee);re=P(ns,te),ns.forEach(u),Be=I(ll),Q=_(ll,"BUTTON",{class:!0,type:!0});var os=p(Q);he.l(os),os.forEach(u),ll.forEach(u),je=I(wt),H&&H.l(wt),wt.forEach(u),el.forEach(u),rt=I(f),Xe=_(f,"HR",{class:!0}),nt=I(f),ne=_(f,"DIV",{class:!0});var sl=p(ne);oe=_(sl,"DIV",{class:!0});var al=p(oe);de=_(al,"DIV",{class:!0});var rl=p(de);Ue=_(rl,"DIV",{class:!0});var is=p(Ue);Wt=P(is,Mt),is.forEach(u),pl=I(rl),Ee=_(rl,"BUTTON",{class:!0,type:!0});var cs=p(Ee);me.l(cs),cs.forEach(u),rl.forEach(u),hl=I(al),W&&W.l(al),al.forEach(u),ml=I(sl),J&&J.l(sl),sl.forEach(u),vl=I(f),ot=_(f,"DIV",{class:!0});var us=p(ot);yt(De.$$.fragment,us),us.forEach(u),bl=I(f),it=_(f,"DIV",{class:!0});var fs=p(it);yt(Te.$$.fragment,fs),fs.forEach(u),wl=I(f),ct=_(f,"DIV",{class:!0});var ds=p(ct);yt(Ve.$$.fragment,ds),ds.forEach(u),yl=I(f),He=_(f,"DIV",{class:!0});var nl=p(He);ut=_(nl,"DIV",{class:!0});var _s=p(ut);ft=_(_s,"DIV",{class:!0});var ps=p(ft);Jt=P(ps,Ct),ps.forEach(u),_s.forEach(u),El=I(nl),Ye=_(nl,"DIV",{class:!0});var hs=p(Ye);for(let Cl=0;Cl<M.length;Cl+=1)M[Cl].l(hs);hs.forEach(u),nl.forEach(u),Dl=I(f),Le=_(f,"DIV",{class:!0});var ol=p(Le);dt=_(ol,"DIV",{class:!0});var ms=p(dt);_t=_(ms,"DIV",{class:!0});var vs=p(_t);qt=P(vs,Ot),vs.forEach(u),ms.forEach(u),Tl=I(ol),pt=_(ol,"DIV",{class:!0});var gs=p(pt);yt(Fe.$$.fragment,gs),gs.forEach(u),ol.forEach(u),Vl=I(f),Se=_(f,"DIV",{class:!0});var il=p(Se);Re=_(il,"DIV",{class:!0});var cl=p(Re);ht=_(cl,"DIV",{class:!0});var bs=p(ht);Xt=P(bs,Bt),bs.forEach(u),Sl=I(cl),Ae=_(cl,"BUTTON",{class:!0,type:!0});var ks=p(Ae);ve.l(ks),ks.forEach(u),cl.forEach(u),Al=I(il),q&&q.l(il),il.forEach(u),Nl=I(f),mt=_(f,"DIV",{class:!0});var ws=p(mt);le=_(ws,"BUTTON",{class:!0,type:!0});var ul=p(le);vt=_(ul,"DIV",{class:!0});var Is=p(vt);Yt=P(Is,jt),Is.forEach(u),Pl=I(ul),Z&&Z.l(ul),ul.forEach(u),ws.forEach(u),f.forEach(u),this.h()},h(){o(l,"class",r=(s[7].meta.profile_image_url?"":"p-4")+" rounded-full dark:bg-gray-700 border border-dashed border-gray-200 flex items-center"),o(l,"type","button"),o(a,"class","self-center"),o(t,"class","flex justify-center my-4"),o(V,"class","text-sm font-semibold mb-1"),o(v,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),o(v,"placeholder",T=s[14].t("Name your model")),v.required=!0,o(k,"class","flex-1"),o(B,"class","text-sm font-semibold mb-1"),o(x,"class","px-3 py-1.5 text-sm w-full bg-transparent disabled:text-gray-500 border dark:border-gray-600 outline-none rounded-lg"),o(x,"placeholder",$e=s[14].t("Add a model id")),x.value=s[5],x.disabled=!0,x.required=!0,o(y,"class","flex-1"),o(g,"class","mt-2 my-1 flex space-x-2"),o(Me,"class","self-center text-sm font-semibold"),o(ue,"class","p-1 text-xs flex rounded transition"),o(ue,"type","button"),o(ke,"class","flex w-full justify-between items-center"),o(ce,"class","my-1"),o(lt,"class","dark:border-gray-850 my-1"),o(Oe,"class","self-center text-sm font-semibold"),o(Ce,"class","flex w-full justify-between"),o(qe,"class","text-xs font-semibold mb-2"),o(F,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg -mb-1"),o(F,"placeholder",`Write your model system prompt content here
e.g.) You are Mario from Super Mario Bros, acting as an assistant.`),o(F,"rows","4"),o(ye,"class","my-1"),o(ee,"class","self-center text-xs font-semibold"),o(Q,"class","p-1 px-3 text-xs flex rounded transition"),o(Q,"type","button"),o($,"class","flex w-full justify-between"),o(ae,"class","mt-2"),o(we,"class","my-2"),o(Xe,"class","dark:border-gray-850 my-1"),o(Ue,"class","self-center text-sm font-semibold"),o(Ee,"class","p-1 text-xs flex rounded transition"),o(Ee,"type","button"),o(de,"class","flex w-full justify-between items-center"),o(oe,"class","flex w-full justify-between items-center"),o(ne,"class","my-2"),o(ot,"class","my-2"),o(it,"class","my-2"),o(ct,"class","my-2"),o(ft,"class","self-center text-sm font-semibold"),o(ut,"class","flex w-full justify-between mb-1"),o(Ye,"class","flex flex-col"),o(He,"class","my-2"),o(_t,"class","self-center text-sm font-semibold"),o(dt,"class","flex w-full justify-between items-center"),o(pt,"class","mt-2"),o(Le,"class","my-1"),o(ht,"class","self-center text-sm font-semibold"),o(Ae,"class","p-1 px-3 text-xs flex rounded transition"),o(Ae,"type","button"),o(Re,"class","flex w-full justify-between mb-2"),o(Se,"class","my-2 text-gray-300 dark:text-gray-700"),o(vt,"class","self-center font-medium"),o(le,"class",Kt="text-sm px-3 py-2 transition rounded-xl "+(s[0]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex"),o(le,"type","submit"),le.disabled=s[0],o(mt,"class","my-2 flex justify-end mb-20"),o(e,"class","flex flex-col max-w-2xl mx-auto mt-4 mb-10")},m(c,f){O(c,e,f),n(e,t),n(t,a),n(a,l),_e.m(l,null),n(e,m),n(e,g),n(g,k),n(k,V),n(V,D),n(V,S),n(k,A),n(k,h),n(h,v),ge(v,s[6]),n(g,i),n(g,y),n(y,B),n(B,K),n(B,be),n(y,xe),n(y,ze),n(ze,x),n(e,Vt),R&&R.m(e,null),n(e,et),n(e,ce),n(ce,ke),n(ke,Me),n(Me,tt),n(ke,St),n(ke,ue),pe.m(ue,null),n(ce,At),z&&z.m(ce,null),n(e,Nt),n(e,lt),n(e,Pt),n(e,we),n(we,Ce),n(Ce,Oe),n(Oe,st),n(we,zt),n(we,ae),n(ae,ye),n(ye,qe),n(qe,b),n(ye,j),n(ye,Ie),n(Ie,F),ge(F,s[7].params.system),n(ae,fe),n(ae,$),n($,ee),n(ee,re),n($,Be),n($,Q),he.m(Q,null),n(ae,je),H&&H.m(ae,null),n(e,rt),n(e,Xe),n(e,nt),n(e,ne),n(ne,oe),n(oe,de),n(de,Ue),n(Ue,Wt),n(de,pl),n(de,Ee),me.m(Ee,null),n(oe,hl),W&&W.m(oe,null),n(ne,ml),J&&J.m(ne,null),n(e,vl),n(e,ot),Et(De,ot,null),n(e,bl),n(e,it),Et(Te,it,null),n(e,wl),n(e,ct),Et(Ve,ct,null),n(e,yl),n(e,He),n(He,ut),n(ut,ft),n(ft,Jt),n(He,El),n(He,Ye);for(let se=0;se<M.length;se+=1)M[se]&&M[se].m(Ye,null);n(e,Dl),n(e,Le),n(Le,dt),n(dt,_t),n(_t,qt),n(Le,Tl),n(Le,pt),Et(Fe,pt,null),n(e,Vl),n(e,Se),n(Se,Re),n(Re,ht),n(ht,Xt),n(Re,Sl),n(Re,Ae),ve.m(Ae,null),n(Se,Al),q&&q.m(Se,null),n(e,Nl),n(e,mt),n(mt,le),n(le,vt),n(vt,Yt),n(le,Pl),Z&&Z.m(le,null),U=!0,Ml||(Ll=[X(l,"click",s[24]),X(v,"input",s[25]),X(ue,"click",s[28]),X(F,"input",s[30]),X(Q,"click",s[31]),X(Ee,"click",s[34]),X(Ae,"click",s[44]),X(e,"submit",Qs(s[45]))],Ml=!0)},p(c,f){var Ze,bt,Ut,Ge,kt,Ht;Zt===(Zt=Fl(c))&&_e?_e.p(c,f):(_e.d(1),_e=Zt(c),_e&&(_e.c(),_e.m(l,null))),(!U||f[0]&8320&&r!==(r=(c[7].meta.profile_image_url?"":"p-4")+" rounded-full dark:bg-gray-700 border border-dashed border-gray-200 flex items-center"))&&o(l,"class",r),(!U||f[0]&16384)&&E!==(E=c[14].t("Name")+"")&&C(D,E),(!U||f[0]&16384&&T!==(T=c[14].t("Name your model")))&&o(v,"placeholder",T),f[0]&64&&v.value!==c[6]&&ge(v,c[6]),(!U||f[0]&16384)&&Y!==(Y=c[14].t("Model ID")+"")&&C(K,Y),(!U||f[0]&16384&&$e!==($e=c[14].t("Add a model id")))&&o(x,"placeholder",$e),(!U||f[0]&32&&x.value!==c[5])&&(x.value=c[5]),c[17].preset?R?R.p(c,f):(R=Cs(c),R.c(),R.m(e,et)):R&&(R.d(1),R=null),(!U||f[0]&16384)&&We!==(We=c[14].t("Description")+"")&&C(tt,We),Gt===(Gt=Rl(c))&&pe?pe.p(c,f):(pe.d(1),pe=Gt(c),pe&&(pe.c(),pe.m(ue,null))),c[7].meta.description!==null?z?z.p(c,f):(z=Bs(c),z.c(),z.m(ce,null)):z&&(z.d(1),z=null),(!U||f[0]&16384)&&Je!==(Je=c[14].t("Model Params")+"")&&C(st,Je),(!U||f[0]&16384)&&at!==(at=c[14].t("System Prompt")+"")&&C(b,at),f[0]&8320&&ge(F,c[7].params.system),(!U||f[0]&16384)&&te!==(te=c[14].t("Advanced Params")+"")&&C(re,te),Qt===(Qt=zl(c))&&he?he.p(c,f):(he.d(1),he=Qt(c),he&&(he.c(),he.m(Q,null))),c[3]?H?(H.p(c,f),f[0]&8&&G(H,1)):(H=js(c),H.c(),G(H,1),H.m(ae,null)):H&&(Bl(),ie(H,1,1,()=>{H=null}),Ol()),(!U||f[0]&16384)&&Mt!==(Mt=c[14].t("Prompt suggestions")+"")&&C(Wt,Mt),xt===(xt=Wl(c))&&me?me.p(c,f):(me.d(1),me=xt(c),me&&(me.c(),me.m(Ee,null))),(((bt=(Ze=c[7])==null?void 0:Ze.meta)==null?void 0:bt.suggestion_prompts)??null)!==null?W?W.p(c,f):(W=Us(c),W.c(),W.m(oe,null)):W&&(W.d(1),W=null),(Ge=(Ut=c[7])==null?void 0:Ut.meta)!=null&&Ge.suggestion_prompts?J?J.p(c,f):(J=Hs(c),J.c(),J.m(ne,null)):J&&(J.d(1),J=null);const se={};!gl&&f[0]&1024&&(gl=!0,se.knowledge=c[10],dl(()=>gl=!1)),De.$set(se);const Ne={};f[0]&32768&&(Ne.tools=c[15]),!kl&&f[0]&2048&&(kl=!0,Ne.selectedToolIds=c[11],dl(()=>kl=!1)),Te.$set(Ne);const gt={};if(f[0]&65536&&(gt.filters=c[16].filter(Ws)),!Il&&f[0]&4096&&(Il=!0,gt.selectedFilterIds=c[12],dl(()=>Il=!1)),Ve.$set(gt),(!U||f[0]&16384)&&Ct!==(Ct=c[14].t("Capabilities")+"")&&C(Jt,Ct),f[0]&16896){Ke=Tt(Object.keys(c[9]));let L;for(L=0;L<Ke.length;L+=1){const Qe=As(c,Ke,L);M[L]?(M[L].p(Qe,f),G(M[L],1)):(M[L]=Fs(Qe),M[L].c(),G(M[L],1),M[L].m(Ye,null))}for(Bl(),L=Ke.length;L<M.length;L+=1)Ys(L);Ol()}(!U||f[0]&16384)&&Ot!==(Ot=c[14].t("Tags")+"")&&C(qt,Ot);const Pe={};f[0]&128&&(Pe.tags=((Ht=(kt=c[7])==null?void 0:kt.meta)==null?void 0:Ht.tags)??[]),f[0]&128&&(Pe.deleteTag=c[42]),f[0]&128&&(Pe.addTag=c[43]),Fe.$set(Pe),(!U||f[0]&16384)&&Bt!==(Bt=c[14].t("JSON Preview")+"")&&C(Xt,Bt),$t===($t=Yl(c))&&ve?ve.p(c,f):(ve.d(1),ve=$t(c),ve&&(ve.c(),ve.m(Ae,null))),c[4]?q?q.p(c,f):(q=Rs(c),q.c(),q.m(Se,null)):q&&(q.d(1),q=null),(!U||f[0]&16384)&&jt!==(jt=c[14].t("Save & Update")+"")&&C(Yt,jt),c[0]?Z||(Z=zs(),Z.c(),Z.m(le,null)):Z&&(Z.d(1),Z=null),(!U||f[0]&1&&Kt!==(Kt="text-sm px-3 py-2 transition rounded-xl "+(c[0]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex"))&&o(le,"class",Kt),(!U||f[0]&1)&&(le.disabled=c[0])},i(c){if(!U){G(H),G(De.$$.fragment,c),G(Te.$$.fragment,c),G(Ve.$$.fragment,c);for(let f=0;f<Ke.length;f+=1)G(M[f]);G(Fe.$$.fragment,c),U=!0}},o(c){ie(H),ie(De.$$.fragment,c),ie(Te.$$.fragment,c),ie(Ve.$$.fragment,c),M=M.filter(Boolean);for(let f=0;f<M.length;f+=1)ie(M[f]);ie(Fe.$$.fragment,c),U=!1},d(c){c&&u(e),_e.d(),R&&R.d(),pe.d(),z&&z.d(),he.d(),H&&H.d(),me.d(),W&&W.d(),J&&J.d(),Dt(De),Dt(Te),Dt(Ve),Ul(M,c),Dt(Fe),ve.d(),q&&q.d(),Z&&Z.d(),Ml=!1,jl(Ll)}}}function pa(s){let e,t;return{c(){e=Es("svg"),t=Es("path"),this.h()},l(a){e=Ds(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var l=p(e);t=Ds(l,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(t).forEach(u),l.forEach(u),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z"),o(t,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 24 24"),o(e,"fill","currentColor"),o(e,"class","size-8")},m(a,l){O(a,e,l),n(e,t)},p:Hl,d(a){a&&u(e)}}}function ha(s){let e,t;return{c(){e=d("img"),this.h()},l(a){e=_(a,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ts(e.src,t=s[7].meta.profile_image_url)||o(e,"src",t),o(e,"alt","modelfile profile"),o(e,"class","rounded-full size-16 object-cover")},m(a,l){O(a,e,l)},p(a,l){l[0]&8320&&!Ts(e.src,t=a[7].meta.profile_image_url)&&o(e,"src",t)},d(a){a&&u(e)}}}function Cs(s){let e,t,a=s[14].t("Base Model (From)")+"",l,r,m,g,k,V=s[14].t("Select a base model")+"",E,D,S,A=Tt(s[13].filter(s[26])),h=[];for(let v=0;v<A.length;v+=1)h[v]=Os(Ps(s,A,v));return{c(){e=d("div"),t=d("div"),l=N(a),r=w(),m=d("div"),g=d("select"),k=d("option"),E=N(V);for(let v=0;v<h.length;v+=1)h[v].c();this.h()},l(v){e=_(v,"DIV",{class:!0});var T=p(e);t=_(T,"DIV",{class:!0});var i=p(t);l=P(i,a),i.forEach(u),r=I(T),m=_(T,"DIV",{});var y=p(m);g=_(y,"SELECT",{class:!0,placeholder:!0});var B=p(g);k=_(B,"OPTION",{class:!0});var Y=p(k);E=P(Y,V),Y.forEach(u);for(let K=0;K<h.length;K+=1)h[K].l(B);B.forEach(u),y.forEach(u),T.forEach(u),this.h()},h(){o(t,"class","text-sm font-semibold mb-1"),k.__value=null,ge(k,k.__value),o(k,"class","text-gray-900"),o(g,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),o(g,"placeholder","Select a base model (e.g. llama3, gpt-4o)"),g.required=!0,s[7].base_model_id===void 0&&xs(()=>s[27].call(g)),o(e,"class","my-1")},m(v,T){O(v,e,T),n(e,t),n(t,l),n(e,r),n(e,m),n(m,g),n(g,k),n(k,E);for(let i=0;i<h.length;i+=1)h[i]&&h[i].m(g,null);ys(g,s[7].base_model_id,!0),D||(S=X(g,"change",s[27]),D=!0)},p(v,T){if(T[0]&16384&&a!==(a=v[14].t("Base Model (From)")+"")&&C(l,a),T[0]&16384&&V!==(V=v[14].t("Select a base model")+"")&&C(E,V),T[0]&139264){A=Tt(v[13].filter(v[26]));let i;for(i=0;i<A.length;i+=1){const y=Ps(v,A,i);h[i]?h[i].p(y,T):(h[i]=Os(y),h[i].c(),h[i].m(g,null))}for(;i<h.length;i+=1)h[i].d(1);h.length=A.length}T[0]&8320&&ys(g,v[7].base_model_id)},d(v){v&&u(e),Ul(h,v),D=!1,S()}}}function Os(s){let e,t=s[17].name+"",a,l;return{c(){e=d("option"),a=N(t),this.h()},l(r){e=_(r,"OPTION",{class:!0});var m=p(e);a=P(m,t),m.forEach(u),this.h()},h(){e.__value=l=s[17].id,ge(e,e.__value),o(e,"class","text-gray-900")},m(r,m){O(r,e,m),n(e,a)},p(r,m){m[0]&139264&&t!==(t=r[17].name+"")&&C(a,t),m[0]&139264&&l!==(l=r[17].id)&&(e.__value=l,ge(e,e.__value))},d(r){r&&u(e)}}}function ma(s){let e,t=s[14].t("Custom")+"",a;return{c(){e=d("span"),a=N(t),this.h()},l(l){e=_(l,"SPAN",{class:!0});var r=p(e);a=P(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,a)},p(l,r){r[0]&16384&&t!==(t=l[14].t("Custom")+"")&&C(a,t)},d(l){l&&u(e)}}}function va(s){let e,t=s[14].t("Default")+"",a;return{c(){e=d("span"),a=N(t),this.h()},l(l){e=_(l,"SPAN",{class:!0});var r=p(e);a=P(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,a)},p(l,r){r[0]&16384&&t!==(t=l[14].t("Default")+"")&&C(a,t)},d(l){l&&u(e)}}}function Bs(s){let e,t,a,l;return{c(){e=d("textarea"),this.h()},l(r){e=_(r,"TEXTAREA",{class:!0,placeholder:!0,row:!0}),p(e).forEach(u),this.h()},h(){o(e,"class","mt-1 px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),o(e,"placeholder",t=s[14].t("Add a short description about what this model does")),o(e,"row","3")},m(r,m){O(r,e,m),ge(e,s[7].meta.description),a||(l=X(e,"input",s[29]),a=!0)},p(r,m){m[0]&16384&&t!==(t=r[14].t("Add a short description about what this model does"))&&o(e,"placeholder",t),m[0]&8320&&ge(e,r[7].meta.description)},d(r){r&&u(e),a=!1,l()}}}function ga(s){let e,t=s[14].t("Show")+"",a;return{c(){e=d("span"),a=N(t),this.h()},l(l){e=_(l,"SPAN",{class:!0});var r=p(e);a=P(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,a)},p(l,r){r[0]&16384&&t!==(t=l[14].t("Show")+"")&&C(a,t)},d(l){l&&u(e)}}}function ba(s){let e,t=s[14].t("Hide")+"",a;return{c(){e=d("span"),a=N(t),this.h()},l(l){e=_(l,"SPAN",{class:!0});var r=p(e);a=P(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,a)},p(l,r){r[0]&16384&&t!==(t=l[14].t("Hide")+"")&&C(a,t)},d(l){l&&u(e)}}}function js(s){let e,t,a,l;function r(g){s[32](g)}let m={admin:!0};return s[8]!==void 0&&(m.params=s[8]),t=new oa({props:m}),Ft.push(()=>_l(t,"params",r)),t.$on("change",s[33]),{c(){e=d("div"),It(t.$$.fragment),this.h()},l(g){e=_(g,"DIV",{class:!0});var k=p(e);yt(t.$$.fragment,k),k.forEach(u),this.h()},h(){o(e,"class","my-2")},m(g,k){O(g,e,k),Et(t,e,null),l=!0},p(g,k){const V={};!a&&k[0]&256&&(a=!0,V.params=g[8],dl(()=>a=!1)),t.$set(V)},i(g){l||(G(t.$$.fragment,g),l=!0)},o(g){ie(t.$$.fragment,g),l=!1},d(g){g&&u(e),Dt(t)}}}function ka(s){let e,t=s[14].t("Custom")+"",a;return{c(){e=d("span"),a=N(t),this.h()},l(l){e=_(l,"SPAN",{class:!0});var r=p(e);a=P(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,a)},p(l,r){r[0]&16384&&t!==(t=l[14].t("Custom")+"")&&C(a,t)},d(l){l&&u(e)}}}function wa(s){let e,t=s[14].t("Default")+"",a;return{c(){e=d("span"),a=N(t),this.h()},l(l){e=_(l,"SPAN",{class:!0});var r=p(e);a=P(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,a)},p(l,r){r[0]&16384&&t!==(t=l[14].t("Default")+"")&&C(a,t)},d(l){l&&u(e)}}}function Us(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',a,l;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Rt(e)!=="svelte-j580ct"&&(e.innerHTML=t),this.h()},h(){o(e,"class","p-1 px-2 text-xs flex rounded transition"),o(e,"type","button")},m(r,m){O(r,e,m),a||(l=X(e,"click",s[35]),a=!0)},p:Hl,d(r){r&&u(e),a=!1,l()}}}function Hs(s){let e;function t(r,m){return r[7].meta.suggestion_prompts.length>0?ya:Ia}let a=t(s),l=a(s);return{c(){e=d("div"),l.c(),this.h()},l(r){e=_(r,"DIV",{class:!0});var m=p(e);l.l(m),m.forEach(u),this.h()},h(){o(e,"class","flex flex-col space-y-1 mt-2")},m(r,m){O(r,e,m),l.m(e,null)},p(r,m){a===(a=t(r))&&l?l.p(r,m):(l.d(1),l=a(r),l&&(l.c(),l.m(e,null)))},d(r){r&&u(e),l.d()}}}function Ia(s){let e,t="No suggestion prompts";return{c(){e=d("div"),e.textContent=t,this.h()},l(a){e=_(a,"DIV",{class:!0,"data-svelte-h":!0}),Rt(e)!=="svelte-18dnedh"&&(e.textContent=t),this.h()},h(){o(e,"class","text-xs text-center")},m(a,l){O(a,e,l)},p:Hl,d(a){a&&u(e)}}}function ya(s){let e,t=Tt(s[7].meta.suggestion_prompts),a=[];for(let l=0;l<t.length;l+=1)a[l]=Ls(Ns(s,t,l));return{c(){for(let l=0;l<a.length;l+=1)a[l].c();e=Vs()},l(l){for(let r=0;r<a.length;r+=1)a[r].l(l);e=Vs()},m(l,r){for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(l,r);O(l,e,r)},p(l,r){if(r[0]&16512){t=Tt(l[7].meta.suggestion_prompts);let m;for(m=0;m<t.length;m+=1){const g=Ns(l,t,m);a[m]?a[m].p(g,r):(a[m]=Ls(g),a[m].c(),a[m].m(e.parentNode,e))}for(;m<a.length;m+=1)a[m].d(1);a.length=t.length}},d(l){l&&u(e),Ul(a,l)}}}function Ls(s){let e,t,a,l,r,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',g,k,V;function E(){s[36].call(t,s[52],s[53])}function D(){return s[37](s[53])}return{c(){e=d("div"),t=d("input"),l=w(),r=d("button"),r.innerHTML=m,g=w(),this.h()},l(S){e=_(S,"DIV",{class:!0});var A=p(e);t=_(A,"INPUT",{class:!0,placeholder:!0}),l=I(A),r=_(A,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Rt(r)!=="svelte-8f7b7y"&&(r.innerHTML=m),g=I(A),A.forEach(u),this.h()},h(){o(t,"class","px-3 py-1.5 text-sm w-full bg-transparent outline-none border-r dark:border-gray-600"),o(t,"placeholder",a=s[14].t("Write a prompt suggestion (e.g. Who are you?)")),o(r,"class","px-2"),o(r,"type","button"),o(e,"class","flex border dark:border-gray-600 rounded-lg")},m(S,A){O(S,e,A),n(e,t),ge(t,s[51].content),n(e,l),n(e,r),n(e,g),k||(V=[X(t,"input",E),X(r,"click",D)],k=!0)},p(S,A){s=S,A[0]&16384&&a!==(a=s[14].t("Write a prompt suggestion (e.g. Who are you?)"))&&o(t,"placeholder",a),A[0]&8320&&t.value!==s[51].content&&ge(t,s[51].content)},d(S){S&&u(e),k=!1,jl(V)}}}function Fs(s){let e,t,a,l,r=s[14].t(s[48])+"",m,g,k;function V(...E){return s[41](s[48],...E)}return t=new ca({props:{state:s[9][s[48]]?"checked":"unchecked"}}),t.$on("change",V),{c(){e=d("div"),It(t.$$.fragment),a=w(),l=d("div"),m=N(r),g=w(),this.h()},l(E){e=_(E,"DIV",{class:!0});var D=p(e);yt(t.$$.fragment,D),a=I(D),l=_(D,"DIV",{class:!0});var S=p(l);m=P(S,r),S.forEach(u),g=I(D),D.forEach(u),this.h()},h(){o(l,"class","py-0.5 text-sm w-full capitalize"),o(e,"class","flex items-center gap-2")},m(E,D){O(E,e,D),Et(t,e,null),n(e,a),n(e,l),n(l,m),n(e,g),k=!0},p(E,D){s=E;const S={};D[0]&512&&(S.state=s[9][s[48]]?"checked":"unchecked"),t.$set(S),(!k||D[0]&16896)&&r!==(r=s[14].t(s[48])+"")&&C(m,r)},i(E){k||(G(t.$$.fragment,E),k=!0)},o(E){ie(t.$$.fragment,E),k=!1},d(E){E&&u(e),Dt(t)}}}function Ea(s){let e,t=s[14].t("Show")+"",a;return{c(){e=d("span"),a=N(t),this.h()},l(l){e=_(l,"SPAN",{class:!0});var r=p(e);a=P(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,a)},p(l,r){r[0]&16384&&t!==(t=l[14].t("Show")+"")&&C(a,t)},d(l){l&&u(e)}}}function Da(s){let e,t=s[14].t("Hide")+"",a;return{c(){e=d("span"),a=N(t),this.h()},l(l){e=_(l,"SPAN",{class:!0});var r=p(e);a=P(r,t),r.forEach(u),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){O(l,e,r),n(e,a)},p(l,r){r[0]&16384&&t!==(t=l[14].t("Hide")+"")&&C(a,t)},d(l){l&&u(e)}}}function Rs(s){let e,t,a;return{c(){e=d("div"),t=d("textarea"),this.h()},l(l){e=_(l,"DIV",{});var r=p(e);t=_(r,"TEXTAREA",{class:!0,rows:!0}),p(t).forEach(u),r.forEach(u),this.h()},h(){o(t,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),o(t,"rows","10"),t.value=a=JSON.stringify(s[7],null,2),t.disabled=!0,t.readOnly=!0},m(l,r){O(l,e,r),n(e,t)},p(l,r){r[0]&8320&&a!==(a=JSON.stringify(l[7],null,2))&&(t.value=a)},d(l){l&&u(e)}}}function zs(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
										transform-origin: center;
										animation: spinner_AtaB 0.75s infinite linear;
									}
									@keyframes spinner_AtaB {
										100% {
											transform: rotate(360deg);
										}
									}
								</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(a){e=_(a,"DIV",{class:!0,"data-svelte-h":!0}),Rt(e)!=="svelte-1k8nuce"&&(e.innerHTML=t),this.h()},h(){o(e,"class","ml-1.5 self-center")},m(a,l){O(a,e,l)},d(a){a&&u(e)}}}function Ta(s){let e,t,a,l,r,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z" clip-rule="evenodd"></path></svg>',g,k,V=s[14].t("Back")+"",E,D,S,A,h,v=s[17]&&Ms(s);return{c(){e=d("div"),t=d("input"),a=w(),l=d("button"),r=d("div"),r.innerHTML=m,g=w(),k=d("div"),E=N(V),D=w(),v&&v.c(),this.h()},l(T){e=_(T,"DIV",{class:!0});var i=p(e);t=_(i,"INPUT",{type:!0,accept:!0}),a=I(i),l=_(i,"BUTTON",{class:!0});var y=p(l);r=_(y,"DIV",{class:!0,"data-svelte-h":!0}),Rt(r)!=="svelte-1klo87r"&&(r.innerHTML=m),g=I(y),k=_(y,"DIV",{class:!0});var B=p(k);E=P(B,V),B.forEach(u),y.forEach(u),D=I(i),v&&v.l(i),i.forEach(u),this.h()},h(){o(t,"type","file"),t.hidden=!0,o(t,"accept","image/*"),o(r,"class","self-center"),o(k,"class","self-center font-medium text-sm"),o(l,"class","flex space-x-1"),o(e,"class","w-full max-h-full")},m(T,i){O(T,e,i),n(e,t),s[20](t),n(e,a),n(e,l),n(l,r),n(l,g),n(l,k),n(k,E),n(e,D),v&&v.m(e,null),S=!0,A||(h=[X(t,"change",s[21]),X(t,"change",s[22]),X(l,"click",s[23])],A=!0)},p(T,i){(!S||i[0]&16384)&&V!==(V=T[14].t("Back")+"")&&C(E,V),T[17]?v?(v.p(T,i),i[0]&131072&&G(v,1)):(v=Ms(T),v.c(),G(v,1),v.m(e,null)):v&&(Bl(),ie(v,1,1,()=>{v=null}),Ol())},i(T){S||(G(v),S=!0)},o(T){ie(v),S=!1},d(T){T&&u(e),s[20](null),v&&v.d(),A=!1,jl(h)}}}const Ws=s=>s.type==="filter";function Va(s,e,t){let a,l,r,m,g;Lt(s,Ss,b=>t(13,a=b)),Lt(s,sa,b=>t(47,l=b)),Lt(s,aa,b=>t(15,m=b)),Lt(s,ra,b=>t(16,g=b));const k=Zs("i18n");Lt(s,k,b=>t(14,r=b));let V=!1,E,D,S=!1,A=!1,h=null,v="",T="",i={id:"",base_model_id:null,name:"",meta:{profile_image_url:"/static/favicon.png",description:"",suggestion_prompts:null,tags:[]},params:{system:""}},y={},B={vision:!0},Y=[],K=[],be=[];const xe=async()=>{t(0,V=!0),t(7,i.id=v,i),t(7,i.name=T,i),t(7,i.meta.capabilities=B,i),Y.length>0?t(7,i.meta.knowledge=Y,i):i.meta.knowledge&&delete i.meta.knowledge,K.length>0?t(7,i.meta.toolIds=K,i):i.meta.toolIds&&delete i.meta.toolIds,be.length>0?t(7,i.meta.filterIds=be,i):i.meta.filterIds&&delete i.meta.filterIds,t(7,i.params.stop=y.stop?y.stop.split(",").filter(j=>j.trim()):null,i),Object.keys(i.params).forEach(j=>{(i.params[j]===""||i.params[j]===null)&&delete i.params[j]}),await na(localStorage.token,i.id,i)&&(await Ss.set(await ia(localStorage.token)),la.success(r.t("Model updated successfully")),await fl("/workspace/models")),t(0,V=!1)};Gs(()=>{var j,Ie,F,fe,$,ee,te,re,Be,Q,je,rt,Xe,nt,ne,oe,de;const b=l.url.searchParams.get("id");b?(t(17,h=a.find(Ue=>Ue.id===b)),h?(t(5,v=h.id),t(6,T=h.name),t(7,i={...i,...JSON.parse(JSON.stringify(h!=null&&h.info?h==null?void 0:h.info:{id:h.id,name:h.name}))}),h.preset&&h.owned_by==="ollama"&&!i.base_model_id.includes(":")&&t(7,i.base_model_id=`${i.base_model_id}:latest`,i),t(8,y={...y,...(j=h==null?void 0:h.info)==null?void 0:j.params}),t(8,y.stop=y!=null&&y.stop?(typeof y.stop=="string"?y.stop.split(","):(y==null?void 0:y.stop)??[]).join(","):null,y),(F=(Ie=h==null?void 0:h.info)==null?void 0:Ie.meta)!=null&&F.knowledge&&t(10,Y=[...($=(fe=h==null?void 0:h.info)==null?void 0:fe.meta)==null?void 0:$.knowledge]),(te=(ee=h==null?void 0:h.info)==null?void 0:ee.meta)!=null&&te.toolIds&&t(11,K=[...(Be=(re=h==null?void 0:h.info)==null?void 0:re.meta)==null?void 0:Be.toolIds]),(je=(Q=h==null?void 0:h.info)==null?void 0:Q.meta)!=null&&je.filterIds&&t(12,be=[...(Xe=(rt=h==null?void 0:h.info)==null?void 0:rt.meta)==null?void 0:Xe.filterIds]),(h==null?void 0:h.owned_by)==="openai"&&t(9,B.usage=!1,B),(ne=(nt=h==null?void 0:h.info)==null?void 0:nt.meta)!=null&&ne.capabilities&&t(9,B={...B,...(de=(oe=h==null?void 0:h.info)==null?void 0:oe.meta)==null?void 0:de.capabilities}),console.log(h)):fl("/workspace/models")):fl("/workspace/models")});function ze(b){Ft[b?"unshift":"push"](()=>{E=b,t(1,E)})}function x(){D=this.files,t(2,D)}const $e=()=>{let b=new FileReader;b.onload=j=>{let Ie=`${j.target.result}`;const F=new Image;F.src=Ie,F.onload=function(){const fe=document.createElement("canvas"),$=fe.getContext("2d"),ee=F.width/F.height;let te,re;ee>1?(te=250*ee,re=250):(te=250,re=250/ee),fe.width=250,fe.height=250;const Be=(250-te)/2,Q=(250-re)/2;$.drawImage(F,Be,Q,te,re);const je=fe.toDataURL("image/jpeg");t(7,i.meta.profile_image_url=je,i),t(2,D=null)}},D&&D.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(D[0].type)?b.readAsDataURL(D[0]):(console.log(`Unsupported File Type '${D[0].type}'.`),t(2,D=null))},Vt=()=>{fl("/workspace/models")},et=()=>{E.click()};function ce(){T=this.value,t(6,T)}const ke=b=>b.id!==h.id&&!(b!=null&&b.preset);function Me(){i.base_model_id=$s(this),t(7,i)}const We=()=>{i.meta.description===null?t(7,i.meta.description="",i):t(7,i.meta.description=null,i)};function tt(){i.meta.description=this.value,t(7,i)}function St(){i.params.system=this.value,t(7,i)}const ue=()=>{t(3,S=!S)};function At(b){y=b,t(8,y)}const Nt=b=>{t(7,i.params={...i.params,...y},i)},lt=()=>{var b;(((b=i==null?void 0:i.meta)==null?void 0:b.suggestion_prompts)??null)===null?t(7,i.meta.suggestion_prompts=[{content:""}],i):t(7,i.meta.suggestion_prompts=null,i)},Pt=()=>{(i.meta.suggestion_prompts.length===0||i.meta.suggestion_prompts.at(-1).content!=="")&&t(7,i.meta.suggestion_prompts=[...i.meta.suggestion_prompts,{content:""}],i)};function we(b,j){b[j].content=this.value,t(7,i)}const Ce=b=>{i.meta.suggestion_prompts.splice(b,1),t(7,i)};function Oe(b){Y=b,t(10,Y)}function Je(b){K=b,t(11,K)}function st(b){be=b,t(12,be)}return[V,E,D,S,A,v,T,i,y,B,Y,K,be,a,r,m,g,h,k,xe,ze,x,$e,Vt,et,ce,ke,Me,We,tt,St,ue,At,Nt,lt,Pt,we,Ce,Oe,Je,st,(b,j)=>{t(9,B[b]=j.detail==="checked",B)},b=>{t(7,i.meta.tags=i.meta.tags.filter(j=>j.name!==b),i)},b=>{var j;console.log(b),((j=i==null?void 0:i.meta)==null?void 0:j.tags)??null?t(7,i.meta.tags=[...i.meta.tags,{name:b}],i):t(7,i.meta.tags=[{name:b}],i)},()=>{t(4,A=!A)},()=>{xe()}]}class za extends ea{constructor(e){super(),ta(this,e,Va,Ta,Ks,{},null,[-1,-1])}}export{za as component};
//# sourceMappingURL=18.1d0b3986.js.map
