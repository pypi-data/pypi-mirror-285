import{s as Re,a as S,e as Ve,M as Fe,d as p,c as D,i as z,w as ie,P as Le,o as qe,f as w,g as y,R as We,h as g,j as a,r as n,l as M,m as T,Q as se,u as le,O as Ge,n as j,C as Ce,v as Qe,z as W,A as G}from"../chunks/scheduler.8ceb707f.js";import{S as Ze,i as Je,a as oe,t as ue,c as Oe,g as Ye,b as Ke,d as Xe,m as xe,e as $e}from"../chunks/index.07e72a31.js";import{g as Ne}from"../chunks/navigation.0b220c4f.js";import{g as et,i as tt,j as lt}from"../chunks/index.88cbe644.js";import{S as rt}from"../chunks/Spinner.73030589.js";import{c as at,u as Be,s as it,W as st,a as ve}from"../chunks/index.66fe6140.js";import{a as pe}from"../chunks/Toaster.svelte_svelte_type_style_lang.a1b53f72.js";import{g as ot}from"../chunks/index.a7efe246.js";import{p as nt}from"../chunks/stores.6f65b3f9.js";function Ae(s){let e,t=`<div class="flex space-x-2"><div class="self-center"><img crossorigin="anonymous" src="${ve}/static/favicon.png" class="w-8 rounded-full" alt="logo"/></div></div>`,i,d,r,l,f,c;const b=[ft,ut],m=[];function v(o,u){var h,_;return(((h=o[5])==null?void 0:h.features.auth_trusted_header)??!1)||((_=o[5])==null?void 0:_.features.auth)===!1?0:1}return l=v(s),f=m[l]=b[l](s),{c(){e=w("div"),e.innerHTML=t,i=S(),d=w("div"),r=w("div"),f.c(),this.h()},l(o){e=y(o,"DIV",{class:!0,"data-svelte-h":!0}),We(e)!=="svelte-18zumjz"&&(e.innerHTML=t),i=D(o),d=y(o,"DIV",{class:!0});var u=g(d);r=y(u,"DIV",{class:!0});var h=g(r);f.l(h),h.forEach(p),u.forEach(p),this.h()},h(){a(e,"class","fixed m-10 z-50"),a(r,"class","w-full sm:max-w-md px-10 min-h-screen flex flex-col text-center"),a(d,"class","bg-white dark:bg-gray-950 min-h-screen w-full flex justify-center font-primary")},m(o,u){z(o,e,u),z(o,i,u),z(o,d,u),n(d,r),m[l].m(r,null),c=!0},p(o,u){let h=l;l=v(o),l===h?m[l].p(o,u):(Ye(),ue(m[h],1,1,()=>{m[h]=null}),Oe(),f=m[l],f?f.p(o,u):(f=m[l]=b[l](o),f.c()),oe(f,1),f.m(r,null))},i(o){c||(oe(f),c=!0)},o(o){ue(f),c=!1},d(o){o&&(p(e),p(i),p(d)),m[l].d()}}}function ut(s){var we,ye,Ee;let e,t,i,d,r=(s[1]==="signin"?s[6].t("Sign in"):s[6].t("Sign up"))+"",l,f,c=s[6].t("to")+"",b,m,v,o,u,h,_,k,C,U=s[6].t("Email")+"",Q,ee,P,K,V,N,q,H=s[6].t("Password")+"",te,I,A,Z,X,L,J,ne=(s[1]==="signin"?s[6].t("Sign in"):s[6].t("Create Account"))+"",fe,me,_e,ge=Object.keys(((ye=(we=s[5])==null?void 0:we.oauth)==null?void 0:ye.providers)??{}).length>0,be,ke,O=s[1]==="signup"&&Me(s),Y=s[1]==="signup"&&Te(s),R=((Ee=s[5])==null?void 0:Ee.features.enable_signup)&&Ue(s),F=ge&&Pe(s);return{c(){e=w("div"),t=w("form"),i=w("div"),d=w("div"),l=M(r),f=S(),b=M(c),m=S(),v=M(s[7]),o=S(),O&&O.c(),u=S(),h=w("div"),Y&&Y.c(),_=S(),k=w("div"),C=w("div"),Q=M(U),ee=S(),P=w("input"),V=S(),N=w("div"),q=w("div"),te=M(H),I=S(),A=w("input"),X=S(),L=w("div"),J=w("button"),fe=M(ne),me=S(),R&&R.c(),_e=S(),F&&F.c(),this.h()},l(E){e=y(E,"DIV",{class:!0});var B=g(e);t=y(B,"FORM",{class:!0});var x=g(t);i=y(x,"DIV",{class:!0});var re=g(i);d=y(re,"DIV",{class:!0});var $=g(d);l=T($,r),f=D($),b=T($,c),m=D($),v=T($,s[7]),$.forEach(p),o=D(re),O&&O.l(re),re.forEach(p),u=D(x),h=y(x,"DIV",{class:!0});var ae=g(h);Y&&Y.l(ae),_=D(ae),k=y(ae,"DIV",{class:!0});var de=g(k);C=y(de,"DIV",{class:!0});var Ie=g(C);Q=T(Ie,U),Ie.forEach(p),ee=D(de),P=y(de,"INPUT",{type:!0,class:!0,autocomplete:!0,placeholder:!0}),de.forEach(p),V=D(ae),N=y(ae,"DIV",{});var ce=g(N);q=y(ce,"DIV",{class:!0});var Se=g(q);te=T(Se,H),Se.forEach(p),I=D(ce),A=y(ce,"INPUT",{type:!0,class:!0,placeholder:!0,autocomplete:!0}),ce.forEach(p),ae.forEach(p),X=D(x),L=y(x,"DIV",{class:!0});var he=g(L);J=y(he,"BUTTON",{class:!0,type:!0});var De=g(J);fe=T(De,ne),De.forEach(p),me=D(he),R&&R.l(he),he.forEach(p),x.forEach(p),_e=D(B),F&&F.l(B),B.forEach(p),this.h()},h(){a(d,"class","text-2xl font-medium"),a(i,"class","mb-1"),a(C,"class","text-sm font-medium text-left mb-1"),a(P,"type","email"),a(P,"class","px-5 py-3 rounded-2xl w-full text-sm outline-none border dark:border-none dark:bg-gray-900"),a(P,"autocomplete","email"),a(P,"placeholder",K=s[6].t("Enter Your Email")),P.required=!0,a(k,"class","mb-2"),a(q,"class","text-sm font-medium text-left mb-1"),a(A,"type","password"),a(A,"class","px-5 py-3 rounded-2xl w-full text-sm outline-none border dark:border-none dark:bg-gray-900"),a(A,"placeholder",Z=s[6].t("Enter Your Password")),a(A,"autocomplete","current-password"),A.required=!0,a(h,"class","flex flex-col mt-4"),a(J,"class","bg-gray-900 hover:bg-gray-800 w-full rounded-2xl text-white font-medium text-sm py-3 transition"),a(J,"type","submit"),a(L,"class","mt-5"),a(t,"class","flex flex-col justify-center"),a(e,"class","my-auto pb-10 w-full dark:text-gray-100")},m(E,B){z(E,e,B),n(e,t),n(t,i),n(i,d),n(d,l),n(d,f),n(d,b),n(d,m),n(d,v),n(i,o),O&&O.m(i,null),n(t,u),n(t,h),Y&&Y.m(h,null),n(h,_),n(h,k),n(k,C),n(C,Q),n(k,ee),n(k,P),se(P,s[3]),n(h,V),n(h,N),n(N,q),n(q,te),n(N,I),n(N,A),se(A,s[4]),n(t,X),n(t,L),n(L,J),n(J,fe),n(L,me),R&&R.m(L,null),n(e,_e),F&&F.m(e,null),be||(ke=[le(P,"input",s[11]),le(A,"input",s[12]),le(t,"submit",Ge(s[14]))],be=!0)},p(E,B){var x,re,$;B&66&&r!==(r=(E[1]==="signin"?E[6].t("Sign in"):E[6].t("Sign up"))+"")&&j(l,r),B&64&&c!==(c=E[6].t("to")+"")&&j(b,c),B&128&&j(v,E[7]),E[1]==="signup"?O?O.p(E,B):(O=Me(E),O.c(),O.m(i,null)):O&&(O.d(1),O=null),E[1]==="signup"?Y?Y.p(E,B):(Y=Te(E),Y.c(),Y.m(h,_)):Y&&(Y.d(1),Y=null),B&64&&U!==(U=E[6].t("Email")+"")&&j(Q,U),B&64&&K!==(K=E[6].t("Enter Your Email"))&&a(P,"placeholder",K),B&8&&P.value!==E[3]&&se(P,E[3]),B&64&&H!==(H=E[6].t("Password")+"")&&j(te,H),B&64&&Z!==(Z=E[6].t("Enter Your Password"))&&a(A,"placeholder",Z),B&16&&A.value!==E[4]&&se(A,E[4]),B&66&&ne!==(ne=(E[1]==="signin"?E[6].t("Sign in"):E[6].t("Create Account"))+"")&&j(fe,ne),(x=E[5])!=null&&x.features.enable_signup?R?R.p(E,B):(R=Ue(E),R.c(),R.m(L,null)):R&&(R.d(1),R=null),B&32&&(ge=Object.keys((($=(re=E[5])==null?void 0:re.oauth)==null?void 0:$.providers)??{}).length>0),ge?F?F.p(E,B):(F=Pe(E),F.c(),F.m(e,null)):F&&(F.d(1),F=null)},i:Ce,o:Ce,d(E){E&&p(e),O&&O.d(),Y&&Y.d(),R&&R.d(),F&&F.d(),be=!1,Qe(ke)}}}function ft(s){let e,t,i,d=s[6].t("Signing in")+"",r,l,f=s[6].t("to")+"",c,b,m,v,o,u,h;return u=new rt({}),{c(){e=w("div"),t=w("div"),i=w("div"),r=M(d),l=S(),c=M(f),b=S(),m=M(s[7]),v=S(),o=w("div"),Ke(u.$$.fragment),this.h()},l(_){e=y(_,"DIV",{class:!0});var k=g(e);t=y(k,"DIV",{class:!0});var C=g(t);i=y(C,"DIV",{});var U=g(i);r=T(U,d),l=D(U),c=T(U,f),b=D(U),m=T(U,s[7]),U.forEach(p),v=D(C),o=y(C,"DIV",{});var Q=g(o);Xe(u.$$.fragment,Q),Q.forEach(p),C.forEach(p),k.forEach(p),this.h()},h(){a(t,"class","flex items-center justify-center gap-3 text-xl sm:text-2xl text-center font-semibold dark:text-gray-200"),a(e,"class","my-auto pb-10 w-full")},m(_,k){z(_,e,k),n(e,t),n(t,i),n(i,r),n(i,l),n(i,c),n(i,b),n(i,m),n(t,v),n(t,o),xe(u,o,null),h=!0},p(_,k){(!h||k&64)&&d!==(d=_[6].t("Signing in")+"")&&j(r,d),(!h||k&64)&&f!==(f=_[6].t("to")+"")&&j(c,f),(!h||k&128)&&j(m,_[7])},i(_){h||(oe(u.$$.fragment,_),h=!0)},o(_){ue(u.$$.fragment,_),h=!1},d(_){_&&p(e),$e(u)}}}function Me(s){let e,t,i,d,r=s[6].t("does not make any external connections, and your data stays securely on your locally hosted server.")+"",l;return{c(){e=w("div"),t=M("ⓘ "),i=M(s[7]),d=S(),l=M(r),this.h()},l(f){e=y(f,"DIV",{class:!0});var c=g(e);t=T(c,"ⓘ "),i=T(c,s[7]),d=D(c),l=T(c,r),c.forEach(p),this.h()},h(){a(e,"class","mt-1 text-xs font-medium text-gray-500")},m(f,c){z(f,e,c),n(e,t),n(e,i),n(e,d),n(e,l)},p(f,c){c&128&&j(i,f[7]),c&64&&r!==(r=f[6].t("does not make any external connections, and your data stays securely on your locally hosted server.")+"")&&j(l,r)},d(f){f&&p(e)}}}function Te(s){let e,t,i=s[6].t("Name")+"",d,r,l,f,c,b,m,v;return{c(){e=w("div"),t=w("div"),d=M(i),r=S(),l=w("input"),c=S(),b=w("hr"),this.h()},l(o){e=y(o,"DIV",{});var u=g(e);t=y(u,"DIV",{class:!0});var h=g(t);d=T(h,i),h.forEach(p),r=D(u),l=y(u,"INPUT",{type:!0,class:!0,autocomplete:!0,placeholder:!0}),u.forEach(p),c=D(o),b=y(o,"HR",{class:!0}),this.h()},h(){a(t,"class","text-sm font-medium text-left mb-1"),a(l,"type","text"),a(l,"class","px-5 py-3 rounded-2xl w-full text-sm outline-none border dark:border-none dark:bg-gray-900"),a(l,"autocomplete","name"),a(l,"placeholder",f=s[6].t("Enter Your Full Name")),l.required=!0,a(b,"class","my-3 dark:border-gray-900")},m(o,u){z(o,e,u),n(e,t),n(t,d),n(e,r),n(e,l),se(l,s[2]),z(o,c,u),z(o,b,u),m||(v=le(l,"input",s[10]),m=!0)},p(o,u){u&64&&i!==(i=o[6].t("Name")+"")&&j(d,i),u&64&&f!==(f=o[6].t("Enter Your Full Name"))&&a(l,"placeholder",f),u&4&&l.value!==o[2]&&se(l,o[2])},d(o){o&&(p(e),p(c),p(b)),m=!1,v()}}}function Ue(s){let e,t=(s[1]==="signin"?s[6].t("Don't have an account?"):s[6].t("Already have an account?"))+"",i,d,r,l=(s[1]==="signin"?s[6].t("Sign up"):s[6].t("Sign in"))+"",f,c,b;return{c(){e=w("div"),i=M(t),d=S(),r=w("button"),f=M(l),this.h()},l(m){e=y(m,"DIV",{class:!0});var v=g(e);i=T(v,t),d=D(v),r=y(v,"BUTTON",{class:!0,type:!0});var o=g(r);f=T(o,l),o.forEach(p),v.forEach(p),this.h()},h(){a(r,"class","font-medium underline"),a(r,"type","button"),a(e,"class","mt-4 text-sm text-center")},m(m,v){z(m,e,v),n(e,i),n(e,d),n(e,r),n(r,f),c||(b=le(r,"click",s[13]),c=!0)},p(m,v){v&66&&t!==(t=(m[1]==="signin"?m[6].t("Don't have an account?"):m[6].t("Already have an account?"))+"")&&j(i,t),v&66&&l!==(l=(m[1]==="signin"?m[6].t("Sign up"):m[6].t("Sign in"))+"")&&j(f,l)},d(m){m&&p(e),c=!1,b()}}}function Pe(s){var h,_,k,C,U,Q,ee,P,K;let e,t,i,d,r=s[6].t("or")+"",l,f,c,b,m,v=((k=(_=(h=s[5])==null?void 0:h.oauth)==null?void 0:_.providers)==null?void 0:k.google)&&je(s),o=((Q=(U=(C=s[5])==null?void 0:C.oauth)==null?void 0:U.providers)==null?void 0:Q.microsoft)&&ze(s),u=((K=(P=(ee=s[5])==null?void 0:ee.oauth)==null?void 0:P.providers)==null?void 0:K.oidc)&&He(s);return{c(){e=w("div"),t=w("hr"),i=S(),d=w("span"),l=M(r),f=S(),c=w("div"),v&&v.c(),b=S(),o&&o.c(),m=S(),u&&u.c(),this.h()},l(V){e=y(V,"DIV",{class:!0});var N=g(e);t=y(N,"HR",{class:!0}),i=D(N),d=y(N,"SPAN",{class:!0});var q=g(d);l=T(q,r),q.forEach(p),N.forEach(p),f=D(V),c=y(V,"DIV",{class:!0});var H=g(c);v&&v.l(H),b=D(H),o&&o.l(H),m=D(H),u&&u.l(H),H.forEach(p),this.h()},h(){a(t,"class","w-64 h-px my-8 bg-gray-200 border-0 dark:bg-gray-700"),a(d,"class","absolute px-3 font-medium text-gray-900 -translate-x-1/2 bg-white left-1/2 dark:text-white dark:bg-gray-950"),a(e,"class","inline-flex items-center justify-center w-full"),a(c,"class","flex flex-col space-y-2")},m(V,N){z(V,e,N),n(e,t),n(e,i),n(e,d),n(d,l),z(V,f,N),z(V,c,N),v&&v.m(c,null),n(c,b),o&&o.m(c,null),n(c,m),u&&u.m(c,null)},p(V,N){var q,H,te,I,A,Z,X,L,J;N&64&&r!==(r=V[6].t("or")+"")&&j(l,r),(te=(H=(q=V[5])==null?void 0:q.oauth)==null?void 0:H.providers)!=null&&te.google?v?v.p(V,N):(v=je(V),v.c(),v.m(c,b)):v&&(v.d(1),v=null),(Z=(A=(I=V[5])==null?void 0:I.oauth)==null?void 0:A.providers)!=null&&Z.microsoft?o?o.p(V,N):(o=ze(V),o.c(),o.m(c,m)):o&&(o.d(1),o=null),(J=(L=(X=V[5])==null?void 0:X.oauth)==null?void 0:L.providers)!=null&&J.oidc?u?u.p(V,N):(u=He(V),u.c(),u.m(c,null)):u&&(u.d(1),u=null)},d(V){V&&(p(e),p(f),p(c)),v&&v.d(),o&&o.d(),u&&u.d()}}}function je(s){let e,t,i,d,r,l,f,c,b,m=s[6].t("Continue with {{provider}}",{provider:"Google"})+"",v,o,u;return{c(){e=w("button"),t=W("svg"),i=W("path"),d=W("path"),r=W("path"),l=W("path"),f=W("path"),c=S(),b=w("span"),v=M(m),this.h()},l(h){e=y(h,"BUTTON",{class:!0});var _=g(e);t=G(_,"svg",{xmlns:!0,viewBox:!0,class:!0});var k=g(t);i=G(k,"path",{fill:!0,d:!0}),g(i).forEach(p),d=G(k,"path",{fill:!0,d:!0}),g(d).forEach(p),r=G(k,"path",{fill:!0,d:!0}),g(r).forEach(p),l=G(k,"path",{fill:!0,d:!0}),g(l).forEach(p),f=G(k,"path",{fill:!0,d:!0}),g(f).forEach(p),k.forEach(p),c=D(_),b=y(_,"SPAN",{});var C=g(b);v=T(C,m),C.forEach(p),_.forEach(p),this.h()},h(){a(i,"fill","#EA4335"),a(i,"d","M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"),a(d,"fill","#4285F4"),a(d,"d","M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"),a(r,"fill","#FBBC05"),a(r,"d","M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"),a(l,"fill","#34A853"),a(l,"d","M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"),a(f,"fill","none"),a(f,"d","M0 0h48v48H0z"),a(t,"xmlns","http://www.w3.org/2000/svg"),a(t,"viewBox","0 0 48 48"),a(t,"class","size-6 mr-3"),a(e,"class","flex items-center px-6 border-2 dark:border-gray-800 duration-300 dark:bg-gray-900 hover:bg-gray-100 dark:hover:bg-gray-800 w-full rounded-2xl dark:text-white text-sm py-3 transition")},m(h,_){z(h,e,_),n(e,t),n(t,i),n(t,d),n(t,r),n(t,l),n(t,f),n(e,c),n(e,b),n(b,v),o||(u=le(e,"click",s[15]),o=!0)},p(h,_){_&64&&m!==(m=h[6].t("Continue with {{provider}}",{provider:"Google"})+"")&&j(v,m)},d(h){h&&p(e),o=!1,u()}}}function ze(s){let e,t,i,d,r,l,f,c,b=s[6].t("Continue with {{provider}}",{provider:"Microsoft"})+"",m,v,o;return{c(){e=w("button"),t=W("svg"),i=W("rect"),d=W("rect"),r=W("rect"),l=W("rect"),f=S(),c=w("span"),m=M(b),this.h()},l(u){e=y(u,"BUTTON",{class:!0});var h=g(e);t=G(h,"svg",{xmlns:!0,viewBox:!0,class:!0});var _=g(t);i=G(_,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),g(i).forEach(p),d=G(_,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),g(d).forEach(p),r=G(_,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),g(r).forEach(p),l=G(_,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),g(l).forEach(p),_.forEach(p),f=D(h),c=y(h,"SPAN",{});var k=g(c);m=T(k,b),k.forEach(p),h.forEach(p),this.h()},h(){a(i,"x","1"),a(i,"y","1"),a(i,"width","9"),a(i,"height","9"),a(i,"fill","#f25022"),a(d,"x","1"),a(d,"y","11"),a(d,"width","9"),a(d,"height","9"),a(d,"fill","#00a4ef"),a(r,"x","11"),a(r,"y","1"),a(r,"width","9"),a(r,"height","9"),a(r,"fill","#7fba00"),a(l,"x","11"),a(l,"y","11"),a(l,"width","9"),a(l,"height","9"),a(l,"fill","#ffb900"),a(t,"xmlns","http://www.w3.org/2000/svg"),a(t,"viewBox","0 0 21 21"),a(t,"class","size-6 mr-3"),a(e,"class","flex items-center px-6 border-2 dark:border-gray-800 duration-300 dark:bg-gray-900 hover:bg-gray-100 dark:hover:bg-gray-800 w-full rounded-2xl dark:text-white text-sm py-3 transition")},m(u,h){z(u,e,h),n(e,t),n(t,i),n(t,d),n(t,r),n(t,l),n(e,f),n(e,c),n(c,m),v||(o=le(e,"click",s[16]),v=!0)},p(u,h){h&64&&b!==(b=u[6].t("Continue with {{provider}}",{provider:"Microsoft"})+"")&&j(m,b)},d(u){u&&p(e),v=!1,o()}}}function He(s){var m,v,o;let e,t,i,d,r,l=s[6].t("Continue with {{provider}}",{provider:((o=(v=(m=s[5])==null?void 0:m.oauth)==null?void 0:v.providers)==null?void 0:o.oidc)??"SSO"})+"",f,c,b;return{c(){e=w("button"),t=W("svg"),i=W("path"),d=S(),r=w("span"),f=M(l),this.h()},l(u){e=y(u,"BUTTON",{class:!0});var h=g(e);t=G(h,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var _=g(t);i=G(_,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(i).forEach(p),_.forEach(p),d=D(h),r=y(h,"SPAN",{});var k=g(r);f=T(k,l),k.forEach(p),h.forEach(p),this.h()},h(){a(i,"stroke-linecap","round"),a(i,"stroke-linejoin","round"),a(i,"d","M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"),a(t,"xmlns","http://www.w3.org/2000/svg"),a(t,"fill","none"),a(t,"viewBox","0 0 24 24"),a(t,"stroke-width","1.5"),a(t,"stroke","currentColor"),a(t,"class","size-6 mr-3"),a(e,"class","flex items-center px-6 border-2 dark:border-gray-800 duration-300 dark:bg-gray-900 hover:bg-gray-100 dark:hover:bg-gray-800 w-full rounded-2xl dark:text-white text-sm py-3 transition")},m(u,h){z(u,e,h),n(e,t),n(t,i),n(e,d),n(e,r),n(r,f),c||(b=le(e,"click",s[17]),c=!0)},p(u,h){var _,k,C;h&96&&l!==(l=u[6].t("Continue with {{provider}}",{provider:((C=(k=(_=u[5])==null?void 0:_.oauth)==null?void 0:k.providers)==null?void 0:C.oidc)??"SSO"})+"")&&j(f,l)},d(u){u&&p(e),c=!1,b()}}}function dt(s){let e,t,i,d;document.title=e=`
		${s[7]}
	`;let r=s[0]&&Ae(s);return{c(){t=S(),r&&r.c(),i=Ve()},l(l){Fe("svelte-sdpf07",document.head).forEach(p),t=D(l),r&&r.l(l),i=Ve()},m(l,f){z(l,t,f),r&&r.m(l,f),z(l,i,f),d=!0},p(l,[f]){(!d||f&128)&&e!==(e=`
		${l[7]}
	`)&&(document.title=e),l[0]?r?(r.p(l,f),f&1&&oe(r,1)):(r=Ae(l),r.c(),oe(r,1),r.m(i.parentNode,i)):r&&(Ye(),ue(r,1,1,()=>{r=null}),Oe())},i(l){d||(oe(r),d=!0)},o(l){ue(r),d=!1},d(l){l&&(p(t),p(i)),r&&r.d(l)}}}function ct(s,e,t){let i,d,r,l,f,c;ie(s,at,I=>t(5,i=I)),ie(s,Be,I=>t(18,d=I)),ie(s,nt,I=>t(19,r=I)),ie(s,it,I=>t(20,l=I)),ie(s,st,I=>t(7,c=I));const b=Le("i18n");ie(s,b,I=>t(6,f=I));let m=!1,v="signin",o="",u="",h="";const _=async I=>{I&&(console.log(I),pe.success(f.t("You're now logged in.")),I.token&&(localStorage.token=I.token),l.emit("user-join",{auth:{token:I.token}}),await Be.set(I),Ne("/"))},k=async()=>{const I=await tt(u,h).catch(A=>(pe.error(A),null));await _(I)},C=async()=>{const I=await lt(o,u,h,ot(o)).catch(A=>(pe.error(A),null));await _(I)},U=async()=>{v==="signin"?await k():await C()},Q=async()=>{if(!r.url.hash)return;const I=r.url.hash.substring(1);if(!I)return;const Z=new URLSearchParams(I).get("token");if(!Z)return;const X=await et(Z).catch(L=>(pe.error(L),null));X&&(localStorage.token=Z,await _(X))};qe(async()=>{d!==void 0&&await Ne("/"),await Q(),t(0,m=!0),(((i==null?void 0:i.features.auth_trusted_header)??!1)||(i==null?void 0:i.features.auth)===!1)&&await k()});function ee(){o=this.value,t(2,o)}function P(){u=this.value,t(3,u)}function K(){h=this.value,t(4,h)}return[m,v,o,u,h,i,f,c,b,U,ee,P,K,()=>{v==="signin"?t(1,v="signup"):t(1,v="signin")},()=>{U()},()=>{window.location.href=`${ve}/oauth/google/login`},()=>{window.location.href=`${ve}/oauth/microsoft/login`},()=>{window.location.href=`${ve}/oauth/oidc/login`}]}class yt extends Ze{constructor(e){super(),Je(this,e,ct,dt,Re,{})}}export{yt as component};
//# sourceMappingURL=25.98ccd346.js.map
