import{bC as $,r as s,j as l,bI as q,bD as J,cz as Q,bF as y,bG as I,bE as W,aw as X}from"./index-CGEQ_--f.js";import{c as Z,u as ee}from"./index-Cu1qntoJ.js";var A="rovingFocusGroup.onEntryFocus",oe={bubbles:!1,cancelable:!0},E="RovingFocusGroup",[N,D,te]=Z(E),[re,Fe]=$(E,[te]),[ne,se]=re(E),G=s.forwardRef((e,t)=>l.jsx(N.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(N.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(ae,{...e,ref:t})})}));G.displayName=E;var ae=s.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:o,loop:d=!1,dir:p,currentTabStopId:R,defaultCurrentTabStopId:b,onCurrentTabStopIdChange:v,onEntryFocus:c,preventScrollOnEntryFocus:w=!1,...T}=e,F=s.useRef(null),g=q(t,F),n=ee(p),[f=null,S]=J({prop:R,defaultProp:b,onChange:v}),[i,u]=s.useState(!1),C=Q(c),U=D(r),x=s.useRef(!1),[z,_]=s.useState(0);return s.useEffect(()=>{const a=F.current;if(a)return a.addEventListener(A,C),()=>a.removeEventListener(A,C)},[C]),l.jsx(ne,{scope:r,orientation:o,dir:n,loop:d,currentTabStopId:f,onItemFocus:s.useCallback(a=>S(a),[S]),onItemShiftTab:s.useCallback(()=>u(!0),[]),onFocusableItemAdd:s.useCallback(()=>_(a=>a+1),[]),onFocusableItemRemove:s.useCallback(()=>_(a=>a-1),[]),children:l.jsx(y.div,{tabIndex:i||z===0?-1:0,"data-orientation":o,...T,ref:g,style:{outline:"none",...e.style},onMouseDown:I(e.onMouseDown,()=>{x.current=!0}),onFocus:I(e.onFocus,a=>{const B=!x.current;if(a.target===a.currentTarget&&B&&!i){const O=new CustomEvent(A,oe);if(a.currentTarget.dispatchEvent(O),!O.defaultPrevented){const h=U().filter(m=>m.focusable),V=h.find(m=>m.active),Y=h.find(m=>m.id===f),H=[V,Y,...h].filter(Boolean).map(m=>m.ref.current);M(H,w)}}x.current=!1}),onBlur:I(e.onBlur,()=>u(!1))})})}),j="RovingFocusGroupItem",K=s.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:o=!0,active:d=!1,tabStopId:p,...R}=e,b=W(),v=p||b,c=se(j,r),w=c.currentTabStopId===v,T=D(r),{onFocusableItemAdd:F,onFocusableItemRemove:g}=c;return s.useEffect(()=>{if(o)return F(),()=>g()},[o,F,g]),l.jsx(N.ItemSlot,{scope:r,id:v,focusable:o,active:d,children:l.jsx(y.span,{tabIndex:w?0:-1,"data-orientation":c.orientation,...R,ref:t,onMouseDown:I(e.onMouseDown,n=>{o?c.onItemFocus(v):n.preventDefault()}),onFocus:I(e.onFocus,()=>c.onItemFocus(v)),onKeyDown:I(e.onKeyDown,n=>{if(n.key==="Tab"&&n.shiftKey){c.onItemShiftTab();return}if(n.target!==n.currentTarget)return;const f=ue(n,c.orientation,c.dir);if(f!==void 0){if(n.metaKey||n.ctrlKey||n.altKey||n.shiftKey)return;n.preventDefault();let i=T().filter(u=>u.focusable).map(u=>u.ref.current);if(f==="last")i.reverse();else if(f==="prev"||f==="next"){f==="prev"&&i.reverse();const u=i.indexOf(n.currentTarget);i=c.loop?le(i,u+1):i.slice(u+1)}setTimeout(()=>M(i))}})})})});K.displayName=j;var ce={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ie(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ue(e,t,r){const o=ie(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return ce[o]}function M(e,t=!1){const r=document.activeElement;for(const o of e)if(o===r||(o.focus({preventScroll:t}),document.activeElement!==r))return}function le(e,t){return e.map((r,o)=>e[(t+o)%e.length])}var Re=G,ge=K,fe="Separator",P="horizontal",de=["horizontal","vertical"],k=s.forwardRef((e,t)=>{const{decorative:r,orientation:o=P,...d}=e,p=pe(o)?o:P,b=r?{role:"none"}:{"aria-orientation":p==="vertical"?p:void 0,role:"separator"};return l.jsx(y.div,{"data-orientation":p,...b,...d,ref:t})});k.displayName=fe;function pe(e){return de.includes(e)}var L=k;const me=s.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...o},d)=>l.jsx(L,{ref:d,decorative:r,orientation:t,className:X("shrink-0 bg-ring/40",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...o}));me.displayName=L.displayName;export{ge as I,Re as R,me as S,Fe as c};
