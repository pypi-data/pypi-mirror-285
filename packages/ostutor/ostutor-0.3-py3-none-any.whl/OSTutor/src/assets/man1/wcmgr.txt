
wcmgr(1)                         The Webalizer                        wcmgr(1)

NAME
       wcmgr - Webalizer (DNS) Cache file Manager

SYNOPSIS
       wcmgr [ option ... ] cache-file

DESCRIPTION
       wcmgr  is  a utility program which allows manipulation of the DNS cache
       files used and produced by The Webalizer.  Each  record  in  the  cache
       file  contains an IP address (either IPv4 or IPv6), a timestamp of when
       the entry was added to the cache, a flag to indicate if the record con-
       tains  a  resolved name or not, and either the same IP address or a re-
       solved host name.  All records are accessed by their IP address.

RUNNING WCMGR
       wcmgr was designed to be run from the Unix shell  command  line.   This
       facilitates  its use in shell scripts and other automated processes.  A
       valid DNS cache file must be specified.  Command line options  are  op-
       tional,  and  if none are given, the default action is to list the con-
       tents of the specified cache file.

COMMAND LINE OPTIONS
       Different functions are selected by using one or more of the  following
       command  line options.  If no options are given, the default is to dis-
       play the contents of the cache file to the screen (stdout).

       -h      Display all available command line options and exit.

       -v      Be verbose.

       -V      Display the program version and exit.  Additional program  spe-
               cific  information  will  be  displayed if verbose mode is also
               used (e.g. '-vV'), which can be useful when submitting bug  re-
               ports.

       -a address [-n hostname] [-t0]
               Add  a  new  record  to the cache file.  The IP address will be
               added to the cache file using the current time as the timestamp
               and  with  a  resolved name hostname.  If -t0 is specified, the
               record will be considered permanent, and will  not  be  removed
               (during  a  purge)  or expired.  If a hostname is not specified
               with the -n option, then the address will be used instead,  and
               the record will be flagged as unresolved.

       -c      Create  a new cache file.  If used alone, this option will cre-
               ate a new, empty cache file.  If used with the import option, a
               new  cache  file will be created before importing the data.  An
               error will occur if the file cache-file already exists.

       -d address
               Delete a record from the cache file  using  the  specified  ad-
               dress.

       -f address
               Find  and  display information for address from the cache file.
               A single line similar to that produced by the -l option will be
               displayed  unless verbose mode is enabled, in which case a more
               detailed listing will be produced.

       -i name [-c]
               Import data into the cache file from the file name.  The import
               file must be a valid tab delimited text file, such as that cre-
               ated by the export  option.   If  the  imported  data  contains
               records  already  present in the cache file, those records will
               be overwritten by the imported data.  The cache file must exist
               unless  the  -c option is specified, in which case, a new cache
               file will be created for the imported data.

       -l      List the contents of the cache file.  This is the  default  ac-
               tion  of the program, so does not necessarily need to be speci-
               fied.  If verbose mode is enabled, a report title, column head-
               ers and summary totals will also be displayed.

       -p num  Purge the cache file of entries older than num days.  If num is
               not specified, then a default of 7 days will be used.  if  ver-
               bose  mode  is  enabled, each purged record will be printed and
               the total number of purged records will be displayed.

       -s [-t num]
               Display cache file information/statistics.  If a TTL value  (in
               days) is specified using the -t option, it will be used to cal-
               culate how many records are older than num days, otherwise, the
               default value of 7 days will be used.

       -n name Specify  the  name  to use as the resolved hostname when adding
               records to the cache.

       -t num  Time to live (TTL) value.  If used along with  the  -p  (purge)
               option,  it specifies how many days a record will remain valid.
               Any record that is older than num days  is  considered  expired
               and  will  be purged.  If used with the -a (add) option, a zero
               value will cause the record to be considered permanent.

       -x name Export data from a cache file to  a  tab  delimited  text  file
               named name.  If the text file name exists, it will be overwrit-
               ten.

BUGS
       Please report bugs to the author.

COPYRIGHT
       Copyright (C) 1997-2013 by Bradford L. Barrett.  Distributed under  the
       GNU  GPL.   See  the files "COPYING" and "Copyright", supplied with all
       distributions for additional information.

AUTHOR
       Bradford L. Barrett <brad at mrunix dot net>

Version 1.00                      12-Jul-2008                         wcmgr(1)