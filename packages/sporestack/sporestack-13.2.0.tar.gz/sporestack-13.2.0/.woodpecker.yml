steps:
  python-3.8:
    image: python:3.8
    commands:
      - pip install pipenv==2023.12.1 tomli
      - pipenv install --dev --deploy
      - pipenv run almake test-typing
      - pipenv run almake test-pytest
      - pipenv run almake build-dist
      - sha256sum dist/*

  python-3.9:
    image: python:3.9
    commands:
      - pip install pipenv==2023.12.1
      - pipenv install --dev --deploy
      - pipenv run almake test-typing
      - pipenv run almake test-pytest
      - pipenv run almake build-dist
      - sha256sum dist/*

  python-3.10:
    image: python:3.10
    commands:
      - pip install pipenv==2023.12.1
      - pipenv install --dev --deploy
      - pipenv run almake test-typing
      - pipenv run almake test-pytest
      - pipenv run almake build-dist
      - sha256sum dist/*

  python-3.11:
    image: python:3.11
    commands:
      - pip install pipenv==2023.12.1
      - pipenv install --dev --deploy
      - pipenv run almake test
      - pipenv run almake build-dist
      - sha256sum dist/*

  python-3.12:
    image: python:3.11
    commands:
      - pip install pipenv==2023.12.1
      - pipenv install --dev --deploy
      - pipenv run almake test
      - pipenv run almake build-dist
      - sha256sum dist/*
